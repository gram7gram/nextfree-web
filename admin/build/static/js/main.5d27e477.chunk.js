(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){e.exports=a.p+"static/media/company-placeholder.b56e3346.png"},126:function(e,t,a){e.exports=a.p+"static/media/scanner.a308c60e.jpg"},130:function(e,t,a){e.exports=a.p+"static/media/store-placeholder.0995afa5.png"},131:function(e,t,a){e.exports=a.p+"static/media/loading.de50e2e9.gif"},134:function(e,t,a){e.exports=a(243)},142:function(e){e.exports={navigation:{logo:"NextFree",logo_footer:"\u0410\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440",register:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f",login:"\u041b\u043e\u0433\u0456\u043d",logout:"\u0412\u0438\u0445\u0456\u0434",qr:"QR \u043a\u043e\u0434",qr_scanner:"QR \u0441\u043a\u0430\u043d\u0435\u0440",qr_scanner_by_id:"\u041f\u043e\u0448\u0443\u043a \u043f\u043e ID",companies:"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u0457",stores:"\u0422\u043e\u0440\u0433\u043e\u0432\u0456 \u0442\u043e\u0447\u043a\u0438",staff:"\u0421\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0438",owners:"\u0412\u043b\u0430\u0441\u043d\u0438\u043a\u0438",customers:"\u041f\u043e\u043a\u0443\u043f\u0446\u0456",profile:"\u041f\u0440\u043e\u0444\u0456\u043b\u044c",profile_security:"\u0411\u0435\u0437\u043f\u0435\u043a\u0430"},profile:{title:"\u041c\u0456\u0439 \u043f\u0440\u043e\u0444\u0456\u043b\u044c",upload_action:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0430\u0432\u0430\u0442\u0430\u0440",enabled_badge:"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439",disabled_badge:"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0439",admin_badge:"\u0410\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440",phone:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",birthday:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f",action:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",firstName:"\u0406\u043c'\u044f",lastName:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",email:"\u0415\u043c\u0435\u0439\u043b",security_title:"\u0411\u0435\u0437\u043f\u0435\u043a\u0430",currentPassword:"\u041f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",password1:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",password2:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"},qr:{help:"\u041f\u0440\u0435\u0434'\u044f\u0432\u0456\u0442\u044c \u0446\u0435\u0439 QR-\u043a\u043e\u0434 \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u044e \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0456 \u0443 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0456 \u043b\u043e\u044f\u043b\u044c\u043d\u043e\u0441\u0442\u0456",help_alt:"\u0430\u0431\u043e \u043f\u0440\u0435\u0434'\u044f\u0432\u0456\u0442\u044c \u0412\u0430\u0448 \u0456\u0434\u0435\u043d\u0442\u0438\u0444\u0456\u043a\u0430\u0442\u043e\u0440, \u0449\u043e \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043d\u0438\u0436\u0447\u0435:"},qr_scanner:{step1:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0442\u043e\u0447\u043a\u0443 \u043f\u0440\u043e\u0434\u0430\u0436\u0443",step2:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u0446\u044f",step3:"\u041e\u0444\u043e\u0440\u043c\u0456\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0443",find_user_action:"\u0417\u043d\u0430\u0439\u0442\u0438",find_user_placeholder:"ID \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430...",store:"\u0422\u043e\u0440\u0433\u043e\u0432\u0430 \u0442\u043e\u0447\u043a\u0430",help:"\u0417\u0447\u0438\u0442\u0430\u0439\u0442\u0435 QR-\u043a\u043e\u0434 \u043f\u043e\u043a\u0443\u043f\u0446\u044f",help_subtitle:"\u041f\u0456\u0434\u043d\u0435\u0441\u0456\u0442\u044c \u043a\u043e\u0434 \u0434\u043e \u043c\u043e\u043d\u0456\u0442\u043e\u0440\u0443 \u0442\u0430 \u0434\u043e\u0447\u0435\u043a\u0430\u0439\u0442\u0435\u0441\u044c \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0444\u043e\u0440\u043c\u0438 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438",no_camera:"\u041a\u0430\u043c\u0435\u0440\u0443 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e",has_camera:"\u041a\u0430\u043c\u0435\u0440\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u0430",checking_camera_permission:"\u0417\u0430\u043f\u0438\u0442 \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u043a\u0430\u043c\u0435\u0440\u0438...",no_camera_permission:"\u0414\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043a\u0430\u043c\u0435\u0440\u0438 \u0437\u0430\u0431\u043e\u0440\u043e\u043d\u0435\u043d\u0438\u0439 \u0412\u0430\u0448\u0438\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u043c",has_camera_permission:"\u0414\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043a\u0430\u043c\u0435\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u0438\u0439",purchase_action:"\u0417\u0430\u0440\u0430\u0445\u0443\u0432\u0430\u0442\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0443",discard:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438",again_action:"\u0421\u043a\u0430\u043d\u0443\u0432\u0430\u0442\u0438",searching:"\u041f\u043e\u0448\u0443\u043a \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u043f\u0440\u043e \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430...",purchase_title_1:"\u041f\u043e\u043a\u0443\u043f\u0446\u044e",purchase_title_2:"\u0431\u0443\u0434\u0435 \u0437\u0430\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u043e \u043f\u043e\u043a\u0443\u043f\u043a\u0443 \u043e\u0434\u0438\u043d\u0438\u0446\u0456 \u0442\u043e\u0432\u0430\u0440\u0443! \u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0434\u0456\u044e!",purchase_bonus_title:"\u0422\u0430\u043a! \u0426\u0435 \u0431\u043e\u043d\u0443\u0441",purchase_bonus_subtitle:"\u041f\u043e\u043a\u0443\u043f\u0435\u0446\u044c __NAME__ \u043e\u0442\u0440\u0438\u043c\u0443\u0454 \u0442\u043e\u0432\u0430\u0440 \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u043e!",purchase_success_title:"\u041d\u0435 \u0431\u043e\u043d\u0443\u0441, \u0430\u043b\u0435 \u043d\u0430 \u0448\u0430\u0433 \u0431\u043b\u0438\u0436\u0447\u0435 \u0434\u043e \u043d\u044c\u043e\u0433\u043e!",purchase_success_subtitle:"\u0427\u0435\u043a\u0430\u0454\u043c\u043e \u043d\u0430 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"},placeholder:{date:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0443",search:"\u0417\u043d\u0430\u0439\u0442\u0438...",select:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f",text:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},validation:{required:"\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435",invalid:"\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0435",invalid_email:"\u0415\u043c\u0435\u0439\u043b \u043d\u0435 \u043f\u043e\u0432\u043d\u043e\u0446\u0456\u043d\u043d\u0438\u0439",password_mismatch:"\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c",strong_password:"\u0427\u0443\u0434\u043e\u0432\u043e! \u041f\u0430\u0440\u043e\u043b\u044c \u0441\u0438\u043b\u044c\u043d\u0438\u0439",weak_password1:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043d\u044c\u043e \u0441\u0438\u043b\u044c\u043d\u0438\u0439"},staff:{title:"\u0421\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0438",new_action:"\u0414\u043e\u0434\u0430\u0442\u0438",enabled_badge:"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439",disabled_badge:"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0439",not_found_title:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"},staff_edit:{position_title:"\u041f\u043e\u0441\u0430\u0434\u0430",upload_action:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0430\u0432\u0430\u0442\u0430\u0440",admin_badge:"\u0410\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440",position_subtitle:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043c\u0456\u0441\u0446\u0435 \u0440\u043e\u0431\u043e\u0442\u0438 \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0430",is_admin_title:"\u042f\u043a \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440, \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u0438 \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c. \u0410\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0438 \u043c\u0430\u044e\u0442\u044c \u043d\u0435\u043e\u0431\u043c\u0435\u0436\u0435\u043d\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u044e",grant_admin_action:"\u041d\u0430\u0434\u0430\u0442\u0438 \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",ungrant_admin_action:"\u0417\u0432\u0456\u043b\u044c\u043d\u0438\u0442\u0438 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",grant_admin_confirm:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",ungrant_admin_confirm:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0437\u0432\u0456\u043b\u044c\u043d\u0435\u043d\u043d\u044f \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",security_title:"\u0411\u0435\u0437\u043f\u0435\u043a\u0430",security_subtitle:"\u042f\u043a \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440, \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043b\u0430\u0441\u043d\u043e\u0440\u0443\u0447 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0443",remove_content:"\u041f\u043e\u0432\u043d\u0435 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0430 \u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u0438. \u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0412\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u043b\u0438\u0448\u0435 \u0442\u0438\u043c\u0447\u0430\u0441\u043e\u0432\u043e \u043e\u0431\u043c\u0435\u0436\u0438\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0443 \u0434\u043e \u0441\u0438\u0441\u0442\u0435\u043c\u0438? \u0422\u043e\u0434\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 '\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438'",remove_action:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",remove_confirm_title:"\u0411\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430, \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f",password1:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",password2:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",firstName:"\u0406\u043c'\u044f",lastName:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",email:"\u0415\u043c\u0435\u0439\u043b",phone:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",birthday:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f",position:"\u041f\u043e\u0441\u0430\u0434\u0430",store:"\u0422\u043e\u0440\u0433\u043e\u0432\u0430 \u0442\u043e\u0447\u043a\u0430",company:"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f",save_action:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",activate_action:"\u0410\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438",deactivate_action:"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438"},store:{title:"\u0422\u043e\u0440\u0433\u043e\u0432\u0456 \u0442\u043e\u0447\u043a\u0438",new_action:"\u0414\u043e\u0434\u0430\u0442\u0438",enabled_badge:"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439",disabled_badge:"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0439",not_found_title:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"},store_edit:{title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f",new_title:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u043e\u0447\u043a\u0438 \u043f\u0440\u043e\u0434\u0430\u0436\u0443",company:"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f",address:"\u0410\u0434\u0440\u0435\u0441\u0430",city:"\u041c\u0456\u0441\u0442\u043e",coordinates:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0438",lat:"Latitude",lng:"Longitude",conditions_title:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0443\u043c\u043e\u0432\u0443 \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u0457 \u043f\u0440\u043e\u0434\u0430\u0436\u0456",conditions_subtitle:"\u042f\u043a\u0449\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0456 \u0432\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f \u0431\u043e\u043d\u0443\u0441\u043d\u0430 \u0443\u043c\u043e\u0432\u0430, \u0442\u043e \u0446\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u0432\u0432\u0430\u0436\u0430\u0454\u0442\u044c\u0441\u044f \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u044e. \u0421\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u0454 \u0437 \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u044e \u0443\u043c\u043e\u0432\u043e\u044e \u0437 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457, \u0434\u043e \u044f\u043a\u043e\u0457 \u043d\u0430\u043b\u0435\u0436\u0438\u0442\u044c \u0442\u043e\u0447\u043a\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443, \u0430\u043b\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u0430 \u0456\u043d\u0434\u0438\u0432\u0456\u0434\u0443\u0430\u043b\u044c\u043d\u043e.",save_action:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",activate_action:"\u0410\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438",deactivate_action:"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438"},customer:{title:"\u041f\u043e\u043a\u0443\u043f\u0446\u0456",new_action:"\u0414\u043e\u0434\u0430\u0442\u0438",enabled_badge:"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439",disabled_badge:"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0439",not_found_title:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"},customer_edit:{security_title:"\u0411\u0435\u0437\u043f\u0435\u043a\u0430",upload_action:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0430\u0432\u0430\u0442\u0430\u0440",admin_badge:"\u0410\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440",security_subtitle:"\u042f\u043a \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440, \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043b\u0430\u0441\u043d\u043e\u0440\u0443\u0447 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u043a\u0443\u043f\u0446\u044e",is_admin_title:"\u042f\u043a \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440, \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u0438 \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c. \u0410\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0438 \u043c\u0430\u044e\u0442\u044c \u043d\u0435\u043e\u0431\u043c\u0435\u0436\u0435\u043d\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u044e",grant_admin_action:"\u041d\u0430\u0434\u0430\u0442\u0438 \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",ungrant_admin_action:"\u0417\u0432\u0456\u043b\u044c\u043d\u0438\u0442\u0438 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",grant_admin_confirm:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",ungrant_admin_confirm:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0437\u0432\u0456\u043b\u044c\u043d\u0435\u043d\u043d\u044f \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",remove_content:"\u041f\u043e\u0432\u043d\u0435 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043f\u043e\u043a\u0443\u043f\u0446\u044f \u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u0438. \u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0412\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u043b\u0438\u0448\u0435 \u0442\u0438\u043c\u0447\u0430\u0441\u043e\u0432\u043e \u043e\u0431\u043c\u0435\u0436\u0438\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u043f\u043e\u043a\u0443\u043f\u0446\u044e \u0434\u043e \u0441\u0438\u0441\u0442\u0435\u043c\u0438? \u0422\u043e\u0434\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 '\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438'",remove_action:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",remove_confirm_title:"\u0411\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430, \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f",password1:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",password2:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",firstName:"\u0406\u043c'\u044f",lastName:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",email:"\u0415\u043c\u0435\u0439\u043b",phone:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",birthday:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f",save_action:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",activate_action:"\u0410\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438",deactivate_action:"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438"},owner:{title:"\u0412\u043b\u0430\u0441\u043d\u0438\u043a\u0438",new_action:"\u0414\u043e\u0434\u0430\u0442\u0438",enabled_badge:"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439",disabled_badge:"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0439",not_found_title:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"},owner_edit:{security_title:"\u0411\u0435\u0437\u043f\u0435\u043a\u0430",upload_action:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0430\u0432\u0430\u0442\u0430\u0440",admin_badge:"\u0410\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440",security_subtitle:"\u042f\u043a \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440, \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043b\u0430\u0441\u043d\u043e\u0440\u0443\u0447 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0432\u043b\u0430\u0441\u043d\u0438\u043a\u0443",is_admin_title:"\u042f\u043a \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440, \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u0438 \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c. \u0410\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0438 \u043c\u0430\u044e\u0442\u044c \u043d\u0435\u043e\u0431\u043c\u0435\u0436\u0435\u043d\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u044e",grant_admin_action:"\u041d\u0430\u0434\u0430\u0442\u0438 \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",ungrant_admin_action:"\u0417\u0432\u0456\u043b\u044c\u043d\u0438\u0442\u0438 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",grant_admin_confirm:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",ungrant_admin_confirm:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0437\u0432\u0456\u043b\u044c\u043d\u0435\u043d\u043d\u044f \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",remove_content:"\u041f\u043e\u0432\u043d\u0435 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u0432\u043b\u0430\u0441\u043d\u0438\u043a\u0430 \u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u0438. \u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0412\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u043b\u0438\u0448\u0435 \u0442\u0438\u043c\u0447\u0430\u0441\u043e\u0432\u043e \u043e\u0431\u043c\u0435\u0436\u0438\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0432\u043b\u0430\u0441\u043d\u0438\u043a\u0443 \u0434\u043e \u0441\u0438\u0441\u0442\u0435\u043c\u0438? \u0422\u043e\u0434\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 '\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438'",remove_action:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",remove_confirm_title:"\u0411\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430, \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f",password1:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",password2:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",firstName:"\u0406\u043c'\u044f",lastName:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",email:"\u0415\u043c\u0435\u0439\u043b",phone:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",birthday:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f",save_action:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",activate_action:"\u0410\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438",deactivate_action:"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438"},company:{title:"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u0457",search_action:"\u041f\u043e\u0448\u0443\u043a",new_action:"\u0414\u043e\u0434\u0430\u0442\u0438",not_found_title:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"},company_edit:{title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f",upload_action:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043b\u043e\u0433\u043e\u0442\u0438\u043f",new_title:"\u041d\u043e\u0432\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u044f",name:"\u041d\u0430\u0437\u0432\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457",owner:"\u0412\u043b\u0430\u0441\u043d\u0438\u043a",conditions_title:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0443\u043c\u043e\u0432\u0443 \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u0457 \u043f\u0440\u043e\u0434\u0430\u0436\u0456",conditions_subtitle:"\u042f\u043a\u0449\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0456 \u0432\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f \u0431\u043e\u043d\u0443\u0441\u043d\u0430 \u0443\u043c\u043e\u0432\u0430, \u0442\u043e \u0446\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u0432\u0432\u0430\u0436\u0430\u0454\u0442\u044c\u0441\u044f \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u044e. \u0417\u043c\u0456\u043d\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0443\u043c\u043e\u0432\u0438 \u0443 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 \u043e\u043d\u043e\u0432\u0438\u0442\u044c \u0443\u043c\u043e\u0432\u0443 \u0443 \u0442\u043e\u0440\u0433\u043e\u0432\u0438\u0445 \u0442\u043e\u0447\u043a\u0430\u0445 \u0446\u0456\u0454\u0457 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457.",save_action:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",activate_action:"\u0410\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438",deactivate_action:"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0443\u0432\u0430\u0442\u0438"},footer:{resources:"\u041a\u043e\u0440\u0438\u0441\u043d\u043e \u0437\u043d\u0430\u0442\u0438",privacy:"\u0423\u0433\u043e\u0434\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",contact:"\u0417\u0432\u043e\u0440\u043e\u0442\u043d\u0456\u0439 \u0437\u0432'\u044f\u0437\u043e\u043a"},notification:{remove_success:"\u0412\u0438\u0434\u0435\u043b\u0435\u043d\u043e!",save_success:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e!"},login:{title:"NextFree",login:"\u0415\u043c\u0435\u0439\u043b",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0435\u043c\u0435\u0439\u043b",password:"\u041f\u0430\u0440\u043e\u043b\u044c",action:"\u0423\u0432\u0456\u0439\u0442\u0438",subtitle:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f \u0431\u043e\u043d\u0443\u0441\u0430\u043c\u0438 \u0434\u043b\u044f \u0432\u043b\u0430\u0441\u043d\u0438\u043a\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457"},home:{welcome_title:"\u041b\u0430\u0441\u043a\u0430\u0432\u043e \u043f\u0440\u043e\u0441\u0438\u043c\u043e, _NAME_!",action:"\u0412\u0456\u0434\u043a\u0440\u0438\u0442\u0438 \u0441\u043a\u0430\u043d\u0435\u0440",ios_warning:"\u0423\u0432\u0430\u0433\u0430! \u0414\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043a\u0430\u043c\u0435\u0440\u0438 iPhone \u043d\u0430\u0440\u0430\u0437\u0456 \u043d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u0438\u0439. \u0411\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430, \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435 \u0456\u043d\u0448\u0438\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 (\u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434 Chrome)"},view_error:{title:"\u041d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e. \u0412\u0438\u0431\u0430\u0447\u0442\u0435",subtitle:"\u30fd(`\u2312\xb4\u30e1)\u30ce"}}},192:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(45),s=a(6),o=a(9),i=a(133),l=a(121),d=a(122),u=a(115),m=a(32),p=a(58),f=a.n(p),v=a(12),E=a(60),h=a.n(E),b={ua:function(){return a(142)}},g=h.a,y=a(2),w=a.n(y),N=a(1),O="Login/LOGOUT",_="Login/LOGIN_SUCCESS",S="Login/LOGIN_FAILURE",C="Login/LOGIN_CHECK_SUCCESS",j="Login/LOGIN_CHECK_FAILURE",A="Login/CREDENTIALS_CHANGED",x="Login/LOGIN_VALIDATE_REQUEST",k=function(e,t){return function(t){var a=function(e){var t={total:0,errors:{}};return e.email||++t.total,e.password||++t.total,t}(e);return 0===a.total?t({type:"Login/LOGIN_VALIDATE_SUCCESS"}):t({type:"Login/LOGIN_VALIDATE_FAILURE",payload:a}),a}},I=w.a.mark(T),R=w.a.mark(L),F=w.a.mark(P);function T(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:x});case 2:case"end":return e.stop()}},I)}function L(){var e;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.d)();case 2:return e=t.sent,t.next=5,Object(N.c)(k(e.Login));case 5:case"end":return t.stop()}},R)}function P(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)([A],T),Object(N.g)(400,x,L)]);case 2:case"end":return e.stop()}},F)}var D=a(28),U="/",V="/profile",H="/profile/security",q="/qr",B="/scan",M="/scan-by-id",Q="/stores",G="/stores/new",z="/stores/:id/edit",Y="/companies",K="/companies/new",J="/companies/:id/edit",W="/staff",X="/staff/:id/edit",Z="/staff/new",$="/owners",ee="/owners/:id/edit",te="/owners/new",ae="/customers",re="/customers/:id/edit",ne="/customers/new",ce=w.a.mark(ie),se=w.a.mark(le),oe=w.a.mark(de);function ie(e){var t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,f.a.set("token",t.token),r.next=4,Object(N.d)(function(e){return e.router.location.pathname});case 4:return a=r.sent,r.next=7,Object(N.c)(Object(D.d)(a));case 7:case"end":return r.stop()}},ce)}function le(){var e;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f.a.remove("token"),t.next=3,Object(N.d)(function(e){return e.router.location.pathname});case 3:return e=t.sent,t.next=6,Object(N.c)(Object(D.d)(e));case 6:case"end":return t.stop()}},se)}function de(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.f)([_,C],ie),Object(N.f)([O,j],le)]);case 2:case"end":return e.stop()}},oe)}var ue=w.a.mark(me);function me(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(P),Object(N.b)(de)]);case 2:case"end":return e.stop()}},ue)}var pe="Profile/FETCH_BEFORE",fe="Profile/FETCH_SUCCESS",ve="Profile/SAVE_SUCCESS",Ee="Profile/SAVE_FAILURE",he="Profile/VALIDATE_REQUEST",be="Profile/MODEL_CHANGED",ge=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.user.firstName||(++a.total,t["user.firstName"]&&(a.errors["user.firstName"]=g.t("validation.required"))),e.user.lastName||(++a.total,t["user.lastName"]&&(a.errors["user.lastName"]=g.t("validation.required"))),a}(e,t);return 0===a.total?{type:"Profile/VALIDATE_SUCCESS"}:{type:"Profile/VALIDATE_FAILURE",payload:a}},ye=w.a.mark(Oe),we=w.a.mark(_e),Ne=w.a.mark(Se);function Oe(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:he});case 2:case"end":return e.stop()}},ye)}function _e(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.Profile});case 2:return e=r.sent,t=e.model,a=e.changes,r.next=7,Object(N.c)(ge(t,a));case 7:case"end":return r.stop()}},we)}function Se(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.g)(400,[be,fe],Oe),Object(N.e)(he,_e)]);case 2:case"end":return e.stop()}},Ne)}var Ce=a(22),je=w.a.mark(xe);function Ae(){Ce.b.success(g.t("notification.save_success"),{position:Ce.b.POSITION.TOP_RIGHT})}function xe(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(ve,Ae)]);case 2:case"end":return e.stop()}},je)}var ke=w.a.mark(Ie);function Ie(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Se),Object(N.b)(xe)]);case 2:case"end":return e.stop()}},ke)}var Re="ProfileSecurity/SAVE_SUCCESS",Fe="ProfileSecurity/VALIDATE_REQUEST",Te="ProfileSecurity/MODEL_CHANGED",Le="ProfileSecurity/RESET",Pe=a(125),De=new(a.n(Pe).a);De.is().min(8).is().max(100).has().not().spaces();var Ue=De,Ve=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.password1&&!Ue.validate(e.password1)&&(++a.total,t.password1&&(a.errors.password1=g.t("validation.weak_password1"))),e.password1&&e.password2&&e.password1!==e.password2&&(++a.total,t.password2&&(a.errors.password2=g.t("validation.password_mismatch"))),a}(e,t);return 0===a.total?{type:"ProfileSecurity/VALIDATE_SUCCESS"}:{type:"ProfileSecurity/VALIDATE_FAILURE",payload:a}},He=w.a.mark(Me),qe=w.a.mark(Qe),Be=w.a.mark(Ge);function Me(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:Fe});case 2:case"end":return e.stop()}},He)}function Qe(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.ProfileSecurity});case 2:return e=r.sent,t=e.model,a=e.changes,r.next=7,Object(N.c)(Ve(t,a));case 7:case"end":return r.stop()}},qe)}function Ge(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.g)(400,[Te],Me),Object(N.e)(Fe,Qe)]);case 2:case"end":return e.stop()}},Be)}var ze=w.a.mark(Ke);function Ye(){Ce.b.success(g.t("notification.save_success"),{position:Ce.b.POSITION.TOP_RIGHT})}function Ke(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(Re,Ye)]);case 2:case"end":return e.stop()}},ze)}var Je=w.a.mark(We);function We(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Ge),Object(N.b)(Ke)]);case 2:case"end":return e.stop()}},Je)}var Xe="Staff/FILTER_CHANGED",Ze=a(7),$e=a.n(Ze),et="production",tt={development:{host:"http://192.168.1.105:8085",storageHost:"http://192.168.1.105:8086",apiHost:"http://192.168.1.105:8081"},production:{host:"https://admin.nextfree.com.ua",storageHost:"https://storage.nextfree.com.ua",apiHost:"https://api.nextfree.com.ua"}};if(void 0===tt[et])throw new Error("Missing parameters for ".concat(et," environment"));var at=tt[et],rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return function(r,n){var c=n().App.token,s=["page="+t,"limit="+a];e.search&&s.push("filter[search]=".concat(e.search.trim().toLowerCase())),r({type:"Staff/FETCH_BEFORE"}),$e.a.get(at.apiHost+"/api/v1/admin/staff?"+s.join("&"),{headers:{Authorization:c}}).then(function(e){var t=e.data;r({type:"Staff/FETCH_SUCCESS",payload:t})}).catch(function(e){console.log(e),r({type:"Staff/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},nt=w.a.mark(st),ct=w.a.mark(ot);function st(e){var t,a,r,n,c;return w.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.next=3,Object(N.d)(function(e){return e.Staff});case 3:return a=s.sent,r=t.page||a.page,n=t.limit||a.limit,c={search:void 0!==t.search?t.search:a.search},s.next=9,Object(N.c)(rt(c,r,n));case 9:case"end":return s.stop()}},nt)}function ot(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(Xe,st)]);case 2:case"end":return e.stop()}},ct)}var it=w.a.mark(lt);function lt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(ot)]);case 2:case"end":return e.stop()}},it)}var dt="StaffEdit/FETCH_SUCCESS",ut="StaffEdit/SAVE_SUCCESS",mt="StaffEdit/VALIDATE_REQUEST",pt="StaffEdit/REMOVE_SUCCESS",ft="StaffEdit/MODEL_CHANGED",vt="StaffEdit/RESET",Et=a(55),ht=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.user.email?Object(Et.validate)(e.user.email)||(++a.total,t["user.email"]&&(a.errors["user.email"]=g.t("validation.invalid_email"))):(++a.total,t["user.email"]&&(a.errors["user.email"]=g.t("validation.required"))),e.companyId||(++a.total,t.companyId&&(a.errors.companyId=g.t("validation.required"))),e.storeId||(++a.total,t.storeId&&(a.errors.storeId=g.t("validation.required"))),e.position||(++a.total,t.position&&(a.errors.position=g.t("validation.required"))),e.user.firstName||(++a.total,t["user.firstName"]&&(a.errors["user.firstName"]=g.t("validation.required"))),e.user.lastName||(++a.total,t["user.lastName"]&&(a.errors["user.lastName"]=g.t("validation.required"))),e.id||e.password1||(++a.total,t.password1&&(a.errors.password1=g.t("validation.required"))),e.password1&&!Ue.validate(e.password1)&&(++a.total,t.password1&&(a.errors.password1=g.t("validation.weak_password1"))),e.password1&&e.password2&&e.password1!==e.password2&&(++a.total,t.password2&&(a.errors.password2=g.t("validation.password_mismatch"))),a}(e,t);return 0===a.total?{type:"StaffEdit/VALIDATE_SUCCESS"}:{type:"StaffEdit/VALIDATE_FAILURE",payload:a}},bt=w.a.mark(wt),gt=w.a.mark(Nt),yt=w.a.mark(Ot);function wt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:mt});case 2:case"end":return e.stop()}},bt)}function Nt(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.StaffEdit});case 2:return e=r.sent,t=e.model,a=e.changes,r.next=7,Object(N.c)(ht(t,a));case 7:case"end":return r.stop()}},gt)}function Ot(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.g)(400,[ft,dt],wt),Object(N.e)(mt,Nt)]);case 2:case"end":return e.stop()}},yt)}var _t=w.a.mark(jt);function St(){Ce.b.success(g.t("notification.save_success"),{position:Ce.b.POSITION.TOP_RIGHT})}function Ct(){Ce.b.success(g.t("notification.remove_success"),{position:Ce.b.POSITION.TOP_RIGHT})}function jt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(ut,St),Object(N.e)(pt,Ct)]);case 2:case"end":return e.stop()}},_t)}var At=w.a.mark(kt),xt=w.a.mark(It);function kt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)(Object(D.d)(W));case 2:case"end":return e.stop()}},At)}function It(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(pt,kt)]);case 2:case"end":return e.stop()}},xt)}var Rt=w.a.mark(Ft);function Ft(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Ot),Object(N.b)(jt),Object(N.b)(It)]);case 2:case"end":return e.stop()}},Rt)}var Tt="Store/FILTER_CHANGED",Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(r,n){var c=n().App.token,s=["page="+t,"limit="+a];e.search&&s.push("filter[search]=".concat(e.search.trim().toLowerCase())),r({type:"Store/FETCH_BEFORE"}),$e.a.get(at.apiHost+"/api/v1/admin/stores?"+s.join("&"),{headers:{Authorization:c}}).then(function(e){var t=e.data;r({type:"Store/FETCH_SUCCESS",payload:t})}).catch(function(e){console.log(e),r({type:"Store/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},Pt=w.a.mark(Ut),Dt=w.a.mark(Vt);function Ut(e){var t,a,r,n,c;return w.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.next=3,Object(N.d)(function(e){return e.Store});case 3:return a=s.sent,r=t.page||a.page,n=t.limit||a.limit,c={search:void 0!==t.search?t.search:a.search},s.next=9,Object(N.c)(Lt(c,r,n));case 9:case"end":return s.stop()}},Pt)}function Vt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(Tt,Ut)]);case 2:case"end":return e.stop()}},Dt)}var Ht=w.a.mark(qt);function qt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Vt)]);case 2:case"end":return e.stop()}},Ht)}var Bt="StoreEdit/FETCH_SUCCESS",Mt="StoreEdit/SAVE_SUCCESS",Qt="StoreEdit/VALIDATE_REQUEST",Gt="StoreEdit/MODEL_CHANGED",zt=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.companyId||(++a.total,t.companyId&&(a.errors.companyId=g.t("validation.required"))),e.city||(++a.total,t.city&&(a.errors.city=g.t("validation.required"))),e.address||(++a.total,t.address&&(a.errors.address=g.t("validation.required"))),a}(e,t);return 0===a.total?{type:"StoreEdit/VALIDATE_SUCCESS"}:{type:"StoreEdit/VALIDATE_FAILURE",payload:a}},Yt=w.a.mark(Wt),Kt=w.a.mark(Xt),Jt=w.a.mark(Zt);function Wt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:Qt});case 2:case"end":return e.stop()}},Yt)}function Xt(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.StoreEdit});case 2:return e=r.sent,t=e.model,a=e.changes,r.next=7,Object(N.c)(zt(t,a));case 7:case"end":return r.stop()}},Kt)}function Zt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.g)(400,[Gt,Bt],Wt),Object(N.e)(Qt,Xt)]);case 2:case"end":return e.stop()}},Jt)}var $t=w.a.mark(ta);function ea(){Ce.b.success(g.t("notification.save_success"),{position:Ce.b.POSITION.TOP_RIGHT})}function ta(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(Mt,ea)]);case 2:case"end":return e.stop()}},$t)}var aa=w.a.mark(ra);function ra(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Zt),Object(N.b)(ta)]);case 2:case"end":return e.stop()}},aa)}var na="Company/FILTER_CHANGED",ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(r,n){var c=n().App.token,s=["page="+t,"limit="+a];e.search&&s.push("filter[search]=".concat(e.search.trim().toLowerCase())),r({type:"Company/FETCH_BEFORE"}),$e.a.get(at.apiHost+"/api/v1/admin/companies?"+s.join("&"),{headers:{Authorization:c}}).then(function(e){var t=e.data;r({type:"Company/FETCH_SUCCESS",payload:t})}).catch(function(e){console.log(e),r({type:"Company/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},sa=w.a.mark(ia),oa=w.a.mark(la);function ia(e){var t,a,r,n,c;return w.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.next=3,Object(N.d)(function(e){return e.Company});case 3:return a=s.sent,r=t.page||a.page,n=t.limit||a.limit,c={search:void 0!==t.search?t.search:a.search},s.next=9,Object(N.c)(ca(c,r,n));case 9:case"end":return s.stop()}},sa)}function la(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.f)(na,ia)]);case 2:case"end":return e.stop()}},oa)}var da=w.a.mark(ua);function ua(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(la)]);case 2:case"end":return e.stop()}},da)}var ma="CompanyEdit/FETCH_SUCCESS",pa="CompanyEdit/SAVE_SUCCESS",fa="CompanyEdit/VALIDATE_REQUEST",va="CompanyEdit/MODEL_CHANGED",Ea=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.name||(++a.total,t.name&&(a.errors.name=g.t("validation.required"))),e.ownerId||(++a.total,t.ownerId&&(a.errors.ownerId=g.t("validation.required"))),a}(e,t);return 0===a.total?{type:"CompanyEdit/VALIDATE_SUCCESS"}:{type:"CompanyEdit/VALIDATE_FAILURE",payload:a}},ha=w.a.mark(ya),ba=w.a.mark(wa),ga=w.a.mark(Na);function ya(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:fa});case 2:case"end":return e.stop()}},ha)}function wa(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.CompanyEdit});case 2:return e=r.sent,t=e.model,a=e.changes,r.next=7,Object(N.c)(Ea(t,a));case 7:case"end":return r.stop()}},ba)}function Na(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.g)(400,[va,ma],ya),Object(N.e)(fa,wa)]);case 2:case"end":return e.stop()}},ga)}var Oa=w.a.mark(Sa);function _a(){Ce.b.success(g.t("notification.save_success"),{position:Ce.b.POSITION.TOP_RIGHT})}function Sa(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(pa,_a)]);case 2:case"end":return e.stop()}},Oa)}var Ca=w.a.mark(ja);function ja(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Na),Object(N.b)(Sa)]);case 2:case"end":return e.stop()}},Ca)}var Aa="Customer/FILTER_CHANGED",xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(r,n){var c=n().App.token,s=["page="+t,"limit="+a];e.search&&s.push("filter[search]=".concat(e.search.trim().toLowerCase())),r({type:"Customer/FETCH_BEFORE"}),$e.a.get(at.apiHost+"/api/v1/admin/customers?"+s.join("&"),{headers:{Authorization:c}}).then(function(e){var t=e.data;r({type:"Customer/FETCH_SUCCESS",payload:t})}).catch(function(e){console.log(e),r({type:"Customer/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},ka=w.a.mark(Ra),Ia=w.a.mark(Fa);function Ra(e){var t,a,r,n,c;return w.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.next=3,Object(N.d)(function(e){return e.Customer});case 3:return a=s.sent,r=t.page||a.page,n=t.limit||a.limit,c={search:void 0!==t.search?t.search:a.search},s.next=9,Object(N.c)(xa(c,r,n));case 9:case"end":return s.stop()}},ka)}function Fa(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(Aa,Ra)]);case 2:case"end":return e.stop()}},Ia)}var Ta=w.a.mark(La);function La(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Fa)]);case 2:case"end":return e.stop()}},Ta)}var Pa="CustomerEdit/FETCH_SUCCESS",Da="CustomerEdit/SAVE_SUCCESS",Ua="CustomerEdit/VALIDATE_REQUEST",Va="CustomerEdit/REMOVE_SUCCESS",Ha="CustomerEdit/MODEL_CHANGED",qa=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.user.email?Object(Et.validate)(e.user.email)||(++a.total,t["user.email"]&&(a.errors["user.email"]=g.t("validation.invalid_email"))):(++a.total,t["user.email"]&&(a.errors["user.email"]=g.t("validation.required"))),e.user.firstName||(++a.total,t["user.firstName"]&&(a.errors["user.firstName"]=g.t("validation.required"))),e.id||e.password1||(++a.total,t.password1&&(a.errors.password1=g.t("validation.required"))),e.password1&&!Ue.validate(e.password1)&&(++a.total,t.password1&&(a.errors.password1=g.t("validation.weak_password1"))),e.password1&&e.password2&&e.password1!==e.password2&&(++a.total,t.password2&&(a.errors.password2=g.t("validation.password_mismatch"))),a}(e,t);return 0===a.total?{type:"CustomerEdit/VALIDATE_SUCCESS"}:{type:"CustomerEdit/VALIDATE_FAILURE",payload:a}},Ba=w.a.mark(Ga),Ma=w.a.mark(za),Qa=w.a.mark(Ya);function Ga(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:Ua});case 2:case"end":return e.stop()}},Ba)}function za(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.CustomerEdit});case 2:return e=r.sent,t=e.model,a=e.changes,r.next=7,Object(N.c)(qa(t,a));case 7:case"end":return r.stop()}},Ma)}function Ya(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.g)(400,[Ha,Pa],Ga),Object(N.e)(Ua,za)]);case 2:case"end":return e.stop()}},Qa)}var Ka=w.a.mark(Xa);function Ja(){Ce.b.success(g.t("notification.save_success"),{position:Ce.b.POSITION.TOP_RIGHT})}function Wa(){Ce.b.success(g.t("notification.remove_success"),{position:Ce.b.POSITION.TOP_RIGHT})}function Xa(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(Da,Ja),Object(N.e)(Va,Wa)]);case 2:case"end":return e.stop()}},Ka)}var Za=w.a.mark(er),$a=w.a.mark(tr);function er(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)(Object(D.d)(ae));case 2:case"end":return e.stop()}},Za)}function tr(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(Va,er)]);case 2:case"end":return e.stop()}},$a)}var ar=w.a.mark(rr);function rr(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Ya),Object(N.b)(Xa),Object(N.b)(tr)]);case 2:case"end":return e.stop()}},ar)}var nr="Owner/FILTER_CHANGED",cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(r,n){var c=n().App.token,s=["page="+t,"limit="+a];e.search&&s.push("filter[search]=".concat(e.search.trim().toLowerCase())),r({type:"Owner/FETCH_BEFORE"}),$e.a.get(at.apiHost+"/api/v1/admin/owners?"+s.join("&"),{headers:{Authorization:c}}).then(function(e){var t=e.data;r({type:"Owner/FETCH_SUCCESS",payload:t})}).catch(function(e){console.log(e),r({type:"Owner/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},sr=w.a.mark(ir),or=w.a.mark(lr);function ir(e){var t,a,r,n,c;return w.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.next=3,Object(N.d)(function(e){return e.Owner});case 3:return a=s.sent,r=t.page||a.page,n=t.limit||a.limit,c={search:void 0!==t.search?t.search:a.search},s.next=9,Object(N.c)(cr(c,r,n));case 9:case"end":return s.stop()}},sr)}function lr(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(nr,ir)]);case 2:case"end":return e.stop()}},or)}var dr=w.a.mark(ur);function ur(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(lr)]);case 2:case"end":return e.stop()}},dr)}var mr="OwnerEdit/FETCH_SUCCESS",pr="OwnerEdit/SAVE_SUCCESS",fr="OwnerEdit/VALIDATE_REQUEST",vr="OwnerEdit/REMOVE_SUCCESS",Er="OwnerEdit/MODEL_CHANGED",hr=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.user.email?Object(Et.validate)(e.user.email)||(++a.total,t["user.email"]&&(a.errors["user.email"]=g.t("validation.invalid_email"))):(++a.total,t["user.email"]&&(a.errors["user.email"]=g.t("validation.required"))),e.user.firstName||(++a.total,t["user.firstName"]&&(a.errors["user.firstName"]=g.t("validation.required"))),e.user.lastName||(++a.total,t["user.lastName"]&&(a.errors["user.lastName"]=g.t("validation.required"))),e.id||e.password1||(++a.total,t.password1&&(a.errors.password1=g.t("validation.required"))),e.password1&&!Ue.validate(e.password1)&&(++a.total,t.password1&&(a.errors.password1=g.t("validation.weak_password1"))),e.password1&&e.password2&&e.password1!==e.password2&&(++a.total,t.password2&&(a.errors.password2=g.t("validation.password_mismatch"))),a}(e,t);return 0===a.total?{type:"OwnerEdit/VALIDATE_SUCCESS"}:{type:"OwnerEdit/VALIDATE_FAILURE",payload:a}},br=w.a.mark(wr),gr=w.a.mark(Nr),yr=w.a.mark(Or);function wr(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:fr});case 2:case"end":return e.stop()}},br)}function Nr(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.OwnerEdit});case 2:return e=r.sent,t=e.model,a=e.changes,r.next=7,Object(N.c)(hr(t,a));case 7:case"end":return r.stop()}},gr)}function Or(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.g)(400,[Er,mr],wr),Object(N.e)(fr,Nr)]);case 2:case"end":return e.stop()}},yr)}var _r=w.a.mark(jr);function Sr(){Ce.b.success(g.t("notification.save_success"),{position:Ce.b.POSITION.TOP_RIGHT})}function Cr(){Ce.b.success(g.t("notification.remove_success"),{position:Ce.b.POSITION.TOP_RIGHT})}function jr(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(pr,Sr),Object(N.e)(vr,Cr)]);case 2:case"end":return e.stop()}},_r)}var Ar=w.a.mark(kr),xr=w.a.mark(Ir);function kr(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)(Object(D.d)($));case 2:case"end":return e.stop()}},Ar)}function Ir(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(vr,kr)]);case 2:case"end":return e.stop()}},xr)}var Rr=w.a.mark(Fr);function Fr(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Or),Object(N.b)(jr),Object(N.b)(Ir)]);case 2:case"end":return e.stop()}},Rr)}var Tr="QRScanner/FETCH_USER_SUCCESS",Lr="QRScanner/MODEL_CHANGED",Pr="QRScanner/RESET",Dr="QRScanner/SET_DEFAULTS",Ur=w.a.mark(Hr),Vr=w.a.mark(qr);function Hr(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.App});case 2:return e=r.sent,t=e.defaultCompany,a=e.defaultStore,r.next=7,Object(N.c)({type:Pr});case 7:return r.next=9,Object(N.c)({type:Lr,payload:{companyId:t?t._id:null,storeId:a?a._id:null,displayId:null,userId:null,user:null}});case 9:case"end":return r.stop()}},Ur)}function qr(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(Dr,Hr)]);case 2:case"end":return e.stop()}},Vr)}var Br=w.a.mark(Mr);function Mr(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(qr)]);case 2:case"end":return e.stop()}},Br)}var Qr=w.a.mark(Gr);function Gr(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(me),Object(N.b)(Ie),Object(N.b)(We),Object(N.b)(lt),Object(N.b)(Ft),Object(N.b)(qt),Object(N.b)(ra),Object(N.b)(ua),Object(N.b)(ja),Object(N.b)(La),Object(N.b)(rr),Object(N.b)(ur),Object(N.b)(Fr),Object(N.b)(Mr)]);case 2:case"end":return e.stop()}},Qr)}var zr=a(44),Yr=Object(o.c)({isLoadingVisible:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Login/LOGIN_CHECK_BEFORE":return!0;case C:case j:return!1;default:return e}},isAuthenticated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case _:case C:return!0;case O:case S:case"Login/LOGIN_BEFORE":case"Login/LOGIN_CHECK_BEFORE":case j:return!1;default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case C:return void 0!==t.payload.token?t.payload.token:null;case O:case S:case j:return null;default:return e}},isOwner:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case C:return void 0!==t.payload.isOwner&&t.payload.isOwner;case O:case S:case j:return!1;default:return e}},isCustomer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case C:return void 0!==t.payload.isCustomer&&t.payload.isCustomer;case O:case S:case j:return!1;default:return e}},isStaff:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case C:return void 0!==t.payload.isStaff&&t.payload.isStaff;case O:case S:case j:return!1;default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case C:return void 0!==t.payload.user?t.payload.user:null;case O:case S:case j:return null;default:return e}},defaultStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case C:return void 0!==t.payload.store?t.payload.store:null;case O:case S:case j:return null;default:return e}},defaultCompany:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case C:return void 0!==t.payload.company?t.payload.company:null;case O:case S:case j:return null;default:return e}},locale:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}),Kr=Object(o.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"App/FETCH_BONUS_CONDITIONS_SUCCESS":return t.payload.items;default:return e}}}),Jr=Object(o.c)({isMobileMenuVisible:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@router/LOCATION_CHANGE":return!1;case"Login/TOGGLE_MENU":return!!t.payload;default:return e}}}),Wr=Object(o.c)({email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return void 0!==t.payload.email?t.payload.email:e;default:return e}},password:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case C:return null;case A:return void 0!==t.payload.password?t.payload.password:e;default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Login/LOGIN_BEFORE":case _:case"Login/LOGIN_VALIDATE_SUCCESS":return[];case S:var a=t.payload.data;return a&&void 0!==a.message?[t.payload.data.message]:[];default:return e}},isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Login/LOGIN_VALIDATE_FAILURE":case _:return!1;case"Login/LOGIN_VALIDATE_SUCCESS":return!0;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Login/LOGIN_BEFORE":return!0;case _:case S:return!1;default:return e}}}),Xr=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:case ve:return void 0!==t.flatten["user._id"]?t.flatten["user._id"]:null;default:return e}},displayId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:case ve:return void 0!==t.flatten["user.displayId"]?t.flatten["user.displayId"]:null;default:return e}},avatar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:case ve:return void 0!==t.flatten["user.avatar"]?t.flatten["user.avatar"]:null;case be:return void 0!==t.payload["user.avatar"]?t.payload["user.avatar"]:e;default:return e}},isAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:case ve:return void 0!==t.flatten["user.isAdmin"]?t.flatten["user.isAdmin"]:null;default:return e}},email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:case fe:return void 0!==t.flatten["user.email"]?t.flatten["user.email"]:null;default:return e}},firstName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:case fe:return void 0!==t.flatten["user.firstName"]?t.flatten["user.firstName"]:null;case be:return void 0!==t.payload["user.firstName"]?t.payload["user.firstName"]:e;default:return e}},lastName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:case fe:return void 0!==t.flatten["user.lastName"]?t.flatten["user.lastName"]:null;case be:return void 0!==t.payload["user.lastName"]?t.payload["user.lastName"]:e;default:return e}},phone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:case fe:return void 0!==t.flatten["user.phone"]?t.flatten["user.phone"]:null;case be:return void 0!==t.payload["user.phone"]?t.payload["user.phone"]:e;default:return e}},birthday:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:case fe:return void 0!==t.flatten["user.birthday"]?t.flatten["user.birthday"]:null;case be:return void 0!==t.payload["user.birthday"]?t.payload["user.birthday"]:e;default:return e}}}),Zr=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:case ve:return void 0!==t.payload._id?t.payload._id:null;default:return e}},user:Xr});function $r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var en={count:0,messages:[],errors:{}},tn=Object(o.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Profile/VALIDATE_SUCCESS":return!0;case"Profile/VALIDATE_FAILURE":case Ee:return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Profile/FETCH_FAILURE":case fe:case ve:case Ee:return!1;case pe:case"Profile/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:case fe:case"Profile/VALIDATE_SUCCESS":return en;case"Profile/VALIDATE_FAILURE":return t.payload;default:return e}},model:Zr,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:case fe:return{};case be:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$r(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$r(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case ve:case"Profile/SAVE_BEFORE":return[];default:return e}}}),an=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return null;case Re:return void 0!==t.payload._id?t.payload._id:null;default:return e}},currentPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:case Re:return null;case Te:return void 0!==t.payload.currentPassword?t.payload.currentPassword:e;default:return e}},password1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:case Re:return null;case Te:return void 0!==t.payload.password1?t.payload.password1:e;default:return e}},password2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:case Le:return null;case Te:return void 0!==t.payload.password2?t.payload.password2:e;default:return e}}});function rn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var nn={count:0,messages:[],errors:{}},cn=Object(o.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"ProfileSecurity/VALIDATE_SUCCESS":return!0;case Le:case"ProfileSecurity/VALIDATE_FAILURE":case"ProfileSecurity/SAVE_FAILURE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Le:case Re:case"ProfileSecurity/SAVE_FAILURE":return!1;case"ProfileSecurity/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:case"ProfileSecurity/VALIDATE_SUCCESS":return nn;case"ProfileSecurity/VALIDATE_FAILURE":return t.payload;default:return e}},model:an,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return{};case Te:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rn(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rn(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ProfileSecurity/SAVE_FAILURE":return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case Le:case"ProfileSecurity/SAVE_BEFORE":return[];default:return e}}}),sn=Object(o.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Staff/FETCH_SUCCESS":return t.payload.items;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return void 0!==t.payload.search?t.payload.search:e;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Staff/FETCH_FAILURE":case"Staff/FETCH_SUCCESS":return!1;case"Staff/FETCH_BEFORE":return!0;default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Staff/FETCH_SUCCESS":return t.payload.page;default:return e}},limit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Staff/FETCH_SUCCESS":return t.payload.limit;default:return e}},total:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Staff/FETCH_SUCCESS":return t.payload.total;default:return e}}}),on=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case dt:case ut:return void 0!==t.flatten["user._id"]?t.flatten["user._id"]:null;default:return e}},avatar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case dt:case ut:return void 0!==t.flatten["user.avatar"]?t.flatten["user.avatar"]:null;case ft:return void 0!==t.payload["user.avatar"]?t.payload["user.avatar"]:e;default:return e}},isAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case dt:case ut:return void 0!==t.flatten["user.isAdmin"]?t.flatten["user.isAdmin"]:null;default:return e}},email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case ut:case dt:return void 0!==t.flatten["user.email"]?t.flatten["user.email"]:null;case ft:return void 0!==t.payload["user.email"]?t.payload["user.email"]:e;default:return e}},firstName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case ut:case dt:return void 0!==t.flatten["user.firstName"]?t.flatten["user.firstName"]:null;case ft:return void 0!==t.payload["user.firstName"]?t.payload["user.firstName"]:e;default:return e}},lastName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case ut:case dt:return void 0!==t.flatten["user.lastName"]?t.flatten["user.lastName"]:null;case ft:return void 0!==t.payload["user.lastName"]?t.payload["user.lastName"]:e;default:return e}},phone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case ut:case dt:return void 0!==t.flatten["user.phone"]?t.flatten["user.phone"]:null;case ft:return void 0!==t.payload["user.phone"]?t.payload["user.phone"]:e;default:return e}},birthday:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case ut:case dt:return void 0!==t.flatten["user.birthday"]?t.flatten["user.birthday"]:null;case ft:return void 0!==t.payload["user.birthday"]?t.payload["user.birthday"]:e;default:return e}}}),ln=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case ut:case dt:return void 0!==t.flatten._id?t.flatten._id:null;default:return e}},isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return!1;case ut:case dt:return void 0!==t.flatten.isEnabled&&t.flatten.isEnabled;case ft:return void 0!==t.payload.isEnabled?t.payload.isEnabled:e;default:return e}},user:on,position:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case ut:case dt:return void 0!==t.flatten.position?t.flatten.position:null;case ft:return void 0!==t.payload.position?t.payload.position:e;default:return e}},companyId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case ut:case dt:return void 0!==t.flatten.companyId?t.flatten.companyId:null;case ft:return void 0!==t.payload.companyId?t.payload.companyId:e;default:return e}},storeId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case ut:case dt:return void 0!==t.flatten.storeId?t.flatten.storeId:null;case ft:return void 0!==t.payload.storeId?t.payload.storeId:e;default:return e}},password1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case ut:case dt:return null;case ft:return void 0!==t.payload.password1?t.payload.password1:e;default:return e}},password2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return null;case ut:case dt:return null;case ft:return void 0!==t.payload.password2?t.payload.password2:e;default:return e}}});function dn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var un={count:0,messages:[],errors:{}},mn=Object(o.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"StaffEdit/VALIDATE_SUCCESS":return!0;case vt:case"StaffEdit/VALIDATE_FAILURE":case"StaffEdit/SAVE_FAILURE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"StaffEdit/FETCH_FAILURE":case dt:case ut:case"StaffEdit/SAVE_FAILURE":return!1;case"StaffEdit/FETCH_BEFORE":case"StaffEdit/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:case"StaffEdit/FETCH_BEFORE":case dt:case"StaffEdit/VALIDATE_SUCCESS":return un;case"StaffEdit/VALIDATE_FAILURE":return t.payload;default:return e}},model:ln,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:case"StaffEdit/FETCH_BEFORE":case dt:return{};case ft:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dn(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dn(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return[];case"StaffEdit/SAVE_FAILURE":return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case ut:case"StaffEdit/SAVE_BEFORE":return[];default:return e}}}),pn=Object(o.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Store/FETCH_SUCCESS":return t.payload.items;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tt:return void 0!==t.payload.search?t.payload.search:e;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Store/FETCH_FAILURE":case"Store/FETCH_SUCCESS":return!1;case"Store/FETCH_BEFORE":return!0;default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Store/FETCH_SUCCESS":return t.payload.page;default:return e}},limit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Store/FETCH_SUCCESS":return t.payload.limit;default:return e}},total:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Store/FETCH_SUCCESS":return t.payload.total;default:return e}}}),fn=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"StoreEdit/RESET":return null;case Mt:case Bt:return void 0!==t.flatten._id?t.flatten._id:null;default:return e}},isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"StoreEdit/RESET":return!1;case Mt:case Bt:return void 0!==t.flatten.isEnabled&&t.flatten.isEnabled;case Gt:return void 0!==t.payload.isEnabled?t.payload.isEnabled:e;default:return e}},companyId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"StoreEdit/RESET":return null;case Mt:case Bt:return void 0!==t.flatten.companyId?t.flatten.companyId:null;case Gt:return void 0!==t.payload.companyId?t.payload.companyId:e;default:return e}},lng:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"StoreEdit/RESET":return null;case Mt:case Bt:return void 0!==t.flatten.lng?t.flatten.lng:null;case Gt:return void 0!==t.payload.lng?t.payload.lng:e;default:return e}},lat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"StoreEdit/RESET":return null;case Mt:case Bt:return void 0!==t.flatten.lat?t.flatten.lat:null;case Gt:return void 0!==t.payload.lat?t.payload.lat:e;default:return e}},city:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"StoreEdit/RESET":return null;case Mt:case Bt:return void 0!==t.flatten.city?t.flatten.city:null;case Gt:return void 0!==t.payload.city?t.payload.city:e;default:return e}},address:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"StoreEdit/RESET":return null;case Mt:case Bt:return void 0!==t.flatten.address?t.flatten.address:null;case Gt:return void 0!==t.payload.address?t.payload.address:e;default:return e}}});function vn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var En={count:0,messages:[],errors:{}},hn=Object(o.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"StoreEdit/VALIDATE_SUCCESS":return!0;case"StoreEdit/RESET":case"StoreEdit/VALIDATE_FAILURE":case"StoreEdit/SAVE_FAILURE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"StoreEdit/FETCH_FAILURE":case Bt:case Mt:case"StoreEdit/SAVE_FAILURE":return!1;case"StoreEdit/FETCH_BEFORE":case"StoreEdit/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"StoreEdit/RESET":case"StoreEdit/FETCH_BEFORE":case Bt:case"StoreEdit/VALIDATE_SUCCESS":return En;case"StoreEdit/VALIDATE_FAILURE":return t.payload;default:return e}},model:fn,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"StoreEdit/RESET":case"StoreEdit/FETCH_BEFORE":case Bt:return{};case Gt:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vn(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vn(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"StoreEdit/RESET":return[];case"StoreEdit/SAVE_FAILURE":return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case Mt:case"StoreEdit/SAVE_BEFORE":return[];default:return e}}}),bn=Object(o.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Company/FETCH_SUCCESS":return t.payload.items;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case na:return void 0!==t.payload.search?t.payload.search:e;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Company/FETCH_FAILURE":case"Company/FETCH_SUCCESS":return!1;case"Company/FETCH_BEFORE":return!0;default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Company/FETCH_SUCCESS":return t.payload.page;default:return e}},limit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Company/FETCH_SUCCESS":return t.payload.limit;default:return e}},total:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Company/FETCH_SUCCESS":return t.payload.total;default:return e}}}),gn=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pa:case ma:return void 0!==t.flatten._id?t.flatten._id:null;default:return e}},logo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CompanyEdit/RESET":return null;case ma:case pa:return void 0!==t.flatten.logo?t.flatten.logo:null;case va:return void 0!==t.payload.logo?t.payload.logo:e;default:return e}},isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pa:case ma:return void 0!==t.flatten.isEnabled&&t.flatten.isEnabled;case va:return void 0!==t.payload.isEnabled?t.payload.isEnabled:e;default:return e}},ownerId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pa:case ma:return void 0!==t.flatten.ownerId?t.flatten.ownerId:null;case va:return void 0!==t.payload.ownerId?t.payload.ownerId:e;default:return e}},name:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pa:case ma:return void 0!==t.flatten.name?t.flatten.name:null;case va:return void 0!==t.payload.name?t.payload.name:e;default:return e}},bonusCondition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pa:case ma:return void 0!==t.flatten.bonusCondition?t.flatten.bonusCondition:null;case va:return void 0!==t.payload.bonusCondition?t.payload.bonusCondition:e;default:return e}}});function yn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var wn={count:0,messages:[],errors:{}},Nn=Object(o.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"CompanyEdit/VALIDATE_SUCCESS":return!0;case"CompanyEdit/VALIDATE_FAILURE":case"CompanyEdit/SAVE_FAILURE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"CompanyEdit/FETCH_FAILURE":case ma:case pa:case"CompanyEdit/SAVE_FAILURE":return!1;case"CompanyEdit/FETCH_BEFORE":case"CompanyEdit/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CompanyEdit/FETCH_BEFORE":case ma:case"CompanyEdit/VALIDATE_SUCCESS":return wn;case"CompanyEdit/VALIDATE_FAILURE":return t.payload;default:return e}},model:gn,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CompanyEdit/FETCH_BEFORE":case ma:return{};case va:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yn(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yn(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CompanyEdit/SAVE_FAILURE":return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case pa:case"CompanyEdit/SAVE_BEFORE":return[];default:return e}}}),On=Object(o.c)({match:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tr:return t.payload;case"QRScanner/FETCH_USER_FAILURE":case Pr:return null;default:return e}},displayId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pr:return null;case Tr:return t.payload.user.displayId;case Lr:return void 0!==t.payload.displayId?t.payload.displayId:e;default:return e}},userId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pr:return null;case Tr:return t.payload.user._id;case Lr:return void 0!==t.payload.userId?t.payload.userId:e;default:return e}},storeId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pr:return null;case Lr:return void 0!==t.payload.storeId?t.payload.storeId:e;default:return e}},companyId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pr:return null;case Lr:return void 0!==t.payload.companyId?t.payload.companyId:e;default:return e}}}),_n=Object(o.c)({model:On,purchase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QRScanner/SAVE_SUCCESS":return t.payload;case Pr:case Lr:case"QRScanner/SAVE_BEFORE":return null;default:return e}},isLoadingUser:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"QRScanner/FETCH_USER_BEFORE":return!0;case Pr:case Tr:case"QRScanner/FETCH_USER_FAILURE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Pr:case"QRScanner/SAVE_SUCCESS":case"QRScanner/SAVE_FAILURE":return!1;case"QRScanner/SAVE_BEFORE":return!0;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QRScanner/FETCH_USER_FAILURE":case"QRScanner/SAVE_FAILURE":return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case Pr:case"QRScanner/SAVE_SUCCESS":case"QRScanner/SAVE_BEFORE":return[];default:return e}}}),Sn=Object(o.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Customer/FETCH_SUCCESS":return t.payload.items;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Aa:return void 0!==t.payload.search?t.payload.search:e;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Customer/FETCH_FAILURE":case"Customer/FETCH_SUCCESS":return!1;case"Customer/FETCH_BEFORE":return!0;default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Customer/FETCH_SUCCESS":return t.payload.page;default:return e}},limit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Customer/FETCH_SUCCESS":return t.payload.limit;default:return e}},total:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Customer/FETCH_SUCCESS":return t.payload.total;default:return e}}}),Cn=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return null;case Pa:case Da:return void 0!==t.flatten["user._id"]?t.flatten["user._id"]:null;default:return e}},avatar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return null;case Pa:case Da:return void 0!==t.flatten["user.avatar"]?t.flatten["user.avatar"]:null;case Ha:return void 0!==t.payload["user.avatar"]?t.payload["user.avatar"]:e;default:return e}},isAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return null;case Pa:case Da:return void 0!==t.flatten["user.isAdmin"]?t.flatten["user.isAdmin"]:null;default:return e}},email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return null;case Da:case Pa:return void 0!==t.flatten["user.email"]?t.flatten["user.email"]:null;case Ha:return void 0!==t.payload["user.email"]?t.payload["user.email"]:e;default:return e}},firstName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return null;case Da:case Pa:return void 0!==t.flatten["user.firstName"]?t.flatten["user.firstName"]:null;case Ha:return void 0!==t.payload["user.firstName"]?t.payload["user.firstName"]:e;default:return e}},lastName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return null;case Da:case Pa:return void 0!==t.flatten["user.lastName"]?t.flatten["user.lastName"]:null;case Ha:return void 0!==t.payload["user.lastName"]?t.payload["user.lastName"]:e;default:return e}},phone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return null;case Da:case Pa:return void 0!==t.flatten["user.phone"]?t.flatten["user.phone"]:null;case Ha:return void 0!==t.payload["user.phone"]?t.payload["user.phone"]:e;default:return e}},birthday:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return null;case Da:case Pa:return void 0!==t.flatten["user.birthday"]?t.flatten["user.birthday"]:null;case Ha:return void 0!==t.payload["user.birthday"]?t.payload["user.birthday"]:e;default:return e}}}),jn=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return null;case Da:case Pa:return void 0!==t.flatten._id?t.flatten._id:null;default:return e}},isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return!1;case Da:case Pa:return void 0!==t.flatten.isEnabled&&t.flatten.isEnabled;case Ha:return void 0!==t.payload.isEnabled?t.payload.isEnabled:e;default:return e}},user:Cn,password1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return null;case Da:case Pa:return null;case Ha:return void 0!==t.payload.password1?t.payload.password1:e;default:return e}},password2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return null;case Da:case Pa:return null;case Ha:return void 0!==t.payload.password2?t.payload.password2:e;default:return e}}});function An(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var xn={count:0,messages:[],errors:{}},kn=Object(o.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"CustomerEdit/VALIDATE_SUCCESS":return!0;case"CustomerEdit/RESET":case"CustomerEdit/VALIDATE_FAILURE":case"CustomerEdit/SAVE_FAILURE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"CustomerEdit/FETCH_FAILURE":case Pa:case Da:case"CustomerEdit/SAVE_FAILURE":return!1;case"CustomerEdit/FETCH_BEFORE":case"CustomerEdit/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":case"CustomerEdit/FETCH_BEFORE":case Pa:case"CustomerEdit/VALIDATE_SUCCESS":return xn;case"CustomerEdit/VALIDATE_FAILURE":return t.payload;default:return e}},model:jn,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":case"CustomerEdit/FETCH_BEFORE":case Pa:return{};case Ha:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?An(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):An(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CustomerEdit/RESET":return[];case"CustomerEdit/SAVE_FAILURE":return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case Da:case"CustomerEdit/SAVE_BEFORE":return[];default:return e}}}),In=Object(o.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Owner/FETCH_SUCCESS":return t.payload.items;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nr:return void 0!==t.payload.search?t.payload.search:e;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Owner/FETCH_FAILURE":case"Owner/FETCH_SUCCESS":return!1;case"Owner/FETCH_BEFORE":return!0;default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Owner/FETCH_SUCCESS":return t.payload.page;default:return e}},limit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Owner/FETCH_SUCCESS":return t.payload.limit;default:return e}},total:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Owner/FETCH_SUCCESS":return t.payload.total;default:return e}}}),Rn=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return null;case mr:case pr:return void 0!==t.flatten["user._id"]?t.flatten["user._id"]:null;default:return e}},avatar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return null;case mr:case pr:return void 0!==t.flatten["user.avatar"]?t.flatten["user.avatar"]:null;case Er:return void 0!==t.payload["user.avatar"]?t.payload["user.avatar"]:e;default:return e}},isAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return null;case mr:case pr:return void 0!==t.flatten["user.isAdmin"]?t.flatten["user.isAdmin"]:null;default:return e}},email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return null;case pr:case mr:return void 0!==t.flatten["user.email"]?t.flatten["user.email"]:null;case Er:return void 0!==t.payload["user.email"]?t.payload["user.email"]:e;default:return e}},firstName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return null;case pr:case mr:return void 0!==t.flatten["user.firstName"]?t.flatten["user.firstName"]:null;case Er:return void 0!==t.payload["user.firstName"]?t.payload["user.firstName"]:e;default:return e}},lastName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return null;case pr:case mr:return void 0!==t.flatten["user.lastName"]?t.flatten["user.lastName"]:null;case Er:return void 0!==t.payload["user.lastName"]?t.payload["user.lastName"]:e;default:return e}},phone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return null;case pr:case mr:return void 0!==t.flatten["user.phone"]?t.flatten["user.phone"]:null;case Er:return void 0!==t.payload["user.phone"]?t.payload["user.phone"]:e;default:return e}},birthday:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return null;case pr:case mr:return void 0!==t.flatten["user.birthday"]?t.flatten["user.birthday"]:null;case Er:return void 0!==t.payload["user.birthday"]?t.payload["user.birthday"]:e;default:return e}}}),Fn=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return null;case pr:case mr:return void 0!==t.flatten._id?t.flatten._id:null;default:return e}},isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return!1;case pr:case mr:return void 0!==t.flatten.isEnabled&&t.flatten.isEnabled;case Er:return void 0!==t.payload.isEnabled?t.payload.isEnabled:e;default:return e}},user:Rn,password1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return null;case pr:case mr:return null;case Er:return void 0!==t.payload.password1?t.payload.password1:e;default:return e}},password2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return null;case pr:case mr:return null;case Er:return void 0!==t.payload.password2?t.payload.password2:e;default:return e}}});function Tn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var Ln={count:0,messages:[],errors:{}},Pn=Object(o.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"OwnerEdit/VALIDATE_SUCCESS":return!0;case"OwnerEdit/RESET":case"OwnerEdit/VALIDATE_FAILURE":case"OwnerEdit/SAVE_FAILURE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"OwnerEdit/FETCH_FAILURE":case mr:case pr:case"OwnerEdit/SAVE_FAILURE":return!1;case"OwnerEdit/FETCH_BEFORE":case"OwnerEdit/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":case"OwnerEdit/FETCH_BEFORE":case mr:case"OwnerEdit/VALIDATE_SUCCESS":return Ln;case"OwnerEdit/VALIDATE_FAILURE":return t.payload;default:return e}},model:Fn,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":case"OwnerEdit/FETCH_BEFORE":case mr:return{};case Er:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tn(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tn(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OwnerEdit/RESET":return[];case"OwnerEdit/SAVE_FAILURE":return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case pr:case"OwnerEdit/SAVE_BEFORE":return[];default:return e}}}),Dn=function(e){return Object(o.c)({router:Object(zr.b)(e),App:Yr,Conditions:Kr,Nav:Jr,Login:Wr,Profile:tn,ProfileSecurity:cn,Staff:sn,StaffEdit:mn,Company:bn,CompanyEdit:Nn,Store:pn,StoreEdit:hn,QRScanner:_n,Customer:Sn,CustomerEdit:kn,Owner:In,OwnerEdit:Pn})},Un=Object(m.a)(),Vn=Object(i.a)(),Hn=[l.a,d.a,Vn,Object(u.a)(Un)],qn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,Bn=f.a.get("locale");Bn||(Bn="ua");var Mn=f.a.get("token"),Qn={App:{isAuthenticated:!!Mn,isLoadingVisible:!!Mn,token:Mn,locale:Bn}},Gn=a(38),zn=function(){return!!navigator.platform&&/iPhone/.test(navigator.platform)},Yn=a(15),Kn=a(14),Jn=Object(Kn.a)({isAuthenticated:function(e){return e.App.isAuthenticated},Nav:function(e){return e.Nav}}),Wn=Object(s.c)(Jn)(function(e){var t=Object(s.d)(),a=function(){t({type:"Login/TOGGLE_MENU",payload:!1})},r=e.isAuthenticated,c=e.Nav.isMobileMenuVisible;return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},n.a.createElement("a",{className:"navbar-brand py-0",href:"https://nextfree.com.ua"},g.t("navigation.logo"),n.a.createElement("br",null),n.a.createElement("small",{className:"text-danger"},g.t("navigation.logo_footer"))),n.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:function(){var a=e.Nav.isMobileMenuVisible;t({type:"Login/TOGGLE_MENU",payload:!a})}},n.a.createElement("i",{className:"fa fa-bars"})),n.a.createElement("div",{className:"navbar-collapse collapse"+(c?" show":"")},n.a.createElement("ul",{className:"navbar-nav mr-auto text-center"},r&&!zn()?n.a.createElement("li",{className:"nav-item"},n.a.createElement(Yn.a,{to:B,className:"nav-link text-white",onClick:a},n.a.createElement("i",{className:"fa fa-camera"}),"\xa0",g.t("navigation.qr_scanner"))):null,r?n.a.createElement("li",{className:"nav-item"},n.a.createElement(Yn.a,{to:M,className:"nav-link text-white",onClick:a},n.a.createElement("i",{className:"fa fa-search"}),"\xa0",g.t("navigation.qr_scanner_by_id"))):null,r&&n.a.createElement("li",{className:"nav-item"},n.a.createElement(Yn.a,{to:q,className:"nav-link text-white",onClick:a},n.a.createElement("i",{className:"fa fa-qrcode"}),"\xa0",g.t("navigation.qr"))),r&&n.a.createElement("li",{className:"nav-item"},n.a.createElement(Yn.a,{to:V,className:"nav-link text-white",onClick:a},g.t("navigation.profile"))),r&&n.a.createElement("li",{className:"nav-item"},n.a.createElement(Yn.a,{to:Y,className:"nav-link text-white",onClick:a},g.t("navigation.companies"))),r&&n.a.createElement("li",{className:"nav-item"},n.a.createElement(Yn.a,{to:Q,className:"nav-link text-white",onClick:a},g.t("navigation.stores"))),r&&n.a.createElement("li",{className:"nav-item"},n.a.createElement(Yn.a,{to:W,className:"nav-link text-white",onClick:a},g.t("navigation.staff"))),r&&n.a.createElement("li",{className:"nav-item"},n.a.createElement(Yn.a,{to:$,className:"nav-link text-white",onClick:a},g.t("navigation.owners"))),r&&n.a.createElement("li",{className:"nav-item"},n.a.createElement(Yn.a,{to:ae,className:"nav-link text-white",onClick:a},g.t("navigation.customers")))),n.a.createElement("ul",{className:"navbar-nav ml-auto text-center"},r&&n.a.createElement("li",{className:"nav-item mx-1 mb-1 mb-lg-0"},n.a.createElement("button",{className:"btn btn-outline-success",onClick:function(){t({type:O})}},g.t("navigation.logout"))))))}),Xn=function(){return n.a.createElement("footer",{className:"position-absolute w-100 border-top py-5 mt-5"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row text-center"},n.a.createElement("div",{className:"col-12 col-md-6 col-lg-4"},n.a.createElement("a",{href:"https://nextfree.com.ua/privacy",className:"btn btn-link"},g.t("footer.privacy"))),n.a.createElement("div",{className:"col-12 col-md-6 col-lg-4"},n.a.createElement("a",{href:"mailto:nextfree.adm@gmail.com",className:"btn btn-link"},g.t("footer.contact"))))))},Zn=a(126),$n=a.n(Zn),ec=Object(Kn.a)({admin:function(e){return e.App.admin}}),tc=Object(s.c)(ec)(function(e){var t=e.admin.user,a=t.firstName,r=t.email;return n.a.createElement("div",{className:"container py-5 text-center"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("h1",{className:"mb-4"},g.t("home.welcome_title").replace("_NAME_",a||r))),n.a.createElement("div",{className:"col-11 col-md-8 col-lg-6 mx-auto"},n.a.createElement("img",{src:$n.a,alt:"",className:"img-fluid shadow mb-3"}),n.a.createElement(Yn.a,{className:"btn btn-success btn-lg",to:zn()?M:B},g.t("home.action")))))}),ac=a(17),rc=a(16),nc=a(19),cc=a(18),sc=a(20),oc=a(127),ic=a.n(oc),lc=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(n)))).state={img:null},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.data;ic.a.toDataURL(t).then(function(t){e.setState({img:t})})}},{key:"render",value:function(){var e=this.state.img;return n.a.createElement("div",{className:"qr-container text-center w-100"},e?n.a.createElement("img",{src:e,className:"img-fluid w-100",alt:""}):null)}}]),t}(n.a.PureComponent),dc=Object(Kn.a)({admin:function(e){return e.App.admin}}),uc=Object(s.c)(dc)(function(e){var t=e.admin,a=t._id,r=t.user,c=JSON.stringify({owner:a,user:r.displayId});return n.a.createElement("div",{className:"container py-5"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-11 col-md-8 col-lg-6 cpl-xl-5 mx-auto text-center"},n.a.createElement("div",{className:"mb-4"},n.a.createElement(lc,{data:c})),n.a.createElement("p",{className:"text-muted"},g.t("qr.help")),n.a.createElement("p",{className:"text-muted"},g.t("qr.help_alt")),n.a.createElement("div",{className:"alert alert-secondary"},n.a.createElement("h2",{className:"m-0"},"ID: ",r.displayId||"-")))))}),mc=a(67),pc=a(33),fc=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",r={};for(var n in t)if(t.hasOwnProperty(n))if("object"==typeof t[n]){var c=e(t[n]);for(var s in c)c.hasOwnProperty(s)&&(r[n+a+s]=c[s])}else r[n]=t[n];return r},vc=function(e){return function(t,a){var r=a().App.token;t({type:"QRScanner/SAVE_BEFORE"}),$e.a.post(at.apiHost+"/api/v1/owner/users/".concat(e.userId,"/purchases"),e,{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:"QRScanner/SAVE_SUCCESS",payload:a,flatten:fc(a)})}).catch(function(e){console.log(e),t({type:"QRScanner/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},Ec=a(79),hc=function(e){var t=e.errors;return 0===t.length?null:n.a.createElement("div",{className:"alert alert-danger"},t.map(function(e,t){return n.a.createElement("p",{key:t,className:"mb-0"},e)}))},bc=function(e){return function(t,a){if((e||"").length>4){var r=a().App.token;t({type:"QRScanner/FETCH_USER_BEFORE"}),$e.a.get(at.apiHost+"/api/v1/users/".concat(e),{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:Tr,payload:a,flatten:fc(a)})}).catch(function(e){console.log(e),t({type:"QRScanner/FETCH_USER_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}}},gc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(r,n){var c=n().App.token,s=["page="+t,"limit="+a];r({type:"Store/FETCH_BEFORE"}),$e.a.get(at.apiHost+"/api/v1/owner/companies/".concat(e,"/stores?")+s.join("&"),{headers:{Authorization:c}}).then(function(e){var t=e.data;r({type:"Store/FETCH_SUCCESS",payload:t})}).catch(function(e){console.log(e),r({type:"Store/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},yc=function(){var e=Object(mc.a)(w.a.mark(function e(){var t,a,r,n,c,s,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:t=e.sent,a=!0,r=!1,n=void 0,e.prev=7,c=t.getTracks()[Symbol.iterator]();case 9:if(a=(s=c.next()).done){e.next=22;break}return o=s.value,e.prev=11,e.next=14,o.stop();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),console.error(e.t0);case 19:a=!0,e.next=9;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(7),r=!0,n=e.t1;case 28:e.prev=28,e.prev=29,a||null==c.return||c.return();case 31:if(e.prev=31,!r){e.next=34;break}throw n;case 34:return e.finish(31);case 35:return e.finish(28);case 36:e.next=41;break;case 38:e.prev=38,e.t2=e.catch(0),console.error(e.t2);case 41:case"end":return e.stop()}},e,null,[[0,38],[7,24,28,36],[11,16],[29,,31,35]])}));return function(){return e.apply(this,arguments)}}(),wc=function(){var e=Object(s.d)();return n.a.createElement("div",{className:"alert alert-light text-center"},n.a.createElement("h4",null,g.t("qr_scanner.purchase_success_title")),n.a.createElement("p",null,g.t("qr_scanner.purchase_success_subtitle")),n.a.createElement("button",{className:"btn btn-success",onClick:function(){e({type:Dr})}},g.t("qr_scanner.again_action")))},Nc=function(){var e=Object(s.e)(function(e){return e.QRScanner.purchase}),t=Object(s.d)(),a=e.buyer.user.lastName+" "+e.buyer.user.firstName;return n.a.createElement("div",{className:"alert alert-success text-center"},n.a.createElement("h4",null,g.t("qr_scanner.purchase_bonus_title")),n.a.createElement("p",null,g.t("qr_scanner.purchase_bonus_subtitle").replace("__NAME__",a)),n.a.createElement("button",{className:"btn btn-success",onClick:function(){t({type:Dr})}},g.t("qr_scanner.again_action")))},Oc=a(29),_c=a(98),Sc=a.n(_c),Cc=function(e){var t=e.src,a=n.a.useState(Sc.a),r=Object(Oc.a)(a,2),c=r[0],s=r[1];return n.a.useEffect(function(){t&&s(t)},[t]),n.a.createElement("img",{src:c,onError:function(){return s(Sc.a)},alt:"",className:"img-fluid"})},jc=function(e){var t=e.src;return n.a.createElement("div",{className:"avatar-container"},n.a.createElement(Cc,{src:t}))},Ac=function(){var e=Object(s.e)(function(e){return e.QRScanner}),t=e.isLoadingUser,a=e.model.match;return t?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body p-4 text-center"},n.a.createElement("i",{className:"fa fa-2x fa-spin fa-circle-notch"}))))):a?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"card mb-3"},n.a.createElement("div",{className:"card-body p-1"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4 col-md-3"},n.a.createElement(Cc,{src:a.user.avatar})),n.a.createElement("div",{className:"col-8 col-md-9"},n.a.createElement("h5",{className:"mb-1 text-truncate"},a.user.lastName," ",a.user.firstName),a.isEnabled?n.a.createElement("div",{className:"badge badge-success"},n.a.createElement("i",{className:"fa fa-check"}),"\xa0",g.t("profile.enabled_badge")):n.a.createElement("div",{className:"badge badge-danger"},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("profile.disabled_badge")),n.a.createElement("p",{className:"text-muted m-0"},"ID: ",a.user.displayId))))))):null},xc=function(){var e=Object(s.e)(function(e){return e.Store.items}),t=Object(s.e)(function(e){return e.QRScanner.model}),a=Object(s.d)();return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("qr_scanner.store")),n.a.createElement("select",{name:"storeId",value:t.storeId||"",onChange:function(t){var r=t.target.value,n=e.find(function(e){return e._id===r});a(n?{type:Lr,payload:{storeId:r,companyId:n.companyId}}:{type:Lr,payload:{storeId:null,companyId:null}})},className:"form-control"},n.a.createElement("option",{value:"",disabled:!0},g.t("placeholder.select")),e.map(function(e){return n.a.createElement("option",{key:e._id,value:e._id},e.address||e._id)})))))};Ec.a.WORKER_PATH="/qr-scanner-worker.min.js";var kc=function(e){function t(e){var a;return Object(ac.a)(this,t),(a=Object(nc.a)(this,Object(cc.a)(t).call(this,e))).htmlVideo=null,a.scanner=null,a.state={hasCamera:!0,hasCameraPermission:null},a.setDefaults=function(){a.props.dispatch({type:Dr})},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:Lr,payload:Object(v.a)({},e,t)})},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.onResult=function(e){var t=a.props.QRScanner.model.displayId;if(console.log("decoded qr code:",e),e)try{var r=JSON.parse(e);if(!r||!r.user||r.user===t)return;a.change("displayId",r.user),a.props.dispatch(bc(r.user))}catch(n){console.log(n)}},a.purchase=function(){var e=a.props.QRScanner.model;a.props.dispatch(vc({userId:e.userId,storeId:e.storeId,companyId:e.companyId}))},a.isValid=function(){var e=a.props.QRScanner.model;return e.userId&&e.storeId&&e.match&&e.match.isEnabled},a.renderStep2=function(){return n.a.createElement("div",{className:"container-fluid fixed-bottom qr-toolbar"},n.a.createElement("div",{className:"row no-gutters"},n.a.createElement("div",{className:"col-12 col-md-8 col-lg-6 mx-auto"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body px-2"},n.a.createElement("h5",{className:"text-center"},g.t("qr_scanner.purchase_title_1"),"\xa0",g.t("qr_scanner.purchase_title_2")),a.renderPurchaseForm())))))},a.renderStep1=function(){return n.a.createElement("div",{className:"container-fluid fixed-bottom qr-toolbar"},n.a.createElement("div",{className:"row no-gutters"},n.a.createElement("div",{className:"col-12 col-md-8 col-lg-6 mx-auto"},n.a.createElement("div",{className:"alert alert-warning"},n.a.createElement("h5",{className:"text-center"},g.t("qr_scanner.help")),n.a.createElement("p",{className:"m-0 text-center"},g.t("qr_scanner.help_subtitle")),a.state.hasCamera?null:n.a.createElement("div",{className:"text-danger mb-2"},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("qr_scanner.no_camera")),null===a.state.hasCameraPermission?n.a.createElement("div",{className:"text-muted mb-2"},n.a.createElement("i",{className:"fa fa-spin fa-circle-notch"}),"\xa0",g.t("qr_scanner.checking_camera_permission")):null,!1===a.state.hasCameraPermission?n.a.createElement("div",{className:"text-danger mb-2"},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("qr_scanner.no_camera_permission")):null))))},a.htmlVideo=n.a.createRef(),a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.defaultCompany;t&&this.props.dispatch(gc(t._id)),this.setDefaults();try{Ec.a.hasCamera().then(function(t){if(e.setState({hasCamera:t}),t)try{e.scanner=new Ec.a(e.htmlVideo.current,e.onResult),e.scanner.start(),e.setState({hasCameraPermission:!0})}catch(a){console.log(a),Object(pc.a)(a),e.setState({hasCameraPermission:!1})}})}catch(a){console.log(a),this.setState({hasCamera:!1,hasCameraPermission:!1})}}},{key:"componentWillUnmount",value:function(){var e=Object(mc.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopScanner(),e.next=3,yc();case 3:try{this.htmlVideo.current&&(this.htmlVideo.current.pause(),this.htmlVideo.current.srcObject=null)}catch(t){console.log(t)}this.props.dispatch({type:Pr});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"stopScanner",value:function(){if(this.scanner)try{this.scanner.destroy()}catch(e){console.log(e)}}},{key:"renderSuccess",value:function(){var e=this.props.QRScanner.purchase;return e?e.isBonus?n.a.createElement("div",{className:"container-fluid fixed-bottom qr-toolbar"},n.a.createElement("div",{className:"row no-gutters"},n.a.createElement("div",{className:"col-12 col-md-8 col-lg-6 mx-auto"},n.a.createElement(Nc,null)))):n.a.createElement("div",{className:"container-fluid fixed-bottom qr-toolbar"},n.a.createElement("div",{className:"row no-gutters"},n.a.createElement("div",{className:"col-12 col-md-8 col-lg-6 mx-auto"},n.a.createElement(wc,null)))):null}},{key:"renderPurchaseForm",value:function(){var e=this.props.QRScanner,t=e.isLoading,a=e.serverErrors,r=this.isValid();return n.a.createElement(n.a.Fragment,null,n.a.createElement(hc,{errors:a}),n.a.createElement(xc,null),n.a.createElement(Ac,null),n.a.createElement("div",{className:"text-center text-md-right"},n.a.createElement("button",{className:"btn btn-sm btn-outline-warning mr-1",onClick:this.setDefaults},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("qr_scanner.discard")),n.a.createElement("button",{className:"btn btn-sm "+(!r||t?"btn-outline-success":"btn-success"),onClick:this.purchase,disabled:!r||t},n.a.createElement("i",{className:"fa "+(t?"fa-spin fa-circle-notch":"fa-check")}),"\xa0",g.t("qr_scanner.purchase_action"))))}},{key:"render",value:function(){var e=this.props.QRScanner.purchase,t=this.props.QRScanner.model.userId,a=e&&e._id,r=!!t;return n.a.createElement("div",{className:"w-100"},n.a.createElement("div",{className:"qr-stack"},n.a.createElement("div",{className:"qr-scanner-container text-center w-100"},n.a.createElement("video",{ref:this.htmlVideo,muted:!0,className:"img-fluid bg-secondary"})),n.a.createElement("div",{className:"qr-scanner-overlay"},n.a.createElement("table",{className:"qr-area "+(r?"has-result":"no-result")},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"has-border border-left border-top"}),n.a.createElement("td",null),n.a.createElement("td",{className:"has-border border-right border-top"})),n.a.createElement("tr",null,n.a.createElement("td",null),n.a.createElement("td",null),n.a.createElement("td",null)),n.a.createElement("tr",null,n.a.createElement("td",{className:"has-border border-left border-bottom"}),n.a.createElement("td",null),n.a.createElement("td",{className:"has-border border-right border-bottom"})))))),a?this.renderSuccess():null,a||r?null:this.renderStep1(),!a&&r?this.renderStep2():null)}}]),t}(n.a.PureComponent),Ic=Object(Kn.a)({defaultCompany:function(e){return e.App.defaultCompany},QRScanner:function(e){return e.QRScanner},stores:function(e){return e.Store.items}}),Rc=Object(s.c)(Ic)(kc),Fc=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(n)))).setDefaults=function(){a.props.dispatch({type:Dr})},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:Lr,payload:Object(v.a)({},e,t)})},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.fetchUserIfEnter=function(e){13===e.keyCode&&a.fetchUser()},a.fetchUser=function(){var e=a.props.QRScanner.model.displayId;a.props.dispatch(bc(e))},a.purchase=function(){var e=a.props.QRScanner.model;a.props.dispatch(vc({userId:e.userId,storeId:e.storeId,companyId:e.companyId}))},a.isValid=function(){var e=a.props.QRScanner.model;return e.userId&&e.storeId&&e.match&&e.match.isEnabled},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.defaultCompany;e&&this.props.dispatch(gc(e._id)),this.setDefaults()}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:Pr})}},{key:"renderSuccess",value:function(){var e=this.props.QRScanner.purchase;return e?e.isBonus?n.a.createElement(Nc,null):n.a.createElement(wc,null):null}},{key:"renderPurchaseForm",value:function(){var e=this.props.QRScanner,t=e.isLoading,a=e.serverErrors,r=e.isLoadingUser,c=e.model,s=this.isValid(),o=(c.displayId||"").length>4;return n.a.createElement(n.a.Fragment,null,n.a.createElement(hc,{errors:a}),n.a.createElement(xc,null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",className:"form-control",onKeyDown:this.fetchUserIfEnter,onChange:this.changeString("displayId"),value:c.displayId||"",placeholder:g.t("qr_scanner.find_user_placeholder")}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-success",onClick:this.fetchUser,disabled:r||!o},n.a.createElement("i",{className:"fa fa-search"}),"\xa0",g.t("qr_scanner.find_user_action"))))))),n.a.createElement(Ac,null),n.a.createElement("div",{className:"text-center text-md-right"},n.a.createElement("button",{className:"btn btn-sm btn-outline-warning mr-1",onClick:this.setDefaults},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("qr_scanner.discard")),n.a.createElement("button",{className:"btn btn-sm "+(!s||t?"btn-outline-success":"btn-success"),onClick:this.purchase,disabled:!s||t},n.a.createElement("i",{className:"fa "+(t?"fa-spin fa-circle-notch":"fa-check")}),"\xa0",g.t("qr_scanner.purchase_action"))))}},{key:"render",value:function(){var e=this.props.QRScanner,t=e.model,a=e.purchase;return n.a.createElement("div",{className:"container my-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-10 mx-auto"},n.a.createElement("div",{className:"row text-center steps my-4"},n.a.createElement("div",{className:"col-4"},n.a.createElement("div",{className:"step"},n.a.createElement("h4",{className:"circle mx-auto p-2"},t.storeId?n.a.createElement("i",{className:"fa fa-check text-success"}):"1"),n.a.createElement("h5",null,g.t("qr_scanner.step1")))),n.a.createElement("div",{className:"col-4"},n.a.createElement("div",{className:"step"},n.a.createElement("h4",{className:"circle mx-auto p-2"},t.userId&&t.match&&t.match.isEnabled?n.a.createElement("i",{className:"fa fa-check text-success"}):"2"),n.a.createElement("h5",null,g.t("qr_scanner.step2")))),n.a.createElement("div",{className:"col-4"},n.a.createElement("div",{className:"step"},n.a.createElement("h4",{className:"circle mx-auto p-2"},a&&a._id?n.a.createElement("i",{className:"fa fa-check text-success"}):"3"),n.a.createElement("h5",null,g.t("qr_scanner.step3")))))),n.a.createElement("div",{className:"col-10 col-md-8 col-lg-6 mx-auto"},a&&a._id?this.renderSuccess():this.renderPurchaseForm())))}}]),t}(n.a.PureComponent),Tc=Object(Kn.a)({defaultCompany:function(e){return e.App.defaultCompany},QRScanner:function(e){return e.QRScanner},stores:function(e){return e.Store.items}}),Lc=Object(s.c)(Tc)(Fc),Pc=(a(191),a(192),a(81)),Dc=a.n(Pc),Uc=a(101),Vc=a.n(Uc),Hc=a(132),qc=function(e){function t(e){var a;return Object(ac.a)(this,t),(a=Object(nc.a)(this,Object(cc.a)(t).call(this,e))).onChange=function(e){var t=null;e&&(t=Vc()(e,"DD.MM.YYYY").format("YYYY-MM-DD")),a.props.onChange(t)},Object(Pc.registerLocale)("ua",Hc.a),Object(Pc.setDefaultLocale)("ua"),a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"render",value:function(){var e=this.props.value?Vc()(this.props.value,"YYYY-MM-DD").format("DD.MM.YYYY"):"";return n.a.createElement(Dc.a,Object.assign({locale:"ua",closeOnSelect:!0,showYearDropdown:!0,viewMode:"days",autoComplete:"off",placeholderText:g.t("placeholder.date"),className:"form-control"},this.props,{value:e,onChange:this.onChange}))}}]),t}(n.a.Component);function Bc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var Mc,Qc=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bc(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bc(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return delete t.id,t},Gc=function(e){return function(t,a){var r,n=a(),c=n.App.token,s=Qc(e);if(n.App.isOwner)r=$e.a.post(at.apiHost+"/api/v1/owner/profile",s,{headers:{Authorization:c}});else if(n.App.isCustomer)r=$e.a.post(at.apiHost+"/api/v1/customer/profile",s,{headers:{Authorization:c}});else{if(!n.App.isStaff)return;r=$e.a.post(at.apiHost+"/api/v1/staff/profile",s,{headers:{Authorization:c}})}t({type:"Profile/SAVE_BEFORE"}),r.then(function(e){var a=e.data;t({type:ve,payload:a,flatten:fc(a)})}).catch(function(e){console.log(e),t({type:Ee,payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},zc=Object(Kn.a)({Profile:function(e){return e.Profile}}),Yc=Object(s.c)(zc)(function(e){var t=Object(s.d)(),a=e.Profile,r=a.isLoading,c=a.model;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"card text-center mb-4"},n.a.createElement("div",{className:"card-body"},n.a.createElement(jc,{src:c.user.avatar})),n.a.createElement("div",{className:"card-footer p-1"},n.a.createElement("label",{className:"btn btn-secondary btn-sm m-0"},n.a.createElement("i",{className:"fa fa-upload"}),"\xa0",g.t("profile.upload_action"),n.a.createElement("input",{type:"file",className:"d-none",accept:"image/*",max:1,min:1,onChange:function(e){var a=e.target.files[0];a&&(t(function(e){return function(t){var a=new FormData;a.append("file",e),$e.a.post(at.storageHost+"/api/v1/media",a).then(function(e){var a=e.data;t({type:be,payload:{"user.avatar":a.url}})}).catch(function(e){console.log(e)})}}(a)),e.target.value=null)},disabled:r})))),n.a.createElement("nav",{className:"bg-primary mb-4"},n.a.createElement(Yn.a,{to:V,className:"btn btn-link btn-block text-left"},g.t("navigation.profile")),n.a.createElement(Yn.a,{to:H,className:"btn btn-link btn-block text-left"},g.t("navigation.profile_security"))))}),Kc=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(c)))).submit=function(){var e=a.props.Profile.model;a.props.dispatch(Gc(e))},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:be,payload:Object(v.a)({},e,t)})},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.changeDate=function(e){return function(t){return a.change(e,t)}},a.changePhone=function(e){return function(t){a.change(e,t.target.value.replace(/[^\d+]/g,""))}},a.getError=function(e){var t=a.props.Profile.validator.errors;return void 0===t[e]?null:n.a.createElement("small",{className:"feedback invalid-feedback d-block"},t[e])},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(function(e,t){var a,r=t(),n=r.App.token;if(r.App.isOwner)a=$e.a.get(at.apiHost+"/api/v1/owner/profile",{headers:{Authorization:n}});else if(r.App.isCustomer)a=$e.a.get(at.apiHost+"/api/v1/customer/profile",{headers:{Authorization:n}});else{if(!r.App.isStaff)return;a=$e.a.get(at.apiHost+"/api/v1/staff/profile",{headers:{Authorization:n}})}e({type:pe}),a.then(function(t){var a=t.data;e({type:fe,payload:a,flatten:fc(a)})}).catch(function(t){e({type:"Profile/FETCH_FAILURE",payload:{status:t.response?t.response.status:0,data:t.response?t.response.data:null}})})})}},{key:"render",value:function(){var e=this.props.Profile,t=e.model,a=e.isValid,r=e.isLoading,c=e.serverErrors;return n.a.createElement("div",{className:"container-fluid my-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-4 col-lg-3"},n.a.createElement(Yc,null)),n.a.createElement("div",{className:"col-12 col-md-8 col-lg-9"},n.a.createElement(hc,{errors:c}),n.a.createElement("div",{className:"card shadow-sm mb-3"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},t.user.email),t.user.isAdmin?n.a.createElement("div",{className:"badge badge-danger"},n.a.createElement("i",{className:"fa fa-user"}),"\xa0",g.t("profile.admin_badge")):null),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},n.a.createElement("button",{className:"btn btn-success btn-sm",onClick:this.submit,disabled:r||!a},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",g.t("profile.action"))))),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("profile.firstName")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.firstName",className:"form-control",onChange:this.changeString("user.firstName"),value:t.user.firstName||""}),this.getError("user.firstName"))),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("profile.lastName")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.lastName",className:"form-control",onChange:this.changeString("user.lastName"),value:t.user.lastName||""}),this.getError("user.lastName")))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("profile.phone")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.phone",className:"form-control",onChange:this.changePhone("user.phone"),value:t.user.phone||""}),this.getError("user.phone"))),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("profile.birthday")),n.a.createElement(qc,{onChange:this.changeDate("user.birthday"),value:t.user.birthday||"",name:"user.birthday"}),this.getError("user.birthday"))))))))))}}]),t}(n.a.Component),Jc=Object(Kn.a)({Profile:function(e){return e.Profile}}),Wc=Object(s.c)(Jc)(Kc),Xc=function(e){return function(t,a){var r,n=a(),c=n.App.token;if(n.App.isOwner)r=$e.a.post(at.apiHost+"/api/v1/owner/security",e,{headers:{Authorization:c}});else if(n.App.isCustomer)r=$e.a.post(at.apiHost+"/api/v1/customer/security",e,{headers:{Authorization:c}});else{if(!n.App.isStaff)return;r=$e.a.post(at.apiHost+"/api/v1/staff/security",e,{headers:{Authorization:c}})}t({type:"ProfileSecurity/SAVE_BEFORE"}),r.then(function(e){var a=e.data;t({type:Re,payload:a})}).catch(function(e){console.log(e),t({type:"ProfileSecurity/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},Zc=function(e){var t=Object(r.useState)("password"),a=Object(Oc.a)(t,2),c=a[0],s=a[1];return n.a.createElement("div",{className:"input-group"},n.a.createElement("input",Object.assign({type:c,className:"form-control",placeholder:"*******"},e)),n.a.createElement("div",{className:"input-group-append"+(e.value?"":" d-none")},n.a.createElement("i",{className:"input-group-text fa "+("password"===c?"fa-eye":"fa-eye-slash"),onClick:function(){s("password"===c?"text":"password")}})))},$c=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(c)))).submit=function(){var e=a.props.ProfileSecurity.model,t=e.currentPassword,r=e.password1;a.props.dispatch(Xc({currentPassword:t,newPassword:r}))},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:Te,payload:Object(v.a)({},e,t)})},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.getError=function(e){var t=a.props.ProfileSecurity.validator.errors;return void 0===t[e]?null:n.a.createElement("small",{className:"feedback invalid-feedback d-block"},t[e])},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentWillUnmount",value:function(){this.props.dispatch({type:Le})}},{key:"render",value:function(){var e=this.props.ProfileSecurity,t=e.model,a=e.isLoading,r=e.isValid,c=e.serverErrors;return n.a.createElement("div",{className:"container-fluid my-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-4 col-lg-3"},n.a.createElement(Yc,null)),n.a.createElement("div",{className:"col-12 col-md-8 col-lg-9"},n.a.createElement(hc,{errors:c}),n.a.createElement("div",{className:"card shadow-sm mb-3"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},g.t("profile.security_title"))),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},n.a.createElement("button",{className:"btn btn-success btn-sm",onClick:this.submit,disabled:a||!r},n.a.createElement("i",{className:a?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",g.t("profile.action"))))),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-10 col-lg-6 mx-auto"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("profile.currentPassword")),n.a.createElement(Zc,{name:"currentPassword",onChange:this.changeString("currentPassword"),value:t.currentPassword||""}),this.getError("currentPassword")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("profile.password1")),n.a.createElement(Zc,{name:"password1",disabled:!t.currentPassword,onChange:this.changeString("password1"),value:t.password1||""}),this.getError("password1"),t.password1&&Ue.validate(t.password1)?n.a.createElement("small",{className:"feedback valid-feedback d-block"},g.t("validation.strong_password")):null),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("profile.password2")),n.a.createElement(Zc,{name:"password2",disabled:!t.password1,onChange:this.changeString("password2"),value:t.password2||""}),this.getError("password2"))))))))))}}]),t}(n.a.Component),es=Object(Kn.a)({ProfileSecurity:function(e){return e.ProfileSecurity}}),ts=Object(s.c)(es)($c),as=Object(Kn.a)({companies:function(e){return e.Company.items}}),rs=Object(s.c)(as)(function(e){var t=e.model,a=e.companies.find(function(e){return e._id===t.companyId}),r=t.user.email;return(t.user.lastName||t.user.firstName)&&(r=(t.user.lastName+" "+t.user.firstName).trim()),n.a.createElement("div",{className:"col-6 col-md-3 col-lg-2"},n.a.createElement(Yn.a,{to:X.replace(":id",t._id),className:"card shadow-sm mb-1 mr-1 staff-card"},n.a.createElement("div",{className:"card-header p-1 text-truncate bg-light text-dark"},n.a.createElement("i",{className:"fa fa-share-alt"}),"\xa0",a?a.name:"???"),n.a.createElement("div",{className:"card-image"},n.a.createElement(jc,{src:t.user.avatar})),n.a.createElement("div",{className:"card-footer p-1"},n.a.createElement("h5",{className:"m-0 text-truncate"},r),n.a.createElement("p",{className:"m-0 text-truncate"},t.position||"-"),t.isEnabled?n.a.createElement("div",{className:"badge badge-success"},n.a.createElement("i",{className:"fa fa-check"}),"\xa0",g.t("staff.enabled_badge")):n.a.createElement("div",{className:"badge badge-danger"},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("staff.disabled_badge")))))}),ns=function(){var e=Object(s.e)(function(e){return e.Staff.isLoading}),t=Object(s.e)(function(e){return e.Staff.search}),a=Object(s.d)(),r=n.a.useState(t),c=Object(Oc.a)(r,2),o=c[0],i=c[1];return n.a.createElement("div",{className:"input-group input-group-sm"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("i",{className:"fa "+(e?"fa-spin fa-circle-notch":"fa-search")}))),n.a.createElement("input",{type:"text",className:"form-control",placeholder:g.t("placeholder.search"),value:o||"",onKeyDown:function(e){27===e.keyCode&&(i(""),a({type:Xe,payload:{search:""}}))},onChange:function(e){var t=e.target.value;i(t),clearTimeout(Mc),Mc=setTimeout(function(){a({type:Xe,payload:{search:t}})},400)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement(Yn.a,{className:"btn btn-success",to:Z},n.a.createElement("i",{className:"fa fa-plus"}),"\xa0",g.t("staff.new_action"))))},cs=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(c)))).changePage=function(e){a.props.dispatch({type:Xe,payload:{page:e}})},a.renderContent=function(){var e=a.props.Staff,t=e.items,r=e.isLoading;return 0!==t.length||r?n.a.createElement("div",{className:"row no-gutters"},t.map(function(e){return n.a.createElement(rs,{model:e,key:e._id})})):n.a.createElement("div",{className:"text-center pt-4"},n.a.createElement("h4",null,g.t("staff.not_found_title")))},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(ca()),this.changePage(1)}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"card shadow-sm my-3"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},g.t("staff.title"))),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},n.a.createElement(ns,null)))),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},this.renderContent())))))))}}]),t}(n.a.Component),ss=Object(Kn.a)({Staff:function(e){return e.Staff}}),os=Object(s.c)(ss)(cs),is=function(e){return function(t,a){var r=a().App.token;t({type:"StaffEdit/REMOVE_BEFORE"}),$e.a.delete(at.apiHost+"/api/v1/admin/staff/".concat(e),{headers:{Authorization:r}}).then(function(){t({type:pt})}).catch(function(e){t({type:"StaffEdit/REMOVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},ls=function(e){return function(t,a){var r=a().App.token,n=function(e){var t=JSON.parse(JSON.stringify(e));return delete t.id,t.password1&&(t.user.password=t.password1),delete t.password1,delete t.password2,delete t.user.id,delete t.user.displayId,t}(e);t({type:"StaffEdit/SAVE_BEFORE"}),(e.id?$e.a.put(at.apiHost+"/api/v1/admin/staff/".concat(e.id),n,{headers:{Authorization:r}}):$e.a.post(at.apiHost+"/api/v1/admin/staff",n,{headers:{Authorization:r}})).then(function(e){var a=e.data;t({type:ut,payload:a,flatten:fc(a)})}).catch(function(e){console.log(e),t({type:"StaffEdit/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},ds=function(e){return function(t){var a=new FormData;a.append("file",e),$e.a.post(at.storageHost+"/api/v1/media",a).then(function(e){var a=e.data;t({type:ft,payload:{"user.avatar":a.url}})}).catch(function(e){console.log(e)})}},us=function(e){return function(t,a){var r=a().App.token;t({type:"StaffEdit/SAVE_BEFORE"}),$e.a.put(at.apiHost+"/api/v1/admin/staff/".concat(e.id,"/security"),{newPassword:e.password1},{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:ut,payload:a,flatten:fc(a)})}).catch(function(e){console.log(e),t({type:"StaffEdit/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}};function ms(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ps(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ms(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ms(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var fs,vs=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(c)))).deactivate=function(){var e=a.props.StaffEdit.model;a.props.dispatch(ls(ps({},e,{isEnabled:!1})))},a.activate=function(){var e=a.props.StaffEdit.model;a.props.dispatch(ls(ps({},e,{isEnabled:!0})))},a.remove=function(){if(window.confirm(g.t("staff_edit.remove_confirm_title"))){var e=a.props.StaffEdit.model.id;a.props.dispatch(is(e))}},a.submit=function(){var e=a.props.StaffEdit.model;a.props.dispatch(ls(e))},a.submitSecurity=function(){var e=a.props.StaffEdit.model;a.props.dispatch(us(e))},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:ft,payload:Object(v.a)({},e,t)})},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.changeDate=function(e){return function(t){return a.change(e,t)}},a.changePhone=function(e){return function(t){a.change(e,t.target.value.replace(/[^\d+]/g,""))}},a.getError=function(e){var t=a.props.StaffEdit.validator.errors;return void 0===t[e]?null:n.a.createElement("small",{className:"feedback invalid-feedback d-block"},t[e])},a.setAvatar=function(e){var t=e.target.files[0];t&&(a.props.dispatch(ds(t)),e.target.value=null)},a.grantAdmin=function(){var e=a.props.StaffEdit.model;window.confirm(g.t("staff_edit.grant_admin_confirm"))&&a.props.dispatch(ls({id:e.id,user:{isAdmin:!0}}))},a.ungrantAdmin=function(){var e=a.props.StaffEdit.model;window.confirm(g.t("staff_edit.ungrant_admin_confirm"))&&a.props.dispatch(ls({id:e.id,user:{isAdmin:!1}}))},a.renderAdmin=function(){var e=a.props.StaffEdit,t=e.model,r=e.isLoading;return n.a.createElement("div",{className:"card mb-4 border-warning text-warning"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-center"},n.a.createElement("p",null,g.t("staff_edit.is_admin_title")),t.user.isAdmin?n.a.createElement("button",{className:"btn btn-outline-warning btn-sm",onClick:a.ungrantAdmin,disabled:r},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-times"}),"\xa0",g.t("staff_edit.ungrant_admin_action")):n.a.createElement("button",{className:"btn btn-outline-warning btn-sm",onClick:a.grantAdmin,disabled:r},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-plus"}),"\xa0",g.t("staff_edit.grant_admin_action"))))))},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e?this.props.dispatch(function(e){return function(t,a){var r=a().App.token;t({type:"StaffEdit/FETCH_BEFORE"}),$e.a.get(at.apiHost+"/api/v1/admin/staff/".concat(e),{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:dt,payload:a,flatten:fc(a)})}).catch(function(e){t({type:"StaffEdit/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}}(e)):this.props.dispatch({type:dt,payload:{},flatten:{}}),this.props.dispatch(ca()),this.props.dispatch(Lt())}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:vt})}},{key:"renderDelete",value:function(){var e=this.props.StaffEdit,t=e.model,a=e.isLoading;return t.id?n.a.createElement("div",{className:"card mb-4 text-danger border-danger"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-center"},n.a.createElement("p",null,g.t("staff_edit.remove_content")),n.a.createElement("button",{className:"btn btn-outline-danger btn-sm",onClick:this.remove,disabled:a},n.a.createElement("i",{className:a?"fa fa-spin fa-circle-notch":"fa fa-trash"}),"\xa0",g.t("staff_edit.remove_action")))))):null}},{key:"renderSecurity",value:function(){var e=this.props.StaffEdit,t=e.model,a=e.isLoading,r=e.isValid;return n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h4",{className:"card-title"},g.t("staff_edit.security_title")),n.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},g.t("staff_edit.security_subtitle"))),n.a.createElement("div",{className:"col-auto"},t.id?n.a.createElement("button",{className:"btn btn-success btn-sm",onClick:this.submitSecurity,disabled:a||!r},n.a.createElement("i",{className:a?"fa fa-spin fa-circle-notch":"fa fa-key"}),"\xa0",g.t("staff_edit.save_action")):null)),n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("staff_edit.password1")),n.a.createElement(Zc,{name:"password1",onChange:this.changeString("password1"),value:t.password1||""}),this.getError("password1"),t.password1&&Ue.validate(t.password1)?n.a.createElement("small",{className:"feedback valid-feedback d-block"},g.t("validation.strong_password")):null)),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("staff_edit.password2")),n.a.createElement(Zc,{name:"password2",onChange:this.changeString("password2"),value:t.password2||""}),this.getError("password2")))))))}},{key:"renderPosition",value:function(){var e=this.props,t=e.companies,a=e.stores,r=this.props.StaffEdit.model;return n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"card-title"},g.t("staff_edit.position_title")),n.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},g.t("staff_edit.position_subtitle")),n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("staff_edit.company")),n.a.createElement("select",{name:"companyId",value:r.companyId||"",onChange:this.changeString("companyId"),className:"form-control"},n.a.createElement("option",{value:""},g.t("placeholder.select")),t.map(function(e){return n.a.createElement("option",{key:e._id,value:e._id},e.name)})),this.getError("companyId"))),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("staff_edit.store")),n.a.createElement("select",{name:"storeId",value:r.storeId||"",disabled:!r.companyId,onChange:this.changeString("storeId"),className:"form-control"},n.a.createElement("option",{value:""},g.t("placeholder.select")),a.filter(function(e){return e.companyId===r.companyId}).map(function(e){return n.a.createElement("option",{key:e._id,value:e._id},e.address||e._id)})),this.getError("storeId")))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("staff_edit.position")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"position",className:"form-control",onChange:this.changeString("position"),value:r.position||""}),this.getError("position")))))}},{key:"render",value:function(){var e=this.props.StaffEdit,t=e.model,a=e.isValid,r=e.isLoading,c=e.serverErrors;return n.a.createElement("div",{className:"container my-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-4 col-lg-3 text-center"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement(jc,{src:t.user.avatar})),n.a.createElement("div",{className:"card-footer p-1"},n.a.createElement("label",{className:"btn btn-secondary btn-sm m-0"},n.a.createElement("i",{className:"fa fa-upload"}),"\xa0",g.t("staff_edit.upload_action"),n.a.createElement("input",{type:"file",className:"d-none",accept:"image/*",max:1,min:1,onChange:this.setAvatar,disabled:r}))))),n.a.createElement("div",{className:"col-12 col-md-8 col-lg-9"},n.a.createElement(hc,{errors:c}),n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},t.user.email),t.user.isAdmin?n.a.createElement("div",{className:"badge badge-danger"},n.a.createElement("i",{className:"fa fa-user"}),"\xa0",g.t("staff_edit.admin_badge")):null),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},t.id&&t.isEnabled?n.a.createElement("button",{className:"btn btn-outline-danger btn-sm mx-1",onClick:this.deactivate,disabled:r||!a},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-ban"}),"\xa0",g.t("staff_edit.deactivate_action")):null,t.id&&!t.isEnabled?n.a.createElement("button",{className:"btn btn-outline-success btn-sm mx-1",onClick:this.activate,disabled:r||!a},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",g.t("staff_edit.activate_action")):null,n.a.createElement("button",{className:"btn btn-success btn-sm mx-1",onClick:this.submit,disabled:r||!a},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-save"}),"\xa0",g.t("staff_edit.save_action"))))),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{noValidate:!0,autoComplete:"off"},t.id?null:n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("staff_edit.email")),n.a.createElement("input",{type:"email",placeholder:g.t("placeholder.text"),name:"user.email",className:"form-control",onChange:this.changeString("user.email"),value:t.user.email||""}),this.getError("user.email")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("staff_edit.firstName")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.firstName",className:"form-control",onChange:this.changeString("user.firstName"),value:t.user.firstName||""}),this.getError("user.firstName"))),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("staff_edit.lastName")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.lastName",className:"form-control",onChange:this.changeString("user.lastName"),value:t.user.lastName||""}),this.getError("user.lastName")))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("staff_edit.phone")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.phone",className:"form-control",onChange:this.changePhone("user.phone"),value:t.user.phone||""}),this.getError("user.phone"))),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("staff_edit.birthday")),n.a.createElement(qc,{onChange:this.changeDate("user.birthday"),value:t.user.birthday||"",name:"user.birthday"}),this.getError("user.birthday"))))))),this.renderPosition(),this.renderSecurity(),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},this.renderAdmin()),n.a.createElement("div",{className:"col-12 col-md-6"},this.renderDelete())))))}}]),t}(n.a.Component),Es=Object(Kn.a)({StaffEdit:function(e){return e.StaffEdit},companies:function(e){return e.Company.items},stores:function(e){return e.Store.items}}),hs=Object(Gn.g)(Object(s.c)(Es)(vs)),bs=a(104),gs=a.n(bs),ys=function(e){var t=e.src,a=n.a.useState(gs.a),r=Object(Oc.a)(a,2),c=r[0],s=r[1];return n.a.useEffect(function(){t&&s(t)},[t]),n.a.createElement("div",{className:"avatar-container"},n.a.createElement("img",{src:c,onError:function(){return s(gs.a)},alt:"",className:"img-fluid"}))},ws=Object(Kn.a)({owners:function(e){return e.Owner.items}}),Ns=Object(s.c)(ws)(function(e){var t=e.model,a=e.owners.find(function(e){return e._id===t.ownerId}),r="???";return a&&(r=a.user.email,(a.user.lastName||a.user.firstName)&&(r=(a.user.lastName+" "+a.user.firstName).trim())),n.a.createElement("div",{className:"col-6 col-md-3 col-lg-2"},n.a.createElement(Yn.a,{to:J.replace(":id",t._id),className:"card shadow-sm mb-1 mr-1 company-card"},n.a.createElement("div",{className:"card-header p-1 text-truncate bg-light text-dark"},n.a.createElement("i",{className:"fa fa-user-circle"}),"\xa0",r),n.a.createElement("div",{className:"card-image"},n.a.createElement(ys,{src:t.logo})),n.a.createElement("div",{className:"card-footer p-1"},n.a.createElement("p",{className:"m-0 text-truncate"},t.name),t.isEnabled?n.a.createElement("div",{className:"badge badge-success"},n.a.createElement("i",{className:"fa fa-check"}),"\xa0",g.t("owner.enabled_badge")):n.a.createElement("div",{className:"badge badge-danger"},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("owner.disabled_badge")))))}),Os=function(){var e=Object(s.e)(function(e){return e.Company.isLoading}),t=Object(s.e)(function(e){return e.Company.search}),a=Object(s.d)(),r=n.a.useState(t),c=Object(Oc.a)(r,2),o=c[0],i=c[1];return n.a.createElement("div",{className:"input-group input-group-sm"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("i",{className:"fa "+(e?"fa-spin fa-circle-notch":"fa-search")}))),n.a.createElement("input",{type:"text",className:"form-control",placeholder:g.t("placeholder.search"),value:o||"",onKeyDown:function(e){27===e.keyCode&&(i(""),a({type:na,payload:{search:""}}))},onChange:function(e){var t=e.target.value;i(t),clearTimeout(fs),fs=setTimeout(function(){a({type:na,payload:{search:t}})},400)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement(Yn.a,{className:"btn btn-success",to:K},n.a.createElement("i",{className:"fa fa-plus"}),"\xa0",g.t("company.new_action"))))},_s=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(c)))).changePage=function(e){a.props.dispatch({type:na,payload:{page:e}})},a.renderContent=function(){var e=a.props.Company,t=e.items,r=e.isLoading;return 0!==t.length||r?n.a.createElement("div",{className:"row no-gutters"},t.map(function(e){return n.a.createElement(Ns,{model:e,key:e._id})})):n.a.createElement("div",{className:"text-center pt-4"},n.a.createElement("h4",null,g.t("company.not_found_title")))},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(cr()),this.changePage(1)}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"card shadow-sm my-3"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},g.t("company.title"))),n.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 text-right"},n.a.createElement(Os,null)))),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},this.renderContent())))))))}}]),t}(n.a.Component),Ss=Object(Kn.a)({Company:function(e){return e.Company}}),Cs=Object(s.c)(Ss)(_s);function js(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var As=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?js(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):js(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return delete t.id,t},xs=function(e){return function(t,a){var r=a().App.token,n=As(e);t({type:"CompanyEdit/SAVE_BEFORE"}),(e.id?$e.a.put(at.apiHost+"/api/v1/admin/companies/".concat(e.id),n,{headers:{Authorization:r}}):$e.a.post(at.apiHost+"/api/v1/admin/companies",n,{headers:{Authorization:r}})).then(function(e){var a=e.data;t({type:pa,payload:a,flatten:fc(a)})}).catch(function(e){console.log(e),t({type:"CompanyEdit/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},ks=function(e){var t=e.title,a=e.content,r=e.selected,c=e.onClick;return n.a.createElement("div",{className:"card condition-card mb-2 bg-secondary text-white"+(r?" border-success":""),onClick:c},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h4",{className:"card-title"},t)),n.a.createElement("div",{className:"col-auto"},n.a.createElement("input",{type:"checkbox",checked:r,onChange:c}))),n.a.createElement("p",{className:"card-text"},a)))};ks.defaultProps={selected:!1};var Is=ks,Rs=function(e){return function(t){var a=new FormData;a.append("file",e),$e.a.post(at.storageHost+"/api/v1/media",a).then(function(e){var a=e.data;t({type:va,payload:{logo:a.url}})}).catch(function(e){console.log(e)})}};function Fs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Ts(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fs(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fs(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ls,Ps=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(c)))).deactivate=function(){var e=a.props.CompanyEdit.model;a.props.dispatch(xs(Ts({},e,{isEnabled:!1})))},a.activate=function(){var e=a.props.CompanyEdit.model;a.props.dispatch(xs(Ts({},e,{isEnabled:!0})))},a.submit=function(){var e=a.props.CompanyEdit.model;a.props.dispatch(xs(e))},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:va,payload:Object(v.a)({},e,t)})},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.setCondition=function(e){return function(){return a.change("bonusCondition",e)}},a.setLogotype=function(e){var t=e.target.files[0];t&&(a.props.dispatch(Rs(t)),e.target.value=null)},a.getError=function(e){var t=a.props.CompanyEdit.validator.errors;return void 0===t[e]?null:n.a.createElement("small",{className:"feedback invalid-feedback d-block"},t[e])},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e?this.props.dispatch(function(e){return function(t,a){var r=a().App.token;t({type:"CompanyEdit/FETCH_BEFORE"}),$e.a.get(at.apiHost+"/api/v1/admin/companies/".concat(e),{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:ma,payload:a,flatten:fc(a)})}).catch(function(e){t({type:"CompanyEdit/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}}(e)):this.props.dispatch({type:ma,payload:{},flatten:{}}),this.props.dispatch(cr()),this.props.dispatch(function(e,t){var a=t().App.token;$e.a.get(at.apiHost+"/api/v1/bonus-conditions",{headers:{Authorization:a}}).then(function(t){var a=t.data;e({type:"App/FETCH_BONUS_CONDITIONS_SUCCESS",payload:a})}).catch(function(t){console.log(t),e({type:"App/FETCH_BONUS_CONDITIONS_FAILURE",payload:{status:t.response?t.response.status:0,data:t.response?t.response.data:null}})})})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CompanyEdit/RESET"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.owners,r=t.conditions,c=this.props.CompanyEdit,s=c.model,o=c.isValid,i=c.isLoading,l=c.serverErrors,d="";return i||(d=s.id?g.t("company_edit.title"):g.t("company_edit.new_title")),n.a.createElement("div",{className:"container my-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-4 col-lg-3 text-center"},n.a.createElement("div",{className:"card mb-3"},n.a.createElement("div",{className:"card-body"},n.a.createElement(ys,{src:s.logo})),n.a.createElement("div",{className:"card-footer p-1"},n.a.createElement("label",{className:"btn btn-secondary btn-sm m-0"},n.a.createElement("i",{className:"fa fa-upload"}),"\xa0",g.t("company_edit.upload_action"),n.a.createElement("input",{type:"file",className:"d-none",accept:"image/*",max:1,min:1,onChange:this.setLogotype,disabled:i}))))),n.a.createElement("div",{className:"col-12 col-md-8 col-lg-9"},n.a.createElement(hc,{errors:l}),n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},d)),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},s.id&&s.isEnabled?n.a.createElement("button",{className:"btn btn-outline-danger btn-sm mx-1",onClick:this.deactivate,disabled:i||!o},n.a.createElement("i",{className:i?"fa fa-spin fa-circle-notch":"fa fa-ban"}),"\xa0",g.t("company_edit.deactivate_action")):null,s.id&&!s.isEnabled?n.a.createElement("button",{className:"btn btn-outline-success btn-sm mx-1",onClick:this.activate,disabled:i||!o},n.a.createElement("i",{className:i?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",g.t("company_edit.activate_action")):null,n.a.createElement("button",{className:"btn btn-success btn-sm mx-1",onClick:this.submit,disabled:i||!o},n.a.createElement("i",{className:i?"fa fa-spin fa-circle-notch":"fa fa-save"}),"\xa0",g.t("company_edit.save_action"))))),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("company_edit.name")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),className:"form-control",onChange:this.changeString("name"),value:s.name||""}),this.getError("name"))),n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("company_edit.owner")),n.a.createElement("select",{className:"form-control",onChange:this.changeString("ownerId"),value:s.ownerId||""},n.a.createElement("option",{value:""},g.t("placeholder.select")),a.map(function(e){return n.a.createElement("option",{key:e._id,value:e._id},e.user.lastName," ",e.user.firstName," (",e.user.email,")")})),this.getError("ownerId")))))),n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"card-title"},g.t("company_edit.conditions_title")),n.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},g.t("company_edit.conditions_subtitle")),n.a.createElement("div",{className:"row"},r.map(function(t){return n.a.createElement("div",{key:t.code,className:"col-12 col-md-6"},n.a.createElement(Is,{onClick:e.setCondition(t.code),title:t.title,content:t.description,selected:s.bonusCondition===t.code}))})))))))}}]),t}(n.a.Component),Ds=Object(Kn.a)({owners:function(e){return e.Owner.items},conditions:function(e){return e.Conditions.items},CompanyEdit:function(e){return e.CompanyEdit}}),Us=Object(Gn.g)(Object(s.c)(Ds)(Ps)),Vs=a(130),Hs=a.n(Vs),qs=Object(Kn.a)({companies:function(e){return e.Company.items}}),Bs=Object(s.c)(qs)(function(e){var t=e.model,a=e.companies.find(function(e){return e._id===t.companyId});return n.a.createElement("div",{className:"col-6 col-md-3 col-lg-2"},n.a.createElement(Yn.a,{to:z.replace(":id",t._id),className:"card shadow-sm mb-1 mr-1 store-card"},n.a.createElement("div",{className:"card-header p-1 text-truncate bg-light text-dark"},n.a.createElement("i",{className:"fa fa-share-alt"}),"\xa0",a?a.name:"???"),n.a.createElement("div",{className:"card-image"},n.a.createElement("img",{src:Hs.a,alt:"",className:"img-fluid p-4"})),n.a.createElement("div",{className:"card-footer p-1"},n.a.createElement("h6",{className:"m-0 text-truncate"},t.city||"-"),n.a.createElement("p",{className:"m-0 text-truncate"},t.address||"-"),t.isEnabled?n.a.createElement("div",{className:"badge badge-success"},n.a.createElement("i",{className:"fa fa-check"}),"\xa0",g.t("store.enabled_badge")):n.a.createElement("div",{className:"badge badge-danger"},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("store.disabled_badge")))))}),Ms=function(){var e=Object(s.e)(function(e){return e.Store.isLoading}),t=Object(s.e)(function(e){return e.Store.search}),a=Object(s.d)(),r=n.a.useState(t),c=Object(Oc.a)(r,2),o=c[0],i=c[1];return n.a.createElement("div",{className:"input-group input-group-sm"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("i",{className:"fa "+(e?"fa-spin fa-circle-notch":"fa-search")}))),n.a.createElement("input",{type:"text",className:"form-control",placeholder:g.t("placeholder.search"),value:o||"",onKeyDown:function(e){27===e.keyCode&&(i(""),a({type:Tt,payload:{search:""}}))},onChange:function(e){var t=e.target.value;i(t),clearTimeout(Ls),Ls=setTimeout(function(){a({type:Tt,payload:{search:t}})},400)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement(Yn.a,{className:"btn btn-success",to:G},n.a.createElement("i",{className:"fa fa-plus"}),"\xa0",g.t("store.new_action"))))},Qs=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(c)))).changePage=function(e){a.props.dispatch({type:Tt,payload:{page:e}})},a.renderContent=function(){var e=a.props.Store,t=e.items,r=e.isLoading;return 0!==t.length||r?n.a.createElement("div",{className:"row no-gutters"},t.map(function(e){return n.a.createElement(Bs,{model:e,key:e._id})})):n.a.createElement("div",{className:"text-center pt-4"},n.a.createElement("h4",null,g.t("store.not_found_title")))},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(ca()),this.changePage(1)}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"card shadow-sm my-3"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},g.t("store.title"))),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},n.a.createElement(Ms,null)))),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},this.renderContent())))))))}}]),t}(n.a.Component),Gs=Object(Kn.a)({Store:function(e){return e.Store}}),zs=Object(s.c)(Gs)(Qs);function Ys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var Ks=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ys(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return delete t.id,t},Js=function(e){return function(t,a){var r,n=a().App.token,c=Ks(e);r=e.id?$e.a.put(at.apiHost+"/api/v1/admin/stores/".concat(e.id),c,{headers:{Authorization:n}}):$e.a.post(at.apiHost+"/api/v1/admin/stores",c,{headers:{Authorization:n}}),t({type:"StoreEdit/SAVE_BEFORE"}),r.then(function(e){var a=e.data;t({type:Mt,payload:a,flatten:fc(a)})}).catch(function(e){console.log(e),t({type:"StoreEdit/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}};function Ws(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Xs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ws(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ws(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Zs,$s=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(c)))).deactivate=function(){var e=a.props.StoreEdit.model;a.props.dispatch(Js(Xs({},e,{isEnabled:!1})))},a.activate=function(){var e=a.props.StoreEdit.model;a.props.dispatch(Js(Xs({},e,{isEnabled:!0})))},a.submit=function(){var e=a.props.StoreEdit.model;a.props.dispatch(Js(e))},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:Gt,payload:Object(v.a)({},e,t)})},a.changeFloat=function(e){return function(t){var r=parseFloat(t.target.value);isNaN(r)&&(r=null),a.change(e,r)}},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.getError=function(e){var t=a.props.StoreEdit.validator.errors;return void 0===t[e]?null:n.a.createElement("small",{className:"feedback invalid-feedback d-block"},t[e])},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e?this.props.dispatch(function(e){return function(t,a){var r=a().App.token;t({type:"StoreEdit/FETCH_BEFORE"}),$e.a.get(at.apiHost+"/api/v1/admin/stores/".concat(e),{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:Bt,payload:a,flatten:fc(a)})}).catch(function(e){t({type:"StoreEdit/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}}(e)):this.props.dispatch({type:Bt,payload:{},flatten:{}}),this.props.dispatch(ca())}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"StoreEdit/RESET"})}},{key:"render",value:function(){var e=this.props,t=e.companies,a=(e.conditions,this.props.StoreEdit),r=a.model,c=a.isValid,s=a.isLoading,o=a.serverErrors,i="";return s||(i=r.id?g.t("store_edit.title"):g.t("store_edit.new_title")),n.a.createElement("div",{className:"container my-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement(hc,{errors:o}),n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},i)),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},r.id&&r.isEnabled?n.a.createElement("button",{className:"btn btn-outline-danger btn-sm mx-1",onClick:this.deactivate,disabled:s||!c},n.a.createElement("i",{className:s?"fa fa-spin fa-circle-notch":"fa fa-ban"}),"\xa0",g.t("store_edit.deactivate_action")):null,r.id&&!r.isEnabled?n.a.createElement("button",{className:"btn btn-outline-success btn-sm mx-1",onClick:this.activate,disabled:s||!c},n.a.createElement("i",{className:s?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",g.t("store_edit.activate_action")):null,n.a.createElement("button",{className:"btn btn-success btn-sm mx-1",onClick:this.submit,disabled:s||!c},n.a.createElement("i",{className:s?"fa fa-spin fa-circle-notch":"fa fa-save"}),"\xa0",g.t("store_edit.save_action"))))),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("store_edit.company")),n.a.createElement("select",{value:r.companyId||"",onChange:this.changeString("companyId"),className:"form-control"},n.a.createElement("option",{value:""},g.t("placeholder.select")),t.map(function(e){return n.a.createElement("option",{key:e._id,value:e._id},e.name)})),this.getError("companyId")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("store_edit.city")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),className:"form-control",onChange:this.changeString("city"),value:r.city||""}),this.getError("city"))),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("store_edit.address")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),className:"form-control",onChange:this.changeString("address"),value:r.address||""}),this.getError("address")))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("store_edit.coordinates")),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",placeholder:g.t("store_edit.lat"),className:"form-control",onChange:this.changeFloat("lat"),value:r.lat||""}),n.a.createElement("input",{type:"text",placeholder:g.t("store_edit.lng"),className:"form-control",onChange:this.changeFloat("lng"),value:r.lng||""})),this.getError("coordinates")))))))))}}]),t}(n.a.Component),eo=Object(Kn.a)({companies:function(e){return e.Company.items},StoreEdit:function(e){return e.StoreEdit}}),to=Object(Gn.g)(Object(s.c)(eo)($s)),ao=function(e){var t=e.model,a=t.user.email;return(t.user.lastName||t.user.firstName)&&(a=(t.user.lastName+" "+t.user.firstName).trim()),n.a.createElement("div",{className:"col-6 col-md-3 col-lg-2"},n.a.createElement(Yn.a,{to:re.replace(":id",t._id),className:"card shadow-sm mb-1 mr-1 staff-card"},n.a.createElement("div",{className:"card-image"},n.a.createElement(jc,{src:t.user.avatar})),n.a.createElement("div",{className:"card-footer p-1"},n.a.createElement("h5",{className:"m-0 text-truncate"},a),t.isEnabled?n.a.createElement("div",{className:"badge badge-success"},n.a.createElement("i",{className:"fa fa-check"}),"\xa0",g.t("customer.enabled_badge")):n.a.createElement("div",{className:"badge badge-danger"},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("customer.disabled_badge")))))},ro=function(){var e=Object(s.e)(function(e){return e.Customer.isLoading}),t=Object(s.e)(function(e){return e.Customer.search}),a=Object(s.d)(),r=n.a.useState(t),c=Object(Oc.a)(r,2),o=c[0],i=c[1];return n.a.createElement("div",{className:"input-group input-group-sm"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("i",{className:"fa "+(e?"fa-spin fa-circle-notch":"fa-search")}))),n.a.createElement("input",{type:"text",className:"form-control",placeholder:g.t("placeholder.search"),value:o||"",onKeyDown:function(e){27===e.keyCode&&(i(""),a({type:Aa,payload:{search:""}}))},onChange:function(e){var t=e.target.value;i(t),clearTimeout(Zs),Zs=setTimeout(function(){a({type:Aa,payload:{search:t}})},400)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement(Yn.a,{className:"btn btn-success",to:ne},n.a.createElement("i",{className:"fa fa-plus"}),"\xa0",g.t("customer.new_action"))))},no=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(c)))).changePage=function(e){a.props.dispatch({type:Aa,payload:{page:e}})},a.renderContent=function(){var e=a.props.Customer,t=e.items,r=e.isLoading;return 0!==t.length||r?n.a.createElement("div",{className:"row no-gutters"},t.map(function(e){return n.a.createElement(ao,{model:e,key:e._id})})):n.a.createElement("div",{className:"text-center pt-4"},n.a.createElement("h4",null,g.t("customer.not_found_title")))},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){this.changePage(1)}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"card shadow-sm my-3"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},g.t("customer.title"))),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},n.a.createElement(ro,null)))),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},this.renderContent())))))))}}]),t}(n.a.Component),co=Object(Kn.a)({Customer:function(e){return e.Customer}}),so=Object(s.c)(co)(no),oo=function(e){return function(t,a){var r=a().App.token;t({type:"CustomerEdit/REMOVE_BEFORE"}),$e.a.delete(at.apiHost+"/api/v1/admin/customers/".concat(e),{headers:{Authorization:r}}).then(function(){t({type:Va})}).catch(function(e){t({type:"CustomerEdit/REMOVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},io=function(e){return function(t,a){var r=a().App.token,n=function(e){var t=JSON.parse(JSON.stringify(e));return delete t.id,t.password1&&(t.user.password=t.password1),delete t.password1,delete t.password2,delete t.user.id,delete t.user.displayId,t}(e);t({type:"CustomerEdit/SAVE_BEFORE"}),(e.id?$e.a.put(at.apiHost+"/api/v1/admin/customers/".concat(e.id),n,{headers:{Authorization:r}}):$e.a.post(at.apiHost+"/api/v1/admin/customers",n,{headers:{Authorization:r}})).then(function(e){var a=e.data;t({type:Da,payload:a,flatten:fc(a)})}).catch(function(e){console.log(e),t({type:"CustomerEdit/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},lo=function(e){return function(t){var a=new FormData;a.append("file",e),$e.a.post(at.storageHost+"/api/v1/media",a).then(function(e){var a=e.data;t({type:Ha,payload:{"user.avatar":a.url}})}).catch(function(e){console.log(e)})}},uo=function(e){return function(t,a){var r=a().App.token;t({type:"CustomerEdit/SAVE_BEFORE"}),$e.a.put(at.apiHost+"/api/v1/admin/customers/".concat(e.id,"/security"),{newPassword:e.password1},{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:Da,payload:a,flatten:fc(a)})}).catch(function(e){console.log(e),t({type:"CustomerEdit/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}};function mo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function po(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mo(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mo(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var fo,vo=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(c)))).deactivate=function(){var e=a.props.CustomerEdit.model;a.props.dispatch(io(po({},e,{isEnabled:!1})))},a.activate=function(){var e=a.props.CustomerEdit.model;a.props.dispatch(io(po({},e,{isEnabled:!0})))},a.remove=function(){if(window.confirm(g.t("customer_edit.remove_confirm_title"))){var e=a.props.CustomerEdit.model.id;a.props.dispatch(oo(e))}},a.submit=function(){var e=a.props.CustomerEdit.model;a.props.dispatch(io(e))},a.submitSecurity=function(){var e=a.props.CustomerEdit.model;a.props.dispatch(uo(e))},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:Ha,payload:Object(v.a)({},e,t)})},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.changeDate=function(e){return function(t){return a.change(e,t)}},a.changePhone=function(e){return function(t){a.change(e,t.target.value.replace(/[^\d+]/g,""))}},a.setAvatar=function(e){var t=e.target.files[0];t&&(a.props.dispatch(lo(t)),e.target.value=null)},a.getError=function(e){var t=a.props.CustomerEdit.validator.errors;return void 0===t[e]?null:n.a.createElement("small",{className:"feedback invalid-feedback d-block"},t[e])},a.grantAdmin=function(){var e=a.props.CustomerEdit.model;window.confirm(g.t("customer_edit.grant_admin_confirm"))&&a.props.dispatch(io({id:e.id,user:{isAdmin:!0}}))},a.ungrantAdmin=function(){var e=a.props.CustomerEdit.model;window.confirm(g.t("customer_edit.ungrant_admin_confirm"))&&a.props.dispatch(io({id:e.id,user:{isAdmin:!1}}))},a.renderAdmin=function(){var e=a.props.CustomerEdit,t=e.model,r=e.isLoading;return n.a.createElement("div",{className:"card mb-4 border-warning text-warning"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-center"},n.a.createElement("p",null,g.t("customer_edit.is_admin_title")),t.user.isAdmin?n.a.createElement("button",{className:"btn btn-outline-warning btn-sm",onClick:a.ungrantAdmin,disabled:r},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-times"}),"\xa0",g.t("customer_edit.ungrant_admin_action")):n.a.createElement("button",{className:"btn btn-outline-warning btn-sm",onClick:a.grantAdmin,disabled:r},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-plus"}),"\xa0",g.t("customer_edit.grant_admin_action"))))))},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e?this.props.dispatch(function(e){return function(t,a){var r=a().App.token;t({type:"CustomerEdit/FETCH_BEFORE"}),$e.a.get(at.apiHost+"/api/v1/admin/customers/".concat(e),{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:Pa,payload:a,flatten:fc(a)})}).catch(function(e){t({type:"CustomerEdit/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}}(e)):this.props.dispatch({type:Pa,payload:{},flatten:{}})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CustomerEdit/RESET"})}},{key:"renderDelete",value:function(){var e=this.props.CustomerEdit,t=e.model,a=e.isLoading;return t.id?n.a.createElement("div",{className:"card mb-4 border-danger text-danger"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-center"},n.a.createElement("p",null,g.t("customer_edit.remove_content")),n.a.createElement("button",{className:"btn btn-outline-danger btn-sm",onClick:this.remove,disabled:a},n.a.createElement("i",{className:a?"fa fa-spin fa-circle-notch":"fa fa-trash"}),"\xa0",g.t("customer_edit.remove_action")))))):null}},{key:"renderSecurity",value:function(){var e=this.props.CustomerEdit,t=e.model,a=e.isLoading,r=e.isValid;return n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h4",{className:"card-title"},g.t("customer_edit.security_title")),n.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},g.t("customer_edit.security_subtitle"))),n.a.createElement("div",{className:"col-auto"},t.id?n.a.createElement("button",{className:"btn btn-success btn-sm",onClick:this.submitSecurity,disabled:a||!r},n.a.createElement("i",{className:a?"fa fa-spin fa-circle-notch":"fa fa-key"}),"\xa0",g.t("customer_edit.save_action")):null)),n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("customer_edit.password1")),n.a.createElement(Zc,{name:"password1",onChange:this.changeString("password1"),value:t.password1||""}),this.getError("password1"),t.password1&&Ue.validate(t.password1)?n.a.createElement("small",{className:"feedback valid-feedback d-block"},g.t("validation.strong_password")):null)),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("customer_edit.password2")),n.a.createElement(Zc,{name:"password2",onChange:this.changeString("password2"),value:t.password2||""}),this.getError("password2")))))))}},{key:"render",value:function(){var e=this.props.CustomerEdit,t=e.model,a=e.isValid,r=e.isLoading,c=e.serverErrors;return n.a.createElement("div",{className:"container my-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-4 col-lg-3 text-center"},n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-body"},n.a.createElement(jc,{src:t.user.avatar})),n.a.createElement("div",{className:"card-footer p-1"},n.a.createElement("label",{className:"btn btn-secondary btn-sm m-0"},n.a.createElement("i",{className:"fa fa-upload"}),"\xa0",g.t("customer_edit.upload_action"),n.a.createElement("input",{type:"file",className:"d-none",accept:"image/*",max:1,min:1,onChange:this.setAvatar,disabled:r}))))),n.a.createElement("div",{className:"col-12 col-md-8 col-lg-9"},n.a.createElement(hc,{errors:c}),n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},t.user.email),t.user.isAdmin?n.a.createElement("div",{className:"badge badge-danger"},n.a.createElement("i",{className:"fa fa-user"}),"\xa0",g.t("profile.admin_badge")):null),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},t.id&&t.isEnabled?n.a.createElement("button",{className:"btn btn-outline-danger btn-sm mx-1",onClick:this.deactivate,disabled:r||!a},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-ban"}),"\xa0",g.t("customer_edit.deactivate_action")):null,t.id&&!t.isEnabled?n.a.createElement("button",{className:"btn btn-outline-success btn-sm mx-1",onClick:this.activate,disabled:r||!a},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",g.t("customer_edit.activate_action")):null,n.a.createElement("button",{className:"btn btn-success btn-sm mx-1",onClick:this.submit,disabled:r||!a},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-save"}),"\xa0",g.t("customer_edit.save_action"))))),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{noValidate:!0,autoComplete:"off"},t.id?null:n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("customer_edit.email")),n.a.createElement("input",{type:"email",placeholder:g.t("placeholder.text"),name:"user.email",className:"form-control",onChange:this.changeString("user.email"),value:t.user.email||""}),this.getError("user.email")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("customer_edit.firstName")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.firstName",className:"form-control",onChange:this.changeString("user.firstName"),value:t.user.firstName||""}),this.getError("user.firstName"))),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("customer_edit.lastName")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.lastName",className:"form-control",onChange:this.changeString("user.lastName"),value:t.user.lastName||""}),this.getError("user.lastName")))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("profile.phone")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.phone",className:"form-control",onChange:this.changePhone("user.phone"),value:t.user.phone||""}),this.getError("user.phone"))),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("profile.birthday")),n.a.createElement(qc,{onChange:this.changeDate("user.birthday"),value:t.user.birthday||"",name:"user.birthday"}),this.getError("user.birthday"))))))),this.renderSecurity(),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},this.renderAdmin()),n.a.createElement("div",{className:"col-12 col-md-6"},this.renderDelete())))))}}]),t}(n.a.Component),Eo=Object(Kn.a)({CustomerEdit:function(e){return e.CustomerEdit}}),ho=Object(Gn.g)(Object(s.c)(Eo)(vo)),bo=function(e){var t=e.model,a=t.user.email;return(t.user.lastName||t.user.firstName)&&(a=(t.user.lastName+" "+t.user.firstName).trim()),n.a.createElement("div",{className:"col-6 col-md-3 col-lg-2"},n.a.createElement(Yn.a,{to:ee.replace(":id",t._id),className:"card shadow-sm mb-1 mr-1 staff-card"},n.a.createElement("div",{className:"card-image"},n.a.createElement(jc,{src:t.user.avatar})),n.a.createElement("div",{className:"card-footer p-1"},n.a.createElement("h5",{className:"m-0 text-truncate"},a),t.isEnabled?n.a.createElement("div",{className:"badge badge-success"},n.a.createElement("i",{className:"fa fa-check"}),"\xa0",g.t("owner.enabled_badge")):n.a.createElement("div",{className:"badge badge-danger"},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("owner.disabled_badge")))))},go=function(){var e=Object(s.e)(function(e){return e.Owner.isLoading}),t=Object(s.e)(function(e){return e.Owner.search}),a=Object(s.d)(),r=n.a.useState(t),c=Object(Oc.a)(r,2),o=c[0],i=c[1];return n.a.createElement("div",{className:"input-group input-group-sm"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("i",{className:"fa "+(e?"fa-spin fa-circle-notch":"fa-search")}))),n.a.createElement("input",{type:"text",className:"form-control",placeholder:g.t("placeholder.search"),value:o||"",onKeyDown:function(e){27===e.keyCode&&(i(""),a({type:nr,payload:{search:""}}))},onChange:function(e){var t=e.target.value;i(t),clearTimeout(fo),fo=setTimeout(function(){a({type:nr,payload:{search:t}})},400)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement(Yn.a,{className:"btn btn-success",to:te},n.a.createElement("i",{className:"fa fa-plus"}),"\xa0",g.t("owner.new_action"))))},yo=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(c)))).changePage=function(e){a.props.dispatch({type:nr,payload:{page:e}})},a.renderContent=function(){var e=a.props.Owner,t=e.items,r=e.isLoading;return 0!==t.length||r?n.a.createElement("div",{className:"row no-gutters"},t.map(function(e){return n.a.createElement(bo,{model:e,key:e._id})})):n.a.createElement("div",{className:"text-center pt-4"},n.a.createElement("h4",null,g.t("owner.not_found_title")))},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){this.changePage(1)}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"card shadow-sm my-3"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},g.t("owner.title"))),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},n.a.createElement(go,null)))),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},this.renderContent())))))))}}]),t}(n.a.Component),wo=Object(Kn.a)({Owner:function(e){return e.Owner}}),No=Object(s.c)(wo)(yo),Oo=function(e){return function(t,a){var r=a().App.token;t({type:"OwnerEdit/REMOVE_BEFORE"}),$e.a.delete(at.apiHost+"/api/v1/admin/owners/".concat(e),{headers:{Authorization:r}}).then(function(){t({type:vr})}).catch(function(e){t({type:"OwnerEdit/REMOVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},_o=function(e){return function(t,a){var r=a().App.token,n=function(e){var t=JSON.parse(JSON.stringify(e));return delete t.id,t.password1&&(t.user.password=t.password1),delete t.password1,delete t.password2,delete t.user.id,delete t.user.displayId,t}(e);t({type:"OwnerEdit/SAVE_BEFORE"}),(e.id?$e.a.put(at.apiHost+"/api/v1/admin/owners/".concat(e.id),n,{headers:{Authorization:r}}):$e.a.post(at.apiHost+"/api/v1/admin/owners",n,{headers:{Authorization:r}})).then(function(e){var a=e.data;t({type:pr,payload:a,flatten:fc(a)})}).catch(function(e){console.log(e),t({type:"OwnerEdit/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},So=function(e){return function(t){var a=new FormData;a.append("file",e),$e.a.post(at.storageHost+"/api/v1/media",a).then(function(e){var a=e.data;t({type:Er,payload:{"user.avatar":a.url}})}).catch(function(e){console.log(e)})}},Co=function(e){return function(t,a){var r=a().App.token;t({type:"OwnerEdit/SAVE_BEFORE"}),$e.a.put(at.apiHost+"/api/v1/admin/owners/".concat(e.id,"/security"),{newPassword:e.password1},{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:pr,payload:a,flatten:fc(a)})}).catch(function(e){console.log(e),t({type:"OwnerEdit/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}};function jo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Ao(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jo(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jo(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var xo=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(c)))).deactivate=function(){var e=a.props.OwnerEdit.model;a.props.dispatch(_o(Ao({},e,{isEnabled:!1})))},a.activate=function(){var e=a.props.OwnerEdit.model;a.props.dispatch(_o(Ao({},e,{isEnabled:!0})))},a.remove=function(){if(window.confirm(g.t("owner_edit.remove_confirm_title"))){var e=a.props.OwnerEdit.model.id;a.props.dispatch(Oo(e))}},a.submit=function(){var e=a.props.OwnerEdit.model;a.props.dispatch(_o(e))},a.submitSecurity=function(){var e=a.props.OwnerEdit.model;a.props.dispatch(Co(e))},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:Er,payload:Object(v.a)({},e,t)})},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.changeDate=function(e){return function(t){return a.change(e,t)}},a.changePhone=function(e){return function(t){a.change(e,t.target.value.replace(/[^\d+]/g,""))}},a.getError=function(e){var t=a.props.OwnerEdit.validator.errors;return void 0===t[e]?null:n.a.createElement("small",{className:"feedback invalid-feedback d-block"},t[e])},a.setAvatar=function(e){var t=e.target.files[0];t&&(a.props.dispatch(So(t)),e.target.value=null)},a.grantAdmin=function(){var e=a.props.OwnerEdit.model;window.confirm(g.t("owner_edit.grant_admin_confirm"))&&a.props.dispatch(_o({id:e.id,user:{isAdmin:!0}}))},a.ungrantAdmin=function(){var e=a.props.OwnerEdit.model;window.confirm(g.t("owner_edit.ungrant_admin_confirm"))&&a.props.dispatch(_o({id:e.id,user:{isAdmin:!1}}))},a.renderAdmin=function(){var e=a.props.OwnerEdit,t=e.model,r=e.isLoading;return n.a.createElement("div",{className:"card mb-4 border-warning text-warning"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-center"},n.a.createElement("p",null,g.t("owner_edit.is_admin_title")),t.user.isAdmin?n.a.createElement("button",{className:"btn btn-outline-warning btn-sm",onClick:a.ungrantAdmin,disabled:r},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-times"}),"\xa0",g.t("owner_edit.ungrant_admin_action")):n.a.createElement("button",{className:"btn btn-outline-warning btn-sm",onClick:a.grantAdmin,disabled:r},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-plus"}),"\xa0",g.t("owner_edit.grant_admin_action"))))))},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e?this.props.dispatch(function(e){return function(t,a){var r=a().App.token;t({type:"OwnerEdit/FETCH_BEFORE"}),$e.a.get(at.apiHost+"/api/v1/admin/owners/".concat(e),{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:mr,payload:a,flatten:fc(a)})}).catch(function(e){t({type:"OwnerEdit/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}}(e)):this.props.dispatch({type:mr,payload:{},flatten:{}})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"OwnerEdit/RESET"})}},{key:"renderDelete",value:function(){var e=this.props.OwnerEdit,t=e.model,a=e.isLoading;return t.id?n.a.createElement("div",{className:"card mb-4 text-danger border-danger"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-center"},n.a.createElement("p",null,g.t("owner_edit.remove_content")),n.a.createElement("button",{className:"btn btn-outline-danger btn-sm",onClick:this.remove,disabled:a},n.a.createElement("i",{className:a?"fa fa-spin fa-circle-notch":"fa fa-trash"}),"\xa0",g.t("owner_edit.remove_action")))))):null}},{key:"renderSecurity",value:function(){var e=this.props.OwnerEdit,t=e.model,a=e.isLoading,r=e.isValid;return n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h4",{className:"card-title"},g.t("owner_edit.security_title")),n.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},g.t("owner_edit.security_subtitle"))),n.a.createElement("div",{className:"col-auto"},t.id?n.a.createElement("button",{className:"btn btn-success btn-sm",onClick:this.submitSecurity,disabled:a||!r},n.a.createElement("i",{className:a?"fa fa-spin fa-circle-notch":"fa fa-key"}),"\xa0",g.t("owner_edit.save_action")):null)),n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("owner_edit.password1")),n.a.createElement(Zc,{name:"password1",onChange:this.changeString("password1"),value:t.password1||""}),this.getError("password1"),t.password1&&Ue.validate(t.password1)?n.a.createElement("small",{className:"feedback valid-feedback d-block"},g.t("validation.strong_password")):null)),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("owner_edit.password2")),n.a.createElement(Zc,{name:"password2",onChange:this.changeString("password2"),value:t.password2||""}),this.getError("password2")))))))}},{key:"render",value:function(){var e=this.props.OwnerEdit,t=e.model,a=e.isValid,r=e.isLoading,c=e.serverErrors;return n.a.createElement("div",{className:"container my-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-4 col-lg-3 text-center"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement(jc,{src:t.user.avatar})),n.a.createElement("div",{className:"card-footer p-1"},n.a.createElement("label",{className:"btn btn-secondary btn-sm m-0"},n.a.createElement("i",{className:"fa fa-upload"}),"\xa0",g.t("owner_edit.upload_action"),n.a.createElement("input",{type:"file",className:"d-none",accept:"image/*",max:1,min:1,onChange:this.setAvatar,disabled:r}))))),n.a.createElement("div",{className:"col-12 col-md-8 col-lg-9"},n.a.createElement(hc,{errors:c}),n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},t.user.email),t.user.isAdmin?n.a.createElement("div",{className:"badge badge-danger"},n.a.createElement("i",{className:"fa fa-user"}),"\xa0",g.t("owner_edit.admin_badge")):null),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},t.id&&t.isEnabled?n.a.createElement("button",{className:"btn btn-outline-danger btn-sm mx-1",onClick:this.deactivate,disabled:r||!a},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-ban"}),"\xa0",g.t("owner_edit.deactivate_action")):null,t.id&&!t.isEnabled?n.a.createElement("button",{className:"btn btn-outline-success btn-sm mx-1",onClick:this.activate,disabled:r||!a},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",g.t("owner_edit.activate_action")):null,n.a.createElement("button",{className:"btn btn-success btn-sm mx-1",onClick:this.submit,disabled:r||!a},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-save"}),"\xa0",g.t("owner_edit.save_action"))))),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{noValidate:!0,autoComplete:"off"},t.id?null:n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("owner_edit.email")),n.a.createElement("input",{type:"email",placeholder:g.t("placeholder.text"),name:"user.email",className:"form-control",onChange:this.changeString("user.email"),value:t.user.email||""}),this.getError("user.email")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("owner_edit.firstName")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.firstName",className:"form-control",onChange:this.changeString("user.firstName"),value:t.user.firstName||""}),this.getError("user.firstName"))),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("owner_edit.lastName")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.lastName",className:"form-control",onChange:this.changeString("user.lastName"),value:t.user.lastName||""}),this.getError("user.lastName")))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("owner_edit.phone")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.phone",className:"form-control",onChange:this.changePhone("user.phone"),value:t.user.phone||""}),this.getError("user.phone"))),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("owner_edit.birthday")),n.a.createElement(qc,{onChange:this.changeDate("user.birthday"),value:t.user.birthday||"",name:"user.birthday"}),this.getError("user.birthday"))))))),this.renderSecurity(),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},this.renderAdmin()),n.a.createElement("div",{className:"col-12 col-md-6"},this.renderDelete())))))}}]),t}(n.a.Component),ko=Object(Kn.a)({OwnerEdit:function(e){return e.OwnerEdit}}),Io=Object(Gn.g)(Object(s.c)(ko)(xo)),Ro=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(n)))).state={hasError:!1},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t),pc.a(e)}},{key:"render",value:function(){return this.state.hasError?n.a.createElement("div",{className:"error-container p-3 text-center"},n.a.createElement("h3",null,g.t("view_error.title")),n.a.createElement("h4",null,g.t("view_error.subtitle"))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(n.a.PureComponent),Fo=function(e,t){return function(a){a({type:"Login/LOGIN_BEFORE"}),$e.a.post(at.apiHost+"/api/v1/login-admin",{email:e,password:t}).then(function(e){var t=e.data;a({type:_,payload:t})}).catch(function(e){console.log(e),a({type:S,payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},To=function(e){function t(){var e,a;Object(ac.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(nc.a)(this,(e=Object(cc.a)(t)).call.apply(e,[this].concat(n)))).submit=function(){var e=a.props.Login,t=e.email,r=e.password;a.props.dispatch(Fo(t,r))},a.submitIfEnter=function(e){13===e.keyCode&&(a.props.Login.isValid&&a.submit())},a.onChange=function(e){return function(t){a.props.dispatch({type:A,payload:Object(v.a)({},e,t.target.value)})}},a.onChangeIgnoreCase=function(e){return function(t){var r=t.target.value=t.target.value.toLowerCase();a.props.dispatch({type:A,payload:Object(v.a)({},e,r)})}},a}return Object(sc.a)(t,e),Object(rc.a)(t,[{key:"render",value:function(){var e=this.props.Login,t=e.email,a=e.password,r=e.isValid,c=e.errors,s=e.isLoading;return n.a.createElement("div",{className:"container py-5"},n.a.createElement("div",{className:"row no-gutters"},n.a.createElement("div",{className:"col-12 col-md-10 col-lg-8 col-xl-6 mx-auto"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"mb-4"},n.a.createElement("h2",{className:"h3"},g.t("login.title")),n.a.createElement("p",null,g.t("login.subtitle"))))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement(hc,{errors:c}),n.a.createElement("form",{noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:g.t("login.placeholder"),onChange:this.onChangeIgnoreCase("email"),onKeyDown:this.submitIfEnter,value:t||""})),n.a.createElement("div",{className:"form-group"},n.a.createElement(Zc,{name:"password",onChange:this.onChange("password"),onKeyDown:this.submitIfEnter,value:a||""})),n.a.createElement("div",{className:"form-group text-right"},n.a.createElement("button",{className:"btn btn-success",onClick:this.submit,disabled:!r||s},n.a.createElement("i",{className:s?"fa fa-spin fa-circle-notch":"fa fa-lock"}),"\xa0",g.t("login.action")))))))))}}]),t}(n.a.Component),Lo=Object(Kn.a)({Login:function(e){return e.Login}}),Po=Object(s.c)(Lo)(To),Do=a(131),Uo=a.n(Do),Vo=function(){return n.a.createElement("div",{className:"text-center py-5"},n.a.createElement("img",{src:Uo.a,alt:"Loading...",width:100}))},Ho=Object(Kn.a)({isLoadingVisible:function(e){return e.App.isLoadingVisible},isAuthenticated:function(e){return e.App.isAuthenticated}}),qo=Object(s.c)(Ho)(function(e){var t=e.children,a=e.isAuthenticated;return e.isLoadingVisible?n.a.createElement(Vo,null):a?t:n.a.createElement(Po,null)});a(237),a(238),a(239),a(240),a(241),a(242);a(251).a({dsn:"https://0322a85cb1c847e7981ac15d8979f612@sentry.io/1839632"}),pc.b("domain","admin.nextfree.com.ua");var Bo=document.getElementById("root");try{var Mo=function(){var e,t,a=Object(o.e)(Dn(Un),Qn,qn(o.a.apply(void 0,Hn)));return Vn.run(Gr),b[e=Bn]||(e=Object.keys(b)[0]),h.a.fallbacks=!0,h.a.translations=Object(v.a)({},e,b[e]()),h.a.locale=e,h.a.missingTranslation=function(e){return e},Mn&&a.dispatch((t={token:Mn},function(e){e({type:"Login/LOGIN_CHECK_BEFORE"}),$e.a.post(at.apiHost+"/api/v1/login-check-admin",null,{headers:{Authorization:t.token}}).then(function(t){var a=t.data;e({type:C,payload:a})}).catch(function(t){console.log(t),e({type:j,payload:{status:t.response?t.response.status:0,data:t.response?t.response.data:null}})})})),a}(),Qo=n.a.createElement(s.a,{store:Mo},n.a.createElement(zr.a,{history:Un},n.a.createElement(n.a.Fragment,null,n.a.createElement(Wn,null),n.a.createElement("main",{id:"main-content"},n.a.createElement(Ro,null,n.a.createElement(Gn.d,null,n.a.createElement(qo,null,n.a.createElement(Gn.b,{exact:!0,path:U,component:tc}),n.a.createElement(Gn.b,{exact:!0,path:q,component:uc}),!zn()&&n.a.createElement(Gn.b,{exact:!0,path:B,component:Rc}),n.a.createElement(Gn.b,{exact:!0,path:M,component:Lc}),n.a.createElement(Gn.b,{exact:!0,path:V,component:Wc}),n.a.createElement(Gn.b,{exact:!0,path:H,component:ts}),n.a.createElement(Gn.b,{exact:!0,path:Y,component:Cs}),n.a.createElement(Gn.b,{exact:!0,path:K,component:Us}),n.a.createElement(Gn.b,{path:J,component:Us}),n.a.createElement(Gn.b,{exact:!0,path:Q,component:zs}),n.a.createElement(Gn.b,{exact:!0,path:G,component:to}),n.a.createElement(Gn.b,{path:z,component:to}),n.a.createElement(Gn.b,{exact:!0,path:W,component:os}),n.a.createElement(Gn.b,{exact:!0,path:Z,component:hs}),n.a.createElement(Gn.b,{path:X,component:hs}),n.a.createElement(Gn.b,{exact:!0,path:$,component:No}),n.a.createElement(Gn.b,{exact:!0,path:te,component:Io}),n.a.createElement(Gn.b,{path:ee,component:Io}),n.a.createElement(Gn.b,{exact:!0,path:ae,component:so}),n.a.createElement(Gn.b,{exact:!0,path:ne,component:ho}),n.a.createElement(Gn.b,{path:re,component:ho}),n.a.createElement(Gn.a,{path:"*",to:U}))))),n.a.createElement(Xn,null),n.a.createElement("div",{className:"notification-container"},n.a.createElement(Ce.a,null)))));Object(c.render)(Qo,Bo)}catch(Go){console.error(Go),pc.a(Go),window.location.reload()}},98:function(e,t,a){e.exports=a.p+"static/media/avatar-unknown.64f0feb7.png"}},[[134,1,2]]]);
//# sourceMappingURL=main.5d27e477.chunk.js.map