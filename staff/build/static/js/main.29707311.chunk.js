(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/avatar-unknown.64f0feb7.png"},120:function(e,t,a){e.exports=a.p+"static/media/scanner.a308c60e.jpg"},129:function(e,t,a){e.exports=a(238)},137:function(e){e.exports={navigation:{logo:"NextFree",logo_footer:"\u0421\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a",register:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f",login:"\u041b\u043e\u0433\u0456\u043d",logout:"\u0412\u0438\u0445\u0456\u0434",qr:"QR \u043a\u043e\u0434",qr_scanner:"QR \u0441\u043a\u0430\u043d\u0435\u0440",profile:"\u041f\u0440\u043e\u0444\u0456\u043b\u044c",profile_security:"\u0411\u0435\u0437\u043f\u0435\u043a\u0430"},profile:{title:"\u041c\u0456\u0439 \u043f\u0440\u043e\u0444\u0456\u043b\u044c",upload_action:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0430\u0432\u0430\u0442\u0430\u0440",admin_badge:"\u0410\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440",phone:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",birthday:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f",action:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",firstName:"\u0406\u043c'\u044f",lastName:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",email:"\u0415\u043c\u0435\u0439\u043b",security_title:"\u0411\u0435\u0437\u043f\u0435\u043a\u0430",currentPassword:"\u041f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",password1:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",password2:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"},qr:{help:"\u041f\u0440\u0435\u0434'\u044f\u0432\u0456\u0442\u044c \u0446\u0435\u0439 QR-\u043a\u043e\u0434 \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u044e \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0456 \u0443 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0456 \u043b\u043e\u044f\u043b\u044c\u043d\u043e\u0441\u0442\u0456"},qr_scanner:{help:"\u0417\u0447\u0438\u0442\u0430\u0439\u0442\u0435 QR-\u043a\u043e\u0434 \u043f\u043e\u043a\u0443\u043f\u0446\u044f",help_subtitle:"\u041f\u0456\u0434\u043d\u0435\u0441\u0456\u0442\u044c \u043a\u043e\u0434 \u0434\u043e \u043c\u043e\u043d\u0456\u0442\u043e\u0440\u0443 \u0442\u0430 \u0434\u043e\u0447\u0435\u043a\u0430\u0439\u0442\u0435\u0441\u044c \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0444\u043e\u0440\u043c\u0438 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438",no_camera:"\u041a\u0430\u043c\u0435\u0440\u0443 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e",has_camera:"\u041a\u0430\u043c\u0435\u0440\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u0430",checking_camera_permission:"\u0417\u0430\u043f\u0438\u0442 \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u043a\u0430\u043c\u0435\u0440\u0438...",no_camera_permission:"\u0414\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043a\u0430\u043c\u0435\u0440\u0438 \u0437\u0430\u0431\u043e\u0440\u043e\u043d\u0435\u043d\u0438\u0439 \u0412\u0430\u0448\u0438\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u043c",has_camera_permission:"\u0414\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043a\u0430\u043c\u0435\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u0438\u0439",purchase_action:"\u0417\u0430\u0440\u0430\u0445\u0443\u0432\u0430\u0442\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0443",discard:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438",again_action:"\u0421\u043a\u0430\u043d\u0443\u0432\u0430\u0442\u0438",searching:"\u041f\u043e\u0448\u0443\u043a \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u043f\u0440\u043e \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430...",purchase_title_1:"\u041f\u043e\u043a\u0443\u043f\u0446\u044e",purchase_title_2:"\u0431\u0443\u0434\u0435 \u0437\u0430\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u043e \u043f\u043e\u043a\u0443\u043f\u043a\u0443 \u043e\u0434\u0438\u043d\u0438\u0446\u0456 \u0442\u043e\u0432\u0430\u0440\u0443! \u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0434\u0456\u044e!",purchase_bonus_title:"\u0422\u0430\u043a! \u0426\u0435 \u0431\u043e\u043d\u0443\u0441",purchase_bonus_subtitle:"\u041f\u043e\u043a\u0443\u043f\u0435\u0446\u044c __NAME__ \u043e\u0442\u0440\u0438\u043c\u0443\u0454 \u0442\u043e\u0432\u0430\u0440 \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u043e!",purchase_success_title:"\u041d\u0435 \u0431\u043e\u043d\u0443\u0441, \u0430\u043b\u0435 \u043d\u0430 \u0448\u0430\u0433 \u0431\u043b\u0438\u0436\u0447\u0435 \u0434\u043e \u043d\u044c\u043e\u0433\u043e!",purchase_success_subtitle:"\u0427\u0435\u043a\u0430\u0454\u043c\u043e \u043d\u0430 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"},placeholder:{date:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0443",select:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f",text:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},validation:{required:"\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435",invalid:"\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0435",invalid_email:"\u0415\u043c\u0435\u0439\u043b \u043d\u0435 \u043f\u043e\u0432\u043d\u043e\u0446\u0456\u043d\u043d\u0438\u0439",password_mismatch:"\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c",strong_password:"\u0427\u0443\u0434\u043e\u0432\u043e! \u041f\u0430\u0440\u043e\u043b\u044c \u0441\u0438\u043b\u044c\u043d\u0438\u0439",weak_password1:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043d\u044c\u043e \u0441\u0438\u043b\u044c\u043d\u0438\u0439"},bonus_conditions:{"4+1":{title:"4+1",description:"\u041a\u043e\u0436\u043d\u0430 5 \u043f\u043e\u043a\u0443\u043f\u043a\u0430 \u0432\u0432\u0430\u0436\u0430\u0454\u0442\u044c\u0441\u044f \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u044e. \u041f\u043e\u043a\u0443\u043f\u043a\u0430 \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0443 \u0437\u0434\u0456\u0439\u0441\u043d\u0435\u043d\u043d\u0430 \u0443 \u0431\u0443\u0434\u044c-\u044f\u043a\u0456\u0439 \u0442\u043e\u0447\u0446\u0456 \u043f\u0440\u043e\u0434\u0430\u0436\u0443 \u043f\u043e\u0442\u043e\u0447\u043d\u043e\u0457 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457."}},footer:{resources:"\u041a\u043e\u0440\u0438\u0441\u043d\u043e \u0437\u043d\u0430\u0442\u0438",privacy:"\u0423\u0433\u043e\u0434\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",contact:"\u0417\u0432\u043e\u0440\u043e\u0442\u043d\u0456\u0439 \u0437\u0432'\u044f\u0437\u043e\u043a"},notification:{remove_success:"\u0412\u0438\u0434\u0435\u043b\u0435\u043d\u043e!",save_success:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e!"},login:{title:"NextFree",login:"\u0415\u043c\u0435\u0439\u043b",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0435\u043c\u0435\u0439\u043b",password:"\u041f\u0430\u0440\u043e\u043b\u044c",action:"\u0423\u0432\u0456\u0439\u0442\u0438",reset_password:"\u0417\u0430\u0431\u0443\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",subtitle:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u043e\u043d\u0443\u0441\u043d\u0438\u0445 \u043f\u0440\u043e\u0434\u0430\u0436 \u0442\u0430 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u043e\u043a\u0443\u043f\u0446\u0456\u0432"},activation:{title:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f \u0435\u043c\u0435\u0439\u043b\u0443",not_found_title:"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0456\u044f \u043d\u0435 \u0443\u0441\u043f\u0456\u0448\u043d\u0430",not_found_subtitle:"\u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0412\u0438 \u0432\u0436\u0435 \u0430\u043a\u0442\u0438\u0432\u043e\u0432\u0430\u043d\u0456?",not_found_action:"\u041b\u043e\u0433\u0456\u043d",success_title:"\u0412\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b\u0438 \u0441\u0432\u043e\u044e \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443 \u043f\u043e\u0448\u0442\u0443!",success_subtitle:"\u0411\u0430\u0436\u0430\u0454\u043c\u043e \u0412\u0430\u043c \u0443\u0441\u043f\u0456\u0445\u0456\u0432!",success_action:"\u041f\u043e\u0447\u0430\u0442\u0438"},invitation:{title:"\u041f\u0440\u0438\u0454\u0434\u043d\u0430\u0442\u0438\u0441\u044f \u0434\u043e NextFree",subtitle:"\u0412\u0438 \u0437\u0431\u0438\u0440\u0430\u0454\u0442\u0435\u0441\u044f \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u044f\u043a \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a",not_found_title:"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044f \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e",not_found_subtitle:"\u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0412\u0438 \u0432\u0436\u0435 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0456? \u0422\u043e\u0434\u0456 \u0443\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443",not_found_action:"\u041b\u043e\u0433\u0456\u043d",save_action:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f!",terms_and_conditions:"\u042f \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u043b\u0435\u043d\u043d\u0438\u0439 \u0442\u0430 \u043f\u043e\u0433\u043e\u0436\u0443\u044e\u0441\u044c \u0437",privacy_link:"\u0423\u0433\u043e\u0434\u043e\u044e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",security_title:"\u0411\u0435\u0437\u043f\u0435\u043a\u0430",security_subtitle:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443",email:"\u0415\u043c\u0435\u0439\u043b",firstName:"\u0406\u043c'\u044f",lastName:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",password1:"\u041f\u0430\u0440\u043e\u043b\u044c",password2:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",phone:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",birthday:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f",companyName:"\u041d\u0430\u0437\u0432\u0430",success_title:"\u0412\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043f\u0440\u0438\u0454\u0434\u043d\u0430\u043b\u0438\u0441\u044f \u0434\u043e NextFree \u044f\u043a \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a!",success_subtitle:"\u0411\u0430\u0436\u0430\u0454\u043c\u043e \u0412\u0430\u043c \u0443\u0441\u043f\u0456\u0445\u0456\u0432!",success_action:"\u041f\u043e\u0447\u0430\u0442\u0438",already_have_account:"\u0412\u0436\u0435 \u0441\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u043f\u0440\u043e\u0444\u0456\u043b\u044c?",already_have_account_action:"\u041b\u043e\u0433\u0456\u043d",staff_title:"\u0412\u0430\u0448 \u043f\u0440\u043e\u0444\u0456\u043b\u044c",staff_subtitle:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0456 \u0434\u0430\u043d\u0456 \u0442\u0430 \u0441\u043f\u043e\u0441\u043e\u0431\u0438 \u0437\u0432'\u044f\u0437\u043a\u0443"},home:{welcome_title:"\u041b\u0430\u0441\u043a\u0430\u0432\u043e \u043f\u0440\u043e\u0441\u0438\u043c\u043e, _NAME_!",action:"\u0412\u0456\u0434\u043a\u0440\u0438\u0442\u0438 \u0441\u043a\u0430\u043d\u0435\u0440"},password_reset:{title:"\u0412\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0430\u0440\u043e\u043b\u044e",subtitle:"\u041d\u0430 \u0432\u043a\u0430\u0437\u0430\u043d\u0443 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443 \u0430\u0434\u0440\u0435\u0441\u0443 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439 \u0435\u043c\u0435\u0439\u043b \u0437 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f\u043c\u0438 \u043f\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044e \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0430\u0440\u043e\u043b\u044e",success:"\u0423\u0441\u043f\u0456\u0448\u043d\u043e!",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0435\u043c\u0435\u0439\u043b...",action:"\u0412\u0456\u0434\u043d\u043e\u0432\u0438\u0442\u0438"},password_set:{title:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",subtitle:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0412\u0430\u0448 \u043d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",not_found_title:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0435 \u0434\u0456\u0439\u0441\u043d\u0435",not_found_subtitle:"\u041d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u0449\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0432 \u0437\u043c\u0456\u043d\u0443 \u043f\u0430\u0440\u043e\u043b\u044e",not_found_action:"\u041b\u043e\u0433\u0456\u043d",success:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e!",password1:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",password2:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",action:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"},view_error:{title:"\u041d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e. \u0412\u0438\u0431\u0430\u0447\u0442\u0435",subtitle:"\u30fd(`\u2312\xb4\u30e1)\u30ce"}}},185:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(41),c=a(12),o=a(10),l=a(127),i=a(117),u=a(118),d=a(111),p=a(32),m=a(56),f=a.n(m),v=a(14),h=a(58),E=a.n(h),b={ua:function(){return a(137)}},g=E.a,y=a(5),w=a.n(y),N=a(4),O="Login/LOGOUT",_="Login/LOGIN_SUCCESS",S="Login/LOGIN_FAILURE",j="Login/LOGIN_CHECK_SUCCESS",A="Login/LOGIN_CHECK_FAILURE",C="Login/CREDENTIALS_CHANGED",x="Login/LOGIN_VALIDATE_REQUEST",k=function(e,t){return function(t){var a=function(e){var t={total:0,errors:{}};return e.email||++t.total,e.password||++t.total,t}(e);return 0===a.total?t({type:"Login/LOGIN_VALIDATE_SUCCESS"}):t({type:"Login/LOGIN_VALIDATE_FAILURE",payload:a}),a}},I=w.a.mark(R),P=w.a.mark(V),L=w.a.mark(F);function R(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:x});case 2:case"end":return e.stop()}},I)}function V(){var e;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.d)();case 2:return e=t.sent,t.next=5,Object(N.c)(k(e.Login));case 5:case"end":return t.stop()}},P)}function F(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)([C],R),Object(N.g)(400,x,V)]);case 2:case"end":return e.stop()}},L)}var U=a(29),D="/",T="/profile",H="/profile/security",q="/qr",Q="/scan",B="/password-reset",G="/password-set/:id",M="/invitation/:id",Y="/activation/:id",K=w.a.mark(W),z=w.a.mark(X),J=w.a.mark(Z);function W(e){var t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,f.a.set("token",t.token),r.next=4,Object(N.d)(function(e){return e.router.location.pathname});case 4:return a=r.sent,r.next=7,Object(N.c)(Object(U.d)(a));case 7:case"end":return r.stop()}},K)}function X(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.remove("token"),e.next=3,Object(N.c)(Object(U.d)(D));case 3:case"end":return e.stop()}},z)}function Z(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.f)([_,j],W),Object(N.f)([O,A],X)]);case 2:case"end":return e.stop()}},J)}var $=w.a.mark(ee);function ee(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(F),Object(N.b)(Z)]);case 2:case"end":return e.stop()}},$)}var te="Profile/FETCH_BEFORE",ae="Profile/FETCH_SUCCESS",re="Profile/SAVE_SUCCESS",ne="Profile/SAVE_FAILURE",se="Profile/VALIDATE_REQUEST",ce="Profile/MODEL_CHANGED",oe=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.user.firstName||(++a.total,t["user.firstName"]&&(a.errors["user.firstName"]=g.t("validation.required"))),e.user.lastName||(++a.total,t["user.lastName"]&&(a.errors["user.lastName"]=g.t("validation.required"))),a}(e,t);return 0===a.total?{type:"Profile/VALIDATE_SUCCESS"}:{type:"Profile/VALIDATE_FAILURE",payload:a}},le=w.a.mark(de),ie=w.a.mark(pe),ue=w.a.mark(me);function de(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:se});case 2:case"end":return e.stop()}},le)}function pe(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.Profile});case 2:return e=r.sent,t=e.model,a=e.changes,r.next=7,Object(N.c)(oe(t,a));case 7:case"end":return r.stop()}},ie)}function me(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.g)(400,[ce,ae],de),Object(N.e)(se,pe)]);case 2:case"end":return e.stop()}},ue)}var fe=a(27),ve=w.a.mark(Ee);function he(){fe.b.success(g.t("notification.save_success"),{position:fe.b.POSITION.TOP_RIGHT})}function Ee(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(re,he)]);case 2:case"end":return e.stop()}},ve)}var be=w.a.mark(ge);function ge(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(me),Object(N.b)(Ee)]);case 2:case"end":return e.stop()}},be)}var ye="ProfileSecurity/SAVE_SUCCESS",we="ProfileSecurity/VALIDATE_REQUEST",Ne="ProfileSecurity/MODEL_CHANGED",Oe="ProfileSecurity/RESET",_e=a(119),Se=new(a.n(_e).a);Se.is().min(8).is().max(100).has().not().spaces();var je=Se,Ae=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.password1&&!je.validate(e.password1)&&(++a.total,t.password1&&(a.errors.password1=g.t("validation.weak_password1"))),e.password1&&e.password2&&e.password1!==e.password2&&(++a.total,t.password2&&(a.errors.password2=g.t("validation.password_mismatch"))),a}(e,t);return 0===a.total?{type:"ProfileSecurity/VALIDATE_SUCCESS"}:{type:"ProfileSecurity/VALIDATE_FAILURE",payload:a}},Ce=w.a.mark(Ie),xe=w.a.mark(Pe),ke=w.a.mark(Le);function Ie(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:we});case 2:case"end":return e.stop()}},Ce)}function Pe(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.ProfileSecurity});case 2:return e=r.sent,t=e.model,a=e.changes,r.next=7,Object(N.c)(Ae(t,a));case 7:case"end":return r.stop()}},xe)}function Le(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.g)(400,[Ne],Ie),Object(N.e)(we,Pe)]);case 2:case"end":return e.stop()}},ke)}var Re=w.a.mark(Fe);function Ve(){fe.b.success(g.t("notification.save_success"),{position:fe.b.POSITION.TOP_RIGHT})}function Fe(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(ye,Ve)]);case 2:case"end":return e.stop()}},Re)}var Ue=w.a.mark(De);function De(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Le),Object(N.b)(Fe)]);case 2:case"end":return e.stop()}},Ue)}var Te="PasswordSet/SAVE_SUCCESS",He="PasswordSet/VALIDATE_REQUEST",qe="PasswordSet/MODEL_CHANGED",Qe=w.a.mark(Ge);function Be(){fe.b.success(g.t("password_set.success"),{position:fe.b.POSITION.TOP_RIGHT})}function Ge(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(Te,Be)]);case 2:case"end":return e.stop()}},Qe)}var Me=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.password1&&!je.validate(e.password1)&&(++a.total,t.password1&&(a.errors.password1=g.t("validation.weak_password1"))),e.password1&&e.password2?e.password1!==e.password2&&(++a.total,t.password2&&(a.errors.password2=g.t("validation.password_mismatch"))):++a.total,a}(e,t);return 0===a.total?{type:"PasswordSet/VALIDATE_SUCCESS"}:{type:"PasswordSet/VALIDATE_FAILURE",payload:a}},Ye=w.a.mark(Je),Ke=w.a.mark(We),ze=w.a.mark(Xe);function Je(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:He});case 2:case"end":return e.stop()}},Ye)}function We(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.PasswordSet});case 2:return e=r.sent,t=e.model,a=e.changes,r.next=7,Object(N.c)(Me(t,a));case 7:case"end":return r.stop()}},Ke)}function Xe(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.g)(400,[qe],Je),Object(N.e)(He,We)]);case 2:case"end":return e.stop()}},ze)}var Ze=w.a.mark(et),$e=w.a.mark(tt);function et(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)(Object(U.d)(D));case 2:case"end":return e.stop()}},Ze)}function tt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.f)(Te,et)]);case 2:case"end":return e.stop()}},$e)}var at=w.a.mark(rt);function rt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Ge),Object(N.b)(Xe),Object(N.b)(tt)]);case 2:case"end":return e.stop()}},at)}var nt="PasswordReset/SAVE_SUCCESS",st="PasswordReset/MODEL_CHANGED",ct=w.a.mark(lt);function ot(){fe.b.success(g.t("password_reset.success"),{position:fe.b.POSITION.TOP_RIGHT})}function lt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(nt,ot)]);case 2:case"end":return e.stop()}},ct)}var it=w.a.mark(dt),ut=w.a.mark(pt);function dt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)(Object(U.d)(D));case 2:case"end":return e.stop()}},it)}function pt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(nt,dt)]);case 2:case"end":return e.stop()}},ut)}var mt=w.a.mark(ft);function ft(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(lt),Object(N.b)(pt)]);case 2:case"end":return e.stop()}},mt)}var vt="Invitation/FETCH_SUCCESS",ht="Invitation/SAVE_SUCCESS",Et="Invitation/VALIDATE_REQUEST",bt="Invitation/MODEL_CHANGED",gt=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.user.firstName||(++a.total,t["user.firstName"]&&(a.errors["user.firstName"]=g.t("validation.required"))),e.password1?je.validate(e.password1)||(++a.total,t.password1&&(a.errors.password1=g.t("validation.weak_password1"))):(++a.total,t.password1&&(a.errors.password1=g.t("validation.required"))),e.password2||(++a.total,t.password2&&(a.errors.password2=g.t("validation.required"))),e.password1&&e.password2&&e.password1!==e.password2&&(++a.total,t.password2&&(a.errors.password2=g.t("validation.password_mismatch"))),e.hasAccepted||(++a.total,t.hasAccepted&&(a.errors.hasAccepted=g.t("validation.required"))),a}(e,t);return 0===a.total?{type:"Invitation/VALIDATE_SUCCESS"}:{type:"Invitation/VALIDATE_FAILURE",payload:a}},yt=w.a.mark(Ot),wt=w.a.mark(_t),Nt=w.a.mark(St);function Ot(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)({type:Et});case 2:case"end":return e.stop()}},yt)}function _t(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.Invitation});case 2:return e=r.sent,t=e.model,a=e.changes,r.next=7,Object(N.c)(gt(t,a));case 7:case"end":return r.stop()}},wt)}function St(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.g)(400,[bt,vt],Ot),Object(N.e)(Et,_t)]);case 2:case"end":return e.stop()}},Nt)}var jt=w.a.mark(Ct);function At(){fe.b.success(g.t("invitation.save_success"),{position:fe.b.POSITION.TOP_RIGHT})}function Ct(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(ht,At)]);case 2:case"end":return e.stop()}},jt)}var xt=w.a.mark(kt);function kt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(St),Object(N.b)(Ct)]);case 2:case"end":return e.stop()}},xt)}var It="QRScanner/MODEL_CHANGED",Pt="QRScanner/RESET",Lt="QRScanner/SET_DEFAULTS",Rt=w.a.mark(Ft),Vt=w.a.mark(Ut);function Ft(){var e,t,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.d)(function(e){return e.App});case 2:return e=r.sent,t=e.company,a=e.store,r.next=7,Object(N.c)({type:Pt});case 7:return r.next=9,Object(N.c)({type:It,payload:{companyId:t?t._id:null,storeId:a?a._id:null,userId:null,user:null}});case 9:case"end":return r.stop()}},Rt)}function Ut(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.e)(Lt,Ft)]);case 2:case"end":return e.stop()}},Vt)}var Dt=w.a.mark(Tt);function Tt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Ut)]);case 2:case"end":return e.stop()}},Dt)}var Ht=w.a.mark(qt);function qt(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(ee),Object(N.b)(ge),Object(N.b)(De),Object(N.b)(rt),Object(N.b)(ft),Object(N.b)(kt),Object(N.b)(Tt)]);case 2:case"end":return e.stop()}},Ht)}var Qt=a(46),Bt=Object(o.c)({isLoadingVisible:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Login/LOGIN_CHECK_BEFORE":return!0;case j:case A:return!1;default:return e}},isAuthenticated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case _:case j:return!0;case O:case S:case"Login/LOGIN_BEFORE":case"Login/LOGIN_CHECK_BEFORE":case A:return!1;default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case j:return void 0!==t.payload.token?t.payload.token:null;case O:case S:case A:return null;default:return e}},staff:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case j:return void 0!==t.payload.user?t.payload.user:null;case O:case S:case A:return null;default:return e}},store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case j:return void 0!==t.payload.store?t.payload.store:null;case O:case S:case A:return null;default:return e}},company:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case j:return void 0!==t.payload.company?t.payload.company:null;case O:case S:case A:return null;default:return e}},locale:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}),Gt=Object(o.c)({isMobileMenuVisible:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@router/LOCATION_CHANGE":return!1;case"Login/TOGGLE_MENU":return!!t.payload;default:return e}}}),Mt=Object(o.c)({email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return void 0!==t.payload.email?t.payload.email:e;default:return e}},password:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case j:return null;case C:return void 0!==t.payload.password?t.payload.password:e;default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Login/LOGIN_BEFORE":case _:case"Login/LOGIN_VALIDATE_SUCCESS":return[];case S:var a=t.payload.data;return a&&void 0!==a.message?[t.payload.data.message]:[];default:return e}},isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Login/LOGIN_VALIDATE_FAILURE":case _:return!1;case"Login/LOGIN_VALIDATE_SUCCESS":return!0;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Login/LOGIN_BEFORE":return!0;case _:case S:return!1;default:return e}}}),Yt=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:case re:return void 0!==t.flatten["user._id"]?t.flatten["user._id"]:null;default:return e}},avatar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:case re:return void 0!==t.flatten["user.avatar"]?t.flatten["user.avatar"]:null;case ce:return void 0!==t.payload["user.avatar"]?t.payload["user.avatar"]:e;default:return e}},isAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:case re:return void 0!==t.flatten["user.isAdmin"]?t.flatten["user.isAdmin"]:null;default:return e}},email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:case ae:return void 0!==t.flatten["user.email"]?t.flatten["user.email"]:null;default:return e}},firstName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:case ae:return void 0!==t.flatten["user.firstName"]?t.flatten["user.firstName"]:null;case ce:return void 0!==t.payload["user.firstName"]?t.payload["user.firstName"]:e;default:return e}},lastName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:case ae:return void 0!==t.flatten["user.lastName"]?t.flatten["user.lastName"]:null;case ce:return void 0!==t.payload["user.lastName"]?t.payload["user.lastName"]:e;default:return e}},phone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:case ae:return void 0!==t.flatten["user.phone"]?t.flatten["user.phone"]:null;case ce:return void 0!==t.payload["user.phone"]?t.payload["user.phone"]:e;default:return e}},birthday:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:case ae:return void 0!==t.flatten["user.birthday"]?t.flatten["user.birthday"]:null;case ce:return void 0!==t.payload["user.birthday"]?t.payload["user.birthday"]:e;default:return e}}}),Kt=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:case re:return void 0!==t.payload._id?t.payload._id:null;default:return e}},user:Yt});function zt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var Jt={count:0,messages:[],errors:{}},Wt=Object(o.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Profile/VALIDATE_SUCCESS":return!0;case"Profile/VALIDATE_FAILURE":case ne:return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Profile/FETCH_FAILURE":case ae:case re:case ne:return!1;case te:case"Profile/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:case ae:case"Profile/VALIDATE_SUCCESS":return Jt;case"Profile/VALIDATE_FAILURE":return t.payload;default:return e}},model:Kt,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:case ae:return{};case ce:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zt(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case re:case"Profile/SAVE_BEFORE":return[];default:return e}}}),Xt=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return null;case ye:return void 0!==t.payload._id?t.payload._id:null;default:return e}},currentPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:case ye:return null;case Ne:return void 0!==t.payload.currentPassword?t.payload.currentPassword:e;default:return e}},password1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:case ye:return null;case Ne:return void 0!==t.payload.password1?t.payload.password1:e;default:return e}},password2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:case Oe:return null;case Ne:return void 0!==t.payload.password2?t.payload.password2:e;default:return e}}});function Zt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var $t={count:0,messages:[],errors:{}},ea=Object(o.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"ProfileSecurity/VALIDATE_SUCCESS":return!0;case Oe:case"ProfileSecurity/VALIDATE_FAILURE":case"ProfileSecurity/SAVE_FAILURE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Oe:case ye:case"ProfileSecurity/SAVE_FAILURE":return!1;case"ProfileSecurity/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:case"ProfileSecurity/VALIDATE_SUCCESS":return $t;case"ProfileSecurity/VALIDATE_FAILURE":return t.payload;default:return e}},model:Xt,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{};case Ne:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zt(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ProfileSecurity/SAVE_FAILURE":return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case Oe:case"ProfileSecurity/SAVE_BEFORE":return[];default:return e}}}),ta=Object(o.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QRScanner/FETCH_USER_SUCCESS":return t.payload;case Pt:return null;default:return e}},userId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:return null;case"QRScanner/FETCH_USER_SUCCESS":return t.payload._id;case It:return void 0!==t.payload.userId?t.payload.userId:e;default:return e}},storeId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:return null;case It:return void 0!==t.payload.storeId?t.payload.storeId:e;default:return e}},companyId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:return null;case It:return void 0!==t.payload.companyId?t.payload.companyId:e;default:return e}}}),aa=Object(o.c)({model:ta,purchase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QRScanner/SAVE_SUCCESS":return t.payload;case Pt:case It:case"QRScanner/SAVE_BEFORE":return null;default:return e}},isSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"QRScanner/SAVE_SUCCESS":return!0;case Pt:case It:case"QRScanner/SAVE_BEFORE":return!1;default:return e}},isLoadingUser:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"QRScanner/FETCH_USER_BEFORE":return!0;case Pt:case"QRScanner/FETCH_USER_SUCCESS":case"QRScanner/FETCH_USER_FAILURE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Pt:case"QRScanner/SAVE_SUCCESS":case"QRScanner/SAVE_FAILURE":return!1;case"QRScanner/SAVE_BEFORE":return!0;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QRScanner/FETCH_USER_FAILURE":case"QRScanner/SAVE_FAILURE":return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case Pt:case"QRScanner/SAVE_SUCCESS":case"QRScanner/SAVE_BEFORE":return[];default:return e}}}),ra=Object(o.c)({password1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return null;case qe:return void 0!==t.payload.password1?t.payload.password1:e;default:return e}},password2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return null;case qe:return void 0!==t.payload.password2?t.payload.password2:e;default:return e}}});function na(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var sa={count:0,messages:[],errors:{}},ca=Object(o.c)({isTokenValid:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"PasswordSet/FETCH_FAILURE":return!1;case"PasswordSet/FETCH_SUCCESS":return!0;default:return e}},isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"PasswordSet/VALIDATE_SUCCESS":return!0;case"PasswordSet/VALIDATE_FAILURE":case"PasswordSet/SAVE_FAILURE":case Te:return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Te:case"PasswordSet/SAVE_FAILURE":return!1;case"PasswordSet/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PasswordSet/VALIDATE_SUCCESS":return sa;case"PasswordSet/VALIDATE_FAILURE":return t.payload;default:return e}},model:ra,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return{};case qe:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?na(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):na(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PasswordSet/SAVE_FAILURE":return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case Te:case"PasswordSet/SAVE_BEFORE":return[];default:return e}}}),oa=Object(o.c)({email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return void 0!==t.payload.email?t.payload.email:null;case st:return void 0!==t.payload.email?t.payload.email:e;default:return e}}}),la=Object(o.c)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case nt:case"PasswordReset/SAVE_FAILURE":return!1;case"PasswordReset/SAVE_BEFORE":return!0;default:return e}},model:oa,serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PasswordReset/SAVE_FAILURE":return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case nt:case"PasswordReset/SAVE_BEFORE":return[];default:return e}}}),ia=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:case ht:return void 0!==t.flatten["user._id"]?t.flatten["user._id"]:null;default:return e}},isAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:case ht:return void 0!==t.flatten["user.isAdmin"]?t.flatten["user.isAdmin"]:null;default:return e}},email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:case vt:return void 0!==t.flatten["user.email"]?t.flatten["user.email"]:null;default:return e}},firstName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:case vt:return void 0!==t.flatten["user.firstName"]?t.flatten["user.firstName"]:null;case bt:return void 0!==t.payload["user.firstName"]?t.payload["user.firstName"]:e;default:return e}},lastName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:case vt:return void 0!==t.flatten["user.lastName"]?t.flatten["user.lastName"]:null;case bt:return void 0!==t.payload["user.lastName"]?t.payload["user.lastName"]:e;default:return e}},phone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:case vt:return void 0!==t.flatten["user.phone"]?t.flatten["user.phone"]:null;case bt:return void 0!==t.payload["user.phone"]?t.payload["user.phone"]:e;default:return e}},birthday:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:case vt:return void 0!==t.flatten["user.birthday"]?t.flatten["user.birthday"]:null;case bt:return void 0!==t.payload["user.birthday"]?t.payload["user.birthday"]:e;default:return e}}}),ua=Object(o.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:case ht:return void 0!==t.payload._id?t.payload._id:null;default:return e}},user:ia,password1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:case vt:return null;case bt:return void 0!==t.payload.password1?t.payload.password1:e;default:return e}},password2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:case vt:return null;case bt:return void 0!==t.payload.password2?t.payload.password2:e;default:return e}},hasAccepted:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt:return void 0!==t.payload.hasAccepted?t.payload.hasAccepted:e;default:return e}}});function da(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var pa={count:0,messages:[],errors:{}},ma=Object(o.c)({isInvitationSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case ht:return!0;default:return e}},isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Invitation/VALIDATE_SUCCESS":return!0;case"Invitation/VALIDATE_FAILURE":case"Invitation/SAVE_FAILURE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Invitation/FETCH_FAILURE":case vt:case ht:case"Invitation/SAVE_FAILURE":return!1;case"Invitation/FETCH_BEFORE":case"Invitation/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Invitation/FETCH_BEFORE":case vt:case"Invitation/VALIDATE_SUCCESS":return pa;case"Invitation/VALIDATE_FAILURE":return t.payload;default:return e}},model:ua,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Invitation/FETCH_BEFORE":case vt:return{};case bt:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?da(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):da(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Invitation/SAVE_FAILURE":return t.payload.data&&void 0!==t.payload.data.message?[t.payload.data.message]:[];case ht:case"Invitation/SAVE_BEFORE":return[];default:return e}}}),fa=Object(o.c)({isSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Activation/SAVE_SUCCESS":return!0;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Activation/SAVE_SUCCESS":case"Activation/SAVE_FAILURE":return!1;case"Activation/SAVE_BEFORE":return!0;default:return e}}}),va=function(e){return Object(o.c)({router:Object(Qt.b)(e),App:Bt,Nav:Gt,Login:Mt,Profile:Wt,ProfileSecurity:ea,QRScanner:aa,PasswordReset:la,PasswordSet:ca,Invitation:ma,Activation:fa})},ha=a(13),Ea=a.n(ha),ba="production",ga={development:{host:"https://staff.nextfree.com.ua",storageHost:"http://0.0.0.0:8086",apiHost:"http://0.0.0.0:8081",gtm:{enabled:!1,id:"UA-154091628-3"}},production:{host:"https://staff.nextfree.com.ua",storageHost:"https://storage.nextfree.com.ua",apiHost:"https://api.nextfree.com.ua",gtm:{enabled:!0,id:"UA-154091628-3"}}};if(void 0===ga[ba])throw new Error("Missing parameters for ".concat(ba," environment"));var ya=ga[ba],wa=Object(p.a)(),Na=Object(l.a)(),Oa=[i.a,u.a,Na,Object(d.a)(wa)],_a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,Sa=f.a.get("locale");Sa||(Sa="ua");var ja=f.a.get("token"),Aa={App:{isAuthenticated:!!ja,isLoadingVisible:!!ja,token:ja,locale:Sa}},Ca=a(37),xa=a(23),ka=a(15),Ia=Object(ka.a)({isAuthenticated:function(e){return e.App.isAuthenticated},Nav:function(e){return e.Nav}}),Pa=Object(c.c)(Ia)(function(e){var t=function(){e.dispatch({type:"Login/TOGGLE_MENU",payload:!1})},a=e.isAuthenticated,r=e.Nav.isMobileMenuVisible;return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},n.a.createElement("a",{className:"navbar-brand py-0",href:"https://nextfree.com.ua"},g.t("navigation.logo"),n.a.createElement("br",null),n.a.createElement("small",{className:"text-info"},g.t("navigation.logo_footer"))),n.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:function(){var t=e.Nav.isMobileMenuVisible;e.dispatch({type:"Login/TOGGLE_MENU",payload:!t})}},n.a.createElement("i",{className:"fa fa-bars"})),n.a.createElement("div",{className:"navbar-collapse collapse"+(r?" show":"")},n.a.createElement("ul",{className:"navbar-nav mr-auto text-center"},a&&n.a.createElement("li",{className:"nav-item"},n.a.createElement(xa.a,{to:Q,className:"nav-link text-white",onClick:t},n.a.createElement("i",{className:"fa fa-camera"}),"\xa0",g.t("navigation.qr_scanner"))),a&&n.a.createElement("li",{className:"nav-item"},n.a.createElement(xa.a,{to:q,className:"nav-link text-white",onClick:t},n.a.createElement("i",{className:"fa fa-qrcode"}),"\xa0",g.t("navigation.qr"))),a&&n.a.createElement("li",{className:"nav-item"},n.a.createElement(xa.a,{to:T,className:"nav-link text-white",onClick:t},g.t("navigation.profile")))),n.a.createElement("ul",{className:"navbar-nav ml-auto text-center"},!a&&n.a.createElement("li",{className:"nav-item mx-1 mb-1 mb-lg-0"},n.a.createElement(xa.a,{className:"btn btn-outline-success",onClick:t,to:D},g.t("navigation.login"))),a&&n.a.createElement("li",{className:"nav-item mx-1 mb-1 mb-lg-0"},n.a.createElement("button",{className:"btn btn-outline-success",onClick:function(){e.dispatch({type:O})}},g.t("navigation.logout"))))))}),La=function(){return n.a.createElement("footer",{className:"position-absolute w-100 border-top py-5 mt-5"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row text-center"},n.a.createElement("div",{className:"col-12 col-md-6 col-lg-4"},n.a.createElement("a",{href:"https://nextfree.com.ua/privacy",className:"btn btn-link"},g.t("footer.privacy"))),n.a.createElement("div",{className:"col-12 col-md-6 col-lg-4"},n.a.createElement("a",{href:"mailto:nextfree.adm@gmail.com",className:"btn btn-link"},g.t("footer.contact"))))))},Ra=a(120),Va=a.n(Ra),Fa=Object(ka.a)({staff:function(e){return e.App.staff}}),Ua=Object(c.c)(Fa)(function(e){var t=e.staff.user,a=t.firstName,r=t.email;return n.a.createElement("div",{className:"container py-5 text-center"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("h1",{className:"mb-4"},g.t("home.welcome_title").replace("_NAME_",a||r))),n.a.createElement("div",{className:"col-11 col-md-8 col-lg-6 mx-auto"},n.a.createElement("img",{src:Va.a,alt:"",className:"img-fluid shadow mb-4"}),n.a.createElement(xa.a,{className:"btn btn-success btn-lg",to:Q},g.t("home.action")))))}),Da=a(17),Ta=a(16),Ha=a(21),qa=a(20),Qa=a(22),Ba=a(121),Ga=a.n(Ba),Ma=function(e){function t(){var e,a;Object(Da.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(Ha.a)(this,(e=Object(qa.a)(t)).call.apply(e,[this].concat(n)))).state={img:null},a}return Object(Qa.a)(t,e),Object(Ta.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.data;Ga.a.toDataURL(t).then(function(t){e.setState({img:t})})}},{key:"render",value:function(){var e=this.state.img;return n.a.createElement("div",{className:"qr-container text-center w-100"},e?n.a.createElement("img",{src:e,className:"img-fluid w-100",alt:""}):null)}}]),t}(n.a.PureComponent),Ya=Object(ka.a)({staff:function(e){return e.App.staff}}),Ka=Object(c.c)(Ya)(function(e){var t=e.staff,a=t._id,r=t.user,s=JSON.stringify({staff:a,user:r._id});return n.a.createElement("div",{className:"container py-5"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-11 col-md-8 col-lg-6 cpl-xl-5 mx-auto mb-4"},n.a.createElement(Ma,{data:s}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-center"},n.a.createElement("p",{className:"text-muted"},g.t("qr.help")))))}),za=a(65),Ja=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",r={};for(var n in t)if(t.hasOwnProperty(n))if("object"==typeof t[n]){var s=e(t[n]);for(var c in s)s.hasOwnProperty(c)&&(r[n+a+c]=s[c])}else r[n]=t[n];return r},Wa=function(e){return function(t,a){var r=a().App.token;t({type:"QRScanner/SAVE_BEFORE"}),Ea.a.post(ya.apiHost+"/api/v1/owner/users/".concat(e.userId,"/purchases"),e,{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:"QRScanner/SAVE_SUCCESS",payload:a,flatten:Ja(a)})}).catch(function(e){console.log(e),t({type:"QRScanner/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},Xa=a(78),Za=function(e){var t=e.errors;return 0===t.length?null:n.a.createElement("div",{className:"alert alert-danger"},t.map(function(e,t){return n.a.createElement("p",{key:t,className:"mb-0"},e)}))},$a=function(e){return function(t,a){var r=a().App.token;t({type:"QRScanner/FETCH_USER_BEFORE"}),Ea.a.get(ya.apiHost+"/api/v1/users/".concat(e),{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:"QRScanner/FETCH_USER_SUCCESS",payload:a,flatten:Ja(a)})}).catch(function(e){console.log(e),t({type:"QRScanner/FETCH_USER_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},er=function(){var e=Object(za.a)(w.a.mark(function e(){var t,a,r,n,s,c,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:t=e.sent,a=!0,r=!1,n=void 0,e.prev=7,s=t.getTracks()[Symbol.iterator]();case 9:if(a=(c=s.next()).done){e.next=22;break}return o=c.value,e.prev=11,e.next=14,o.stop();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),console.error(e.t0);case 19:a=!0,e.next=9;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(7),r=!0,n=e.t1;case 28:e.prev=28,e.prev=29,a||null==s.return||s.return();case 31:if(e.prev=31,!r){e.next=34;break}throw n;case 34:return e.finish(31);case 35:return e.finish(28);case 36:e.next=41;break;case 38:e.prev=38,e.t2=e.catch(0),console.error(e.t2);case 41:case"end":return e.stop()}},e,null,[[0,38],[7,24,28,36],[11,16],[29,,31,35]])}));return function(){return e.apply(this,arguments)}}();Xa.a.WORKER_PATH="/qr-scanner-worker.min.js";var tr=function(e){function t(e){var a;return Object(Da.a)(this,t),(a=Object(Ha.a)(this,Object(qa.a)(t).call(this,e))).htmlVideo=null,a.scanner=null,a.state={hasCamera:!0,hasCameraPermission:null},a.setDefaults=function(){a.props.dispatch({type:Lt})},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:It,payload:Object(v.a)({},e,t)})},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.onResult=function(e){var t=a.props.QRScanner.model.userId;if(console.log("decoded qr code:",e),e)try{var r=JSON.parse(e);if(!r||!r.user||r.user===t)return;a.change("userId",r.user),a.props.dispatch($a(r.user))}catch(n){console.log(n)}},a.purchase=function(){var e=a.props.QRScanner.model;a.props.dispatch(Wa(e))},a.isValid=function(){var e=a.props.QRScanner.model;return e.userId&&e.storeId&&e.companyId},a.renderStep3=function(){var e=a.props.QRScanner.model.user;return n.a.createElement("div",{className:"container-fluid fixed-bottom qr-toolbar"},n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-11 col-md-8 col-lg-6 mx-auto"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"text-center"},g.t("qr_scanner.purchase_title_1"),"\xa0",n.a.createElement("span",{className:"text-success"},e.lastName+" "+e.firstName),"\xa0",g.t("qr_scanner.purchase_title_2")),a.renderPurchaseForm())))))},a.renderStep2=function(){var e=a.props.QRScanner,t=e.isLoadingUser,r=e.serverErrors;return a.props.QRScanner.model.user?a.renderStep3():t?n.a.createElement("div",{className:"container-fluid fixed-bottom qr-toolbar"},n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-11 col-md-8 col-lg-6 mx-auto"},n.a.createElement("div",{className:"alert alert-secondary"},n.a.createElement("h4",{className:"m-0"},g.t("qr_scanner.searching")))))):n.a.createElement("div",{className:"container-fluid fixed-bottom qr-toolbar"},n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-11 col-md-8 col-lg-6 mx-auto text-center"},n.a.createElement("div",{className:"alert alert-danger"},n.a.createElement("h4",{className:"m-0"},r[0])),n.a.createElement("button",{className:"btn btn-warning mr-1 mb-1",onClick:a.setDefaults},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("qr_scanner.discard")))))},a.renderStep1=function(){return n.a.createElement("div",{className:"container-fluid fixed-bottom qr-toolbar"},n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-11 col-md-8 col-lg-6 mx-auto"},n.a.createElement("div",{className:"alert alert-warning"},n.a.createElement("h4",{className:"text-center"},g.t("qr_scanner.help")),n.a.createElement("p",{className:"m-0 text-center"},g.t("qr_scanner.help_subtitle")),a.state.hasCamera?null:n.a.createElement("div",{className:"text-danger mb-2"},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("qr_scanner.no_camera")),null===a.state.hasCameraPermission?n.a.createElement("div",{className:"text-muted mb-2"},n.a.createElement("i",{className:"fa fa-spin fa-circle-notch"}),"\xa0",g.t("qr_scanner.checking_camera_permission")):null,!1===a.state.hasCameraPermission?n.a.createElement("div",{className:"text-danger mb-2"},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("qr_scanner.no_camera_permission")):null))))},a.htmlVideo=n.a.createRef(),a}return Object(Qa.a)(t,e),Object(Ta.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setDefaults();try{Xa.a.hasCamera().then(function(t){if(e.setState({hasCamera:t}),t)try{e.scanner=new Xa.a(e.htmlVideo.current,e.onResult),e.scanner.start(),e.setState({hasCameraPermission:!0})}catch(a){console.log(a),e.setState({hasCameraPermission:!1})}})}catch(t){console.log(t),this.setState({hasCamera:!1,hasCameraPermission:!1})}}},{key:"componentWillUnmount",value:function(){var e=Object(za.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopScanner(),e.next=3,er();case 3:try{this.htmlVideo.current&&(this.htmlVideo.current.pause(),this.htmlVideo.current.srcObject=null)}catch(t){console.log(t)}this.props.dispatch({type:Pt});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"stopScanner",value:function(){if(this.scanner)try{this.scanner.destroy()}catch(e){console.log(e)}}},{key:"renderSuccess",value:function(){var e=this.props.QRScanner.purchase;if(!e)return null;if(e.isBonus){var t=e.buyer.user.lastName+" "+e.buyer.user.firstName;return n.a.createElement("div",{className:"container-fluid fixed-bottom qr-toolbar"},n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-11 col-md-8 col-lg-6 mx-auto"},n.a.createElement("div",{className:"alert alert-success text-center"},n.a.createElement("h4",null,g.t("qr_scanner.purchase_bonus_title")),n.a.createElement("p",null,g.t("qr_scanner.purchase_bonus_subtitle").replace("__NAME__",t)),n.a.createElement("button",{className:"btn btn-success",onClick:this.setDefaults},g.t("qr_scanner.again_action"))))))}return n.a.createElement("div",{className:"container-fluid fixed-bottom qr-toolbar"},n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-11 col-md-8 col-lg-6 mx-auto"},n.a.createElement("div",{className:"alert alert-light text-center"},n.a.createElement("h4",null,g.t("qr_scanner.purchase_success_title")),n.a.createElement("p",null,g.t("qr_scanner.purchase_success_subtitle")),n.a.createElement("button",{className:"btn btn-success",onClick:this.setDefaults},g.t("qr_scanner.again_action"))))))}},{key:"renderPurchaseForm",value:function(){var e=this.props.QRScanner,t=e.isLoading,a=e.serverErrors,r=this.isValid();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Za,{errors:a}),n.a.createElement("div",{className:"row text-center"},n.a.createElement("div",{className:"col-12 col-md-6 text-center text-md-left"},n.a.createElement("button",{className:"btn btn-outline-warning mr-1 mb-1",onClick:this.setDefaults},n.a.createElement("i",{className:"fa fa-times"}),"\xa0",g.t("qr_scanner.discard"))),n.a.createElement("div",{className:"col-12 col-md-6 text-center text-md-right"},n.a.createElement("button",{className:"btn "+(!r||t?"btn-outline-success":"btn-success"),onClick:this.purchase,disabled:!r||t},n.a.createElement("i",{className:"fa "+(t?"fa-spin fa-circle-notch":"fa-check")}),"\xa0",g.t("qr_scanner.purchase_action")))))}},{key:"render",value:function(){var e=this.props.QRScanner.isSuccess,t=!!this.props.QRScanner.model.userId;return n.a.createElement("div",{className:"w-100"},n.a.createElement("div",{className:"qr-stack"},n.a.createElement("div",{className:"qr-scanner-container text-center w-100"},n.a.createElement("video",{ref:this.htmlVideo,playsinline:!0,muted:!0,className:"img-fluid bg-secondary"})),n.a.createElement("div",{className:"qr-scanner-overlay"},n.a.createElement("table",{className:"qr-area "+(t?"has-result":"no-result")},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"has-border border-left border-top"}),n.a.createElement("td",null),n.a.createElement("td",{className:"has-border border-right border-top"})),n.a.createElement("tr",null,n.a.createElement("td",null),n.a.createElement("td",null),n.a.createElement("td",null)),n.a.createElement("tr",null,n.a.createElement("td",{className:"has-border border-left border-bottom"}),n.a.createElement("td",null),n.a.createElement("td",{className:"has-border border-right border-bottom"})))))),e?this.renderSuccess():null,e||t?null:this.renderStep1(),!e&&t?this.renderStep2():null)}}]),t}(n.a.PureComponent),ar=Object(ka.a)({QRScanner:function(e){return e.QRScanner}}),rr=Object(c.c)(ar)(tr);function nr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var sr=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nr(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nr(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return delete t.id,t},cr=function(e){return function(t,a){var r=a().App.token,n=sr(e);t({type:"Profile/SAVE_BEFORE"}),Ea.a.post(ya.apiHost+"/api/v1/staff/profile",n,{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:re,payload:a,flatten:Ja(a)})}).catch(function(e){console.log(e),t({type:ne,payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},or=(a(184),a(185),a(79)),lr=a.n(or),ir=a(97),ur=a.n(ir),dr=a(126),pr=function(e){function t(e){var a;return Object(Da.a)(this,t),(a=Object(Ha.a)(this,Object(qa.a)(t).call(this,e))).onChange=function(e){var t=null;e&&(t=ur()(e,"DD.MM.YYYY").format("YYYY-MM-DD")),a.props.onChange(t)},Object(or.registerLocale)("ua",dr.a),Object(or.setDefaultLocale)("ua"),a}return Object(Qa.a)(t,e),Object(Ta.a)(t,[{key:"render",value:function(){var e=this.props.value?ur()(this.props.value,"YYYY-MM-DD").format("DD.MM.YYYY"):"";return n.a.createElement(lr.a,Object.assign({locale:"ua",closeOnSelect:!0,showYearDropdown:!0,viewMode:"days",autoComplete:"off",placeholderText:g.t("placeholder.date"),className:"form-control"},this.props,{value:e,onChange:this.onChange}))}}]),t}(n.a.Component),mr=a(74),fr=a(100),vr=a.n(fr),hr=function(e){var t=e.src,a=n.a.useState(vr.a),r=Object(mr.a)(a,2),s=r[0],c=r[1];return n.a.useEffect(function(){t&&c(t)},[t]),n.a.createElement("div",{className:"avatar-container"},n.a.createElement("img",{src:s,onError:function(){return c(vr.a)},alt:"",className:"img-fluid"}))},Er=Object(ka.a)({Profile:function(e){return e.Profile}}),br=Object(c.c)(Er)(function(e){var t=e.Profile,a=t.isLoading,r=t.model;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"card text-center mb-2"},n.a.createElement("div",{className:"card-body"},n.a.createElement(hr,{src:r.user.avatar})),n.a.createElement("div",{className:"card-footer p-1"},n.a.createElement("label",{className:"btn btn-secondary btn-sm m-0"},n.a.createElement("i",{className:"fa fa-upload"}),"\xa0",g.t("profile.upload_action"),n.a.createElement("input",{type:"file",className:"d-none",onChange:function(t){var a=t.target.files[0];a&&(e.dispatch(function(e){return function(t){var a=new FormData;a.append("file",e),Ea.a.post(ya.storageHost+"/api/v1/media",a).then(function(e){var a=e.data;t({type:ce,payload:{"user.avatar":a.url}})}).catch(function(e){console.log(e)})}}(a)),t.target.value=null)},disabled:a})))),n.a.createElement("nav",{className:"bg-primary mb-4"},n.a.createElement(xa.a,{to:T,className:"btn btn-link btn-block text-left"},g.t("navigation.profile")),n.a.createElement(xa.a,{to:H,className:"btn btn-link btn-block text-left"},g.t("navigation.profile_security"))))}),gr=function(e){function t(){var e,a;Object(Da.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(Ha.a)(this,(e=Object(qa.a)(t)).call.apply(e,[this].concat(s)))).submit=function(){var e=a.props.Profile.model;a.props.dispatch(cr(e))},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:ce,payload:Object(v.a)({},e,t)})},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.changeDate=function(e){return function(t){return a.change(e,t)}},a.changePhone=function(e){return function(t){a.change(e,t.target.value.replace(/[^\d+]/g,""))}},a.getError=function(e){var t=a.props.Profile.validator.errors;return void 0===t[e]?null:n.a.createElement("small",{className:"feedback invalid-feedback d-block"},t[e])},a}return Object(Qa.a)(t,e),Object(Ta.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(function(e,t){var a=t().App.token;e({type:te}),Ea.a.get(ya.apiHost+"/api/v1/staff/profile",{headers:{Authorization:a}}).then(function(t){var a=t.data;e({type:ae,payload:a,flatten:Ja(a)})}).catch(function(t){e({type:"Profile/FETCH_FAILURE",payload:{status:t.response?t.response.status:0,data:t.response?t.response.data:null}})})})}},{key:"render",value:function(){var e=this.props.Profile,t=e.model,a=e.isValid,r=e.isLoading,s=e.serverErrors;return n.a.createElement("div",{className:"container-fluid my-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-4 col-lg-3"},n.a.createElement(br,null)),n.a.createElement("div",{className:"col-12 col-md-8 col-lg-9"},n.a.createElement(Za,{errors:s}),n.a.createElement("div",{className:"card shadow-sm mb-3"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},t.user.email),t.user.isAdmin?n.a.createElement("div",{className:"badge badge-danger"},n.a.createElement("i",{className:"fa fa-user"}),"\xa0",g.t("profile.admin_badge")):null),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},n.a.createElement("button",{className:"btn btn-success btn-sm",onClick:this.submit,disabled:r||!a},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",g.t("profile.action"))))),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("profile.firstName")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.firstName",className:"form-control",onChange:this.changeString("user.firstName"),value:t.user.firstName||""}),this.getError("user.firstName"))),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("profile.lastName")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.lastName",className:"form-control",onChange:this.changeString("user.lastName"),value:t.user.lastName||""}),this.getError("user.lastName")))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("profile.phone")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.phone",className:"form-control",onChange:this.changePhone("user.phone"),value:t.user.phone||""}),this.getError("user.phone"))),n.a.createElement("div",{className:"col-12 col-md-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("profile.birthday")),n.a.createElement(pr,{onChange:this.changeDate("user.birthday"),value:t.user.birthday||"",name:"user.birthday"}),this.getError("user.birthday"))))))))))}}]),t}(n.a.Component),yr=Object(ka.a)({Profile:function(e){return e.Profile}}),wr=Object(c.c)(yr)(gr),Nr=function(e){return function(t,a){var r=a().App.token;t({type:"ProfileSecurity/SAVE_BEFORE"}),Ea.a.post(ya.apiHost+"/api/v1/staff/security",e,{headers:{Authorization:r}}).then(function(e){var a=e.data;t({type:ye,payload:a})}).catch(function(e){console.log(e),t({type:"ProfileSecurity/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},Or=function(e){var t=Object(r.useState)("password"),a=Object(mr.a)(t,2),s=a[0],c=a[1];return n.a.createElement("div",{className:"input-group"},n.a.createElement("input",Object.assign({type:s,className:"form-control",placeholder:"*******"},e)),n.a.createElement("div",{className:"input-group-append"+(e.value?"":" d-none")},n.a.createElement("i",{className:"input-group-text fa "+("password"===s?"fa-eye":"fa-eye-slash"),onClick:function(){c("password"===s?"text":"password")}})))},_r=function(e){function t(){var e,a;Object(Da.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(Ha.a)(this,(e=Object(qa.a)(t)).call.apply(e,[this].concat(s)))).submit=function(){var e=a.props.ProfileSecurity.model,t=e.currentPassword,r=e.password1;a.props.dispatch(Nr({currentPassword:t,newPassword:r}))},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:Ne,payload:Object(v.a)({},e,t)})},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.getError=function(e){var t=a.props.ProfileSecurity.validator.errors;return void 0===t[e]?null:n.a.createElement("small",{className:"feedback invalid-feedback d-block"},t[e])},a}return Object(Qa.a)(t,e),Object(Ta.a)(t,[{key:"componentWillUnmount",value:function(){this.props.dispatch({type:Oe})}},{key:"render",value:function(){var e=this.props.ProfileSecurity,t=e.model,a=e.isLoading,r=e.isValid,s=e.serverErrors;return n.a.createElement("div",{className:"container-fluid my-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-4 col-lg-3"},n.a.createElement(br,null)),n.a.createElement("div",{className:"col-12 col-md-8 col-lg-9"},n.a.createElement(Za,{errors:s}),n.a.createElement("div",{className:"card shadow-sm mb-3"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"m-0"},g.t("profile.security_title"))),n.a.createElement("div",{className:"col-12 col-md-auto text-right"},n.a.createElement("button",{className:"btn btn-success btn-sm",onClick:this.submit,disabled:a||!r},n.a.createElement("i",{className:a?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",g.t("profile.action"))))),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-10 col-lg-6 mx-auto"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("profile.currentPassword")),n.a.createElement(Or,{name:"currentPassword",onChange:this.changeString("currentPassword"),value:t.currentPassword||""}),this.getError("currentPassword")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("profile.password1")),n.a.createElement(Or,{name:"password1",disabled:!t.currentPassword,onChange:this.changeString("password1"),value:t.password1||""}),this.getError("password1"),t.password1&&je.validate(t.password1)?n.a.createElement("small",{className:"feedback valid-feedback d-block"},g.t("validation.strong_password")):null),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("profile.password2")),n.a.createElement(Or,{name:"password2",disabled:!t.password1,onChange:this.changeString("password2"),value:t.password2||""}),this.getError("password2"))))))))))}}]),t}(n.a.Component),Sr=Object(ka.a)({ProfileSecurity:function(e){return e.ProfileSecurity}}),jr=Object(c.c)(Sr)(_r),Ar=function(e,t){return function(a){a({type:"PasswordSet/SAVE_BEFORE"}),Ea.a.post(ya.apiHost+"/api/v1/staff-password-set/".concat(e),t).then(function(e){var t=e.data;a({type:Te,payload:t})}).catch(function(e){console.log(e),a({type:"PasswordSet/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},Cr=function(e){function t(){var e,a;Object(Da.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(Ha.a)(this,(e=Object(qa.a)(t)).call.apply(e,[this].concat(s)))).submit=function(){var e=a.props.match.params.id;if(e){var t=a.props.PasswordSet.model.password1;a.props.dispatch(Ar(e,{password:t}))}},a.changeString=function(e){return function(t){a.props.dispatch({type:qe,payload:Object(v.a)({},e,t.target.value)})}},a.getError=function(e){var t=a.props.PasswordSet.validator.errors;return void 0===t[e]?null:n.a.createElement("small",{className:"feedback invalid-feedback d-block"},t[e])},a}return Object(Qa.a)(t,e),Object(Ta.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.dispatch(function(e){return function(t){e?(t({type:"PasswordSet/FETCH_BEFORE"}),Ea.a.get(ya.apiHost+"/api/v1/owner-password-set/".concat(e)).then(function(e){var a=e.data;t({type:"PasswordSet/FETCH_SUCCESS",payload:a})}).catch(function(e){console.log(e),t({type:"PasswordSet/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})):t({type:"PasswordSet/FETCH_FAILURE",payload:{}})}}(e))}},{key:"renderContent",value:function(){var e=this.props.PasswordSet,t=e.model,a=e.serverErrors,r=e.isValid,s=e.isLoading;return e.isTokenValid?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement(Za,{errors:a}),n.a.createElement("form",{noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"mb-1 required"},g.t("password_set.password1")),n.a.createElement(Or,{name:"password1",onChange:this.changeString("password1"),value:t.password1||""}),this.getError("password1"),t.password1&&je.validate(t.password1)?n.a.createElement("small",{className:"feedback valid-feedback d-block"},g.t("validation.strong_password")):null),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"mb-1 required"},g.t("password_set.password2")),n.a.createElement(Or,{name:"password2",onChange:this.changeString("password2"),value:t.password2||""}),this.getError("password2")),n.a.createElement("div",{className:"form-group text-right"},n.a.createElement("button",{className:"btn btn-success",onClick:this.submit,disabled:!r||s},n.a.createElement("i",{className:s?"fa fa-spin fa-circle-notch":"fa fa-lock"}),"\xa0",g.t("password_set.action")))))):n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"alert alert-danger text-center"},n.a.createElement("h3",null,g.t("password_set.not_found_title")),n.a.createElement("p",null,g.t("password_set.not_found_subtitle")),n.a.createElement(xa.a,{to:D,className:"btn btn-warning"},g.t("password_set.not_found_action")))))}},{key:"render",value:function(){return n.a.createElement("div",{className:"container py-5"},n.a.createElement("div",{className:"row no-gutters"},n.a.createElement("div",{className:"col-12 col-md-10 col-lg-8 col-xl-6 mx-auto"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"mb-4"},n.a.createElement("h2",{className:"h3"},g.t("password_set.title")),n.a.createElement("p",null,g.t("password_set.subtitle"))))),this.renderContent())))}}]),t}(n.a.Component),xr=Object(ka.a)({PasswordSet:function(e){return e.PasswordSet}}),kr=Object(c.c)(xr)(Cr),Ir=a(123),Pr=function(e){return function(t){t({type:"PasswordReset/SAVE_BEFORE"}),Ea.a.post(ya.apiHost+"/api/v1/staff-password-reset",e).then(function(e){var a=e.data;t({type:nt,payload:a})}).catch(function(e){console.log(e),t({type:"PasswordReset/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},Lr=function(e){function t(){var e,a;Object(Da.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(Ha.a)(this,(e=Object(qa.a)(t)).call.apply(e,[this].concat(n)))).submit=function(){var e=a.props.PasswordReset.model.email;a.props.dispatch(Pr({email:e}))},a.submitIfEnter=function(e){13===e.keyCode&&(a.isValid()&&a.submit())},a.onChangeIgnoreCase=function(e){return function(t){var r=t.target.value=t.target.value.toLowerCase();a.props.dispatch({type:st,payload:Object(v.a)({},e,r)})}},a.isValid=function(){var e=a.props.PasswordReset.model.email;return Object(Ir.validate)(e)},a}return Object(Qa.a)(t,e),Object(Ta.a)(t,[{key:"render",value:function(){var e=this.props.PasswordReset,t=e.model.email,a=e.serverErrors,r=e.isLoading,s=this.isValid();return n.a.createElement("div",{className:"container py-5"},n.a.createElement("div",{className:"row no-gutters"},n.a.createElement("div",{className:"col-12 col-md-10 col-lg-8 col-xl-6 mx-auto"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"mb-4"},n.a.createElement("h2",{className:"h3"},g.t("password_reset.title")),n.a.createElement("p",null,g.t("password_reset.subtitle"))))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement(Za,{errors:a}),n.a.createElement("form",{noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:g.t("password_reset.placeholder"),onChange:this.onChangeIgnoreCase("email"),onKeyDown:this.submitIfEnter,value:t||""})),n.a.createElement("div",{className:"form-group text-right"},n.a.createElement("button",{className:"btn btn-success",onClick:this.submit,disabled:!s||r},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-lock"}),"\xa0",g.t("password_reset.action")))))))))}}]),t}(n.a.Component),Rr=Object(ka.a)({PasswordReset:function(e){return e.PasswordReset}}),Vr=Object(c.c)(Rr)(Lr),Fr=function(e,t){return function(a){var r=function(e){var t=JSON.parse(JSON.stringify(e));return delete t.id,t.password1&&(t.user.password=t.password1),delete t.password1,delete t.password2,delete t.hasAccepted,t}(t);a({type:"Invitation/SAVE_BEFORE"}),Ea.a.post(ya.apiHost+"/api/v1/invitation/".concat(e,"/accept"),r).then(function(e){var t=e.data;a({type:ht,payload:t,flatten:Ja(t)})}).catch(function(e){console.log(e),a({type:"Invitation/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},Ur=function(){return n.a.createElement("div",{className:"text-center py-5"},n.a.createElement("img",{src:"/img/loading.gif",alt:"Loading...",width:100}))},Dr=function(e){function t(){var e,a;Object(Da.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(Ha.a)(this,(e=Object(qa.a)(t)).call.apply(e,[this].concat(s)))).submit=function(){var e=a.props.match.params.id,t=a.props.Invitation.model;a.props.dispatch(Fr(e,t))},a.onChangeCheckbox=function(e){return function(t){a.props.dispatch({type:bt,payload:Object(v.a)({},e,t.target.checked)})}},a.change=function(e,t){a.props.dispatch({type:bt,payload:Object(v.a)({},e,t)})},a.changeString=function(e){return function(t){a.change(e,t.target.value)}},a.changeDate=function(e){return function(t){return a.change(e,t)}},a.changePhone=function(e){return function(t){a.change(e,t.target.value.replace(/[^\d+]/g,""))}},a.getError=function(e){var t=a.props.Invitation.validator.errors;return void 0===t[e]?null:n.a.createElement("small",{className:"feedback invalid-feedback d-block m-0"},t[e])},a}return Object(Qa.a)(t,e),Object(Ta.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e&&this.props.dispatch(function(e){return function(t){t({type:"Invitation/FETCH_BEFORE"}),Ea.a.get(ya.apiHost+"/api/v1/invitation/".concat(e)).then(function(e){var a=e.data;t({type:vt,payload:a,flatten:Ja(a)})}).catch(function(e){t({type:"Invitation/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}}(e))}},{key:"renderProfile",value:function(){var e=this.props.Invitation.model;return n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"card-title"},g.t("invitation.staff_title")),n.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},g.t("invitation.staff_subtitle")),n.a.createElement("h4",null,e.user.email),n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("invitation.firstName")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.firstName",className:"form-control",onChange:this.changeString("user.firstName"),value:e.user.firstName||""}),this.getError("user.firstName")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("invitation.lastName")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.lastName",className:"form-control",onChange:this.changeString("user.lastName"),value:e.user.lastName||""}),this.getError("user.lastName")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("invitation.phone")),n.a.createElement("input",{type:"text",placeholder:g.t("placeholder.text"),name:"user.phone",className:"form-control",onChange:this.changePhone("user.phone"),value:e.user.phone||""}),this.getError("user.phone")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0"},g.t("invitation.birthday")),n.a.createElement(pr,{onChange:this.changeDate("user.birthday"),value:e.user.birthday||"",name:"user.birthday"}),this.getError("user.birthday")))))}},{key:"renderSecurity",value:function(){var e=this.props.Invitation.model;return n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"card-title"},g.t("invitation.security_title")),n.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},g.t("invitation.security_subtitle")),n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("invitation.password1")),n.a.createElement(Or,{name:"password1",onChange:this.changeString("password1"),value:e.password1||""}),this.getError("password1"),e.password1&&je.validate(e.password1)?n.a.createElement("small",{className:"feedback valid-feedback d-block"},g.t("validation.strong_password")):null),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"m-0 required"},g.t("invitation.password2")),n.a.createElement(Or,{name:"password2",onChange:this.changeString("password2"),value:e.password2||""}),this.getError("password2")))))}},{key:"renderContent",value:function(){var e=this.props.Invitation,t=e.model,a=e.isValid,r=e.isLoading,s=e.isInvitationSuccess;return t.id?s?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-10 col-lg-6 mx-auto"},n.a.createElement("div",{className:"alert alert-success text-center"},n.a.createElement("h3",null,g.t("invitation.success_title")),n.a.createElement("p",null,g.t("invitation.success_subtitle")),n.a.createElement(xa.a,{to:D,className:"btn btn-warning"},g.t("invitation.success_action"))))):n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"mb-3"},g.t("invitation.already_have_account"),"\xa0",n.a.createElement(xa.a,{to:D,className:"text-info"},g.t("invitation.already_have_account_action"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-lg-6"},this.renderProfile()),n.a.createElement("div",{className:"col-12 col-lg-6"},this.renderSecurity())),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"alert alert-light"},n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",checked:t.hasAccepted,name:"hasAccepted",onChange:this.onChangeCheckbox("hasAccepted")}),"\xa0",g.t("invitation.terms_and_conditions")),"\xa0",n.a.createElement("a",{href:"https://nextfree.com.ua/privacy",rel:"noopener noreferrer",target:"_blank"},g.t("invitation.privacy_link")),this.getError("owner.hasAccepted"))),n.a.createElement("div",{className:"col-12 text-center"},n.a.createElement("button",{className:"btn btn-success btn-lg",onClick:this.submit,disabled:r||!a},n.a.createElement("i",{className:r?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",g.t("invitation.save_action"))))):r?n.a.createElement(Ur,null):n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-10 col-lg-6 mx-auto"},n.a.createElement("div",{className:"alert alert-danger text-center"},n.a.createElement("h3",null,g.t("invitation.not_found_title")),n.a.createElement("p",null,g.t("invitation.not_found_subtitle")),n.a.createElement(xa.a,{to:D,className:"btn btn-warning"},g.t("invitation.not_found_action")))))}},{key:"render",value:function(){var e=this.props.Invitation.serverErrors;return n.a.createElement("div",{className:"container py-5"},n.a.createElement("div",{className:"row no-gutters"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"row mb-5"},n.a.createElement("div",{className:"col-12"},n.a.createElement("h2",{className:"h3"},g.t("invitation.title")),n.a.createElement("p",{className:"m-0"},g.t("invitation.subtitle")))),n.a.createElement(Za,{errors:e}),this.renderContent())))}}]),t}(n.a.Component),Tr=Object(ka.a)({Invitation:function(e){return e.Invitation}}),Hr=Object(Ca.g)(Object(c.c)(Tr)(Dr)),qr=function(e){function t(){return Object(Da.a)(this,t),Object(Ha.a)(this,Object(qa.a)(t).apply(this,arguments))}return Object(Qa.a)(t,e),Object(Ta.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e&&this.props.dispatch(function(e){return function(t){t({type:"Activation/SAVE_BEFORE"}),Ea.a.post(ya.apiHost+"/api/v1/staff-activation/".concat(e)).then(function(e){var a=e.data;t({type:"Activation/SAVE_SUCCESS",payload:a})}).catch(function(e){console.log(e),t({type:"Activation/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}}(e))}},{key:"renderContent",value:function(){var e=this.props.Activation,t=e.isSuccess;return e.isLoading?n.a.createElement(Ur,null):t?n.a.createElement("div",{className:"alert alert-success text-center"},n.a.createElement("h3",null,g.t("activation.success_title")),n.a.createElement("p",null,g.t("activation.success_subtitle")),n.a.createElement(xa.a,{to:D,className:"btn btn-warning"},g.t("activation.success_action"))):n.a.createElement("div",{className:"alert alert-danger text-center"},n.a.createElement("h3",null,g.t("activation.not_found_title")),n.a.createElement("p",null,g.t("activation.not_found_subtitle")),n.a.createElement(xa.a,{to:D,className:"btn btn-warning"},g.t("activation.not_found_action")))}},{key:"render",value:function(){return n.a.createElement("div",{className:"container py-5"},n.a.createElement("div",{className:"row no-gutters"},n.a.createElement("div",{className:"col-12 col-md-10 col-lg-8 col-xl-6 mx-auto"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"mb-4"},n.a.createElement("h2",{className:"h3"},g.t("activation.title"))))),this.renderContent())))}}]),t}(n.a.Component),Qr=Object(ka.a)({Activation:function(e){return e.Activation}}),Br=Object(Ca.g)(Object(c.c)(Qr)(qr)),Gr=a(33),Mr=function(e){function t(){var e,a;Object(Da.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(Ha.a)(this,(e=Object(qa.a)(t)).call.apply(e,[this].concat(n)))).state={hasError:!1},a}return Object(Qa.a)(t,e),Object(Ta.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t),Gr.a(e)}},{key:"render",value:function(){return this.state.hasError?n.a.createElement("div",{className:"error-container p-3 text-center"},n.a.createElement("h3",null,g.t("view_error.title")),n.a.createElement("h4",null,g.t("view_error.subtitle"))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(n.a.PureComponent),Yr=function(e,t){return function(a){a({type:"Login/LOGIN_BEFORE"}),Ea.a.post(ya.apiHost+"/api/v1/login-staff",{email:e,password:t}).then(function(e){var t=e.data;a({type:_,payload:t})}).catch(function(e){console.log(e),a({type:S,payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},Kr=function(e){function t(){var e,a;Object(Da.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(Ha.a)(this,(e=Object(qa.a)(t)).call.apply(e,[this].concat(n)))).submit=function(){var e=a.props.Login,t=e.email,r=e.password;a.props.dispatch(Yr(t,r))},a.submitIfEnter=function(e){13===e.keyCode&&(a.props.Login.isValid&&a.submit())},a.onChange=function(e){return function(t){a.props.dispatch({type:C,payload:Object(v.a)({},e,t.target.value)})}},a.onChangeIgnoreCase=function(e){return function(t){var r=t.target.value=t.target.value.toLowerCase();a.props.dispatch({type:C,payload:Object(v.a)({},e,r)})}},a}return Object(Qa.a)(t,e),Object(Ta.a)(t,[{key:"render",value:function(){var e=this.props.Login,t=e.email,a=e.password,r=e.isValid,s=e.errors,c=e.isLoading;return n.a.createElement("div",{className:"container py-5"},n.a.createElement("div",{className:"row no-gutters"},n.a.createElement("div",{className:"col-12 col-md-10 col-lg-8 col-xl-6 mx-auto"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"mb-4"},n.a.createElement("h2",{className:"h3"},g.t("login.title")),n.a.createElement("p",null,g.t("login.subtitle"))))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement(Za,{errors:s}),n.a.createElement("form",{noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",className:"form-control",name:"login",placeholder:g.t("login.placeholder"),onChange:this.onChangeIgnoreCase("email"),onKeyDown:this.submitIfEnter,value:t||""})),n.a.createElement("div",{className:"form-group"},n.a.createElement(Or,{name:"password",onChange:this.onChange("password"),onKeyDown:this.submitIfEnter,value:a||""})),n.a.createElement("div",{className:"form-group text-right"},n.a.createElement(xa.a,{to:B,className:"btn mr-1 btn-outline-warning"},n.a.createElement("i",{className:"fa fa-key"}),"\xa0",g.t("login.reset_password")),n.a.createElement("button",{className:"btn btn-success",onClick:this.submit,disabled:!r||c},n.a.createElement("i",{className:c?"fa fa-spin fa-circle-notch":"fa fa-lock"}),"\xa0",g.t("login.action")))))))))}}]),t}(n.a.Component),zr=Object(ka.a)({Login:function(e){return e.Login}}),Jr=Object(c.c)(zr)(Kr),Wr=Object(ka.a)({isLoadingVisible:function(e){return e.App.isLoadingVisible},isAuthenticated:function(e){return e.App.isAuthenticated}}),Xr=Object(c.c)(Wr)(function(e){var t=e.children,a=e.isAuthenticated;return e.isLoadingVisible?n.a.createElement(Ur,null):a?t:n.a.createElement(Jr,null)});a(230),a(231),a(232),a(233),a(234);var Zr=a(248),$r=a(125),en=a.n($r);Zr.a({dsn:"https://0322a85cb1c847e7981ac15d8979f612@sentry.io/1839632"}),Gr.b("domain","staff.nextfree.com.ua");try{ya.gtm.enabled&&en.a.initialize({gtmId:ya.gtm.id})}catch(nn){console.log(nn)}var tn=document.getElementById("root");try{var an=function(){var e,t,a=Object(o.e)(va(wa),Aa,_a(o.a.apply(void 0,Oa)));return Na.run(qt),b[e=Sa]||(e=Object.keys(b)[0]),E.a.fallbacks=!0,E.a.translations=Object(v.a)({},e,b[e]()),E.a.locale=e,E.a.missingTranslation=function(e){return e},ja&&a.dispatch((t={token:ja},function(e){e({type:"Login/LOGIN_CHECK_BEFORE"}),Ea.a.post(ya.apiHost+"/api/v1/login-check-staff",null,{headers:{Authorization:t.token}}).then(function(t){var a=t.data;e({type:j,payload:a})}).catch(function(t){console.log(t),e({type:A,payload:{status:t.response?t.response.status:0,data:t.response?t.response.data:null}})})})),a}(),rn=n.a.createElement(c.a,{store:an},n.a.createElement(Qt.a,{history:wa},n.a.createElement(n.a.Fragment,null,n.a.createElement(Pa,null),n.a.createElement("main",{id:"main-content"},n.a.createElement(Mr,null,n.a.createElement(Ca.d,null,n.a.createElement(Ca.b,{path:G,component:kr}),n.a.createElement(Ca.b,{exact:!0,path:B,component:Vr}),n.a.createElement(Ca.b,{path:M,component:Hr}),n.a.createElement(Ca.b,{path:Y,component:Br})),n.a.createElement(Xr,null,n.a.createElement(Ca.d,null,n.a.createElement(Ca.b,{exact:!0,path:D,component:Ua}),n.a.createElement(Ca.b,{exact:!0,path:q,component:Ka}),n.a.createElement(Ca.b,{exact:!0,path:Q,component:rr}),n.a.createElement(Ca.b,{exact:!0,path:T,component:wr}),n.a.createElement(Ca.b,{exact:!0,path:H,component:jr}),n.a.createElement(Ca.a,{path:"*",to:D}))))),n.a.createElement(La,null),n.a.createElement("div",{className:"notification-container"},n.a.createElement(fe.a,null)))));Object(s.render)(rn,tn)}catch(nn){console.error(nn),Gr.a(nn),window.location.reload()}}},[[129,1,2]]]);
//# sourceMappingURL=main.29707311.chunk.js.map